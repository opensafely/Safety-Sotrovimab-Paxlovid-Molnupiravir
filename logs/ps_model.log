--------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSafely\Safety mAB and antivirals\Safety-Sotrovimab-Paxlovid-Molnupiravir
> /logs/ps_model.log
  log type:  text
 opened on:  31 Oct 2023, 13:03:41

. 
. *Set Ado file path
. adopath + "$projectdir/analysis/ado"
  [1]  (BASE)      "C:\Program Files\Stata17\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata17\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "C:\users\PUBLIC\documents/"
  [5]  (PLUS)      "C:\users\PUBLIC\documents/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSafely\Safety mAB and antivirals\Safety-Sotrovimab-Paxlovid-Molnu
> piravir/analysis/ado"

. 
. * SET Index date 
. global indexdate                        = "01/03/2020"

. 
. use "$projectdir/output/data/main", clear

. 
. 
. * Models
. global agesex   age i.sex

. global adj              age i.sex i.region_nhs i.imdq5 i.ethnicity 1b.bmi_group ///
>                                 paxlovid_contraindicated i.vaccination_status diabetes chronic_cardiac_disease chronic_respiratory_disease hyper
> tension ///
>                             downs_syndrome solid_cancer haem_disease renal_disease liver_disease imid_on_drug immunosuppression hiv_aids organ_t
> ransplant rare_neuro  

. global adj2     age i.sex i.region_nhs i.imdq5 i.ethnicity 1b.bmi_group 

. global adj3     age i.sex i.region_nhs i.imdq5 i.ethnicity 1b.bmi_group ///
>                                 paxlovid_contraindicated i.vaccination_status diabetes chronic_cardiac_disease chronic_respiratory_disease hyper
> tension         

. global adj4     age i.sex i.region_nhs i.imdq5 White 1b.bmi_group ///
>                                 paxlovid_contraindicated i.vaccination_status diabetes chronic_cardiac_disease chronic_respiratory_disease hyper
> tension ///
>                                 dementia care_home serious_mental_illness                               

.                                 
.                                 
. * Balance
. global bal_agesex       age sex

. global bal_adj          age sex region_nhs imdq5 ethnicity  bmi_group ///
>                                         paxlovid_contraindicated vaccination_status diabetes chronic_cardiac_disease chronic_respiratory_disease
>  hypertension ///
>                                         downs_syndrome solid_cancer haem_disease renal_disease liver_disease imid_on_drug immunosuppression hiv_
> aids organ_transplant rare_neuro  

. global bal_adj2         age sex region_nhs imdq5 ethnicity bmi_group 

. global bal_adj3         age sex region_nhs imdq5 ethnicity bmi_group ///
>                                         paxlovid_contraindicated vaccination_status diabetes chronic_cardiac_disease chronic_respiratory_disease
>  hypertension   

. global bal_adj4         age sex region_nhs imdq5 ethnicity  bmi_group ///
>                                         paxlovid_contraindicated vaccination_status diabetes chronic_cardiac_disease chronic_respiratory_disease
>  hypertension ///
>                                         dementia care_home serious_mental_illness                               

. 
. * Outcome
. global ae_disease                       ae_diverticulitis                               ///
>                                                         ae_diarrhoea                                    ///
>                                                         ae_taste                                                ///
>                                                         ae_rash                                                 ///
>                                                         ae_bronchospasm                                 ///
>                                                         ae_contactderm                                  ///
>                                                         ae_dizziness                                    ///
>                                                         ae_nausea_vomit                                 ///
>                                                         ae_headache                                             ///
>                                                         ae_anaphylaxis                                  ///
>                                                         ae_drugreaction                                 ///
>                                                         ae_ra                                                   ///
>                                                         ae_sle                                                  ///
>                                                         ae_psorasis                                     ///
>                                                         ae_psa                                                  ///
>                                                         ae_axspa                                                

.                                                         
.                                                         //ae_ibd
. global ae_disease_serious       ae_diverticulitis_serious               ///
>                                                         ae_diarrhoea_serious                    ///
>                                                         ae_taste_serious                                ///
>                                                         ae_rash_serious                                 ///
>                                                         ae_contactderm_serious                  ///
>                                                         ae_dizziness_serious                    ///
>                                                         ae_nausea_vomit_serious                 ///
>                                                         ae_headache_serious                             ///
>                                                         ae_anaphylaxis_serious                  ///
>                                                         ae_drugreaction_serious                 ///
>                                                         ae_ra_serious                                   ///
>                                                         ae_sle_serious                                  ///
>                                                         ae_psorasis_serious                     ///
>                                                         ae_psa_serious                                  ///
>                                                         ae_axspa_serious                                ///
>                                                         ae_ibd_serious

. global ae_combined                      ae_all                                                  ///
>                                                         ae_all_serious                                  ///
>                                                         ae_spc_all                                              ///
>                                                         ae_spc_serious                                  ///
>                                                         ae_drug_all                                             ///
>                                                         ae_drug_serious                                 ///
>                                                         ae_imae_all                                             ///     
>                                                         ae_imae_serious                                                 

.                                                                                         
.         
. ** Hazard of events                                                                             
. ****************************************************************************************************************
. *1. Individual drug V No Drug
.         
. // SOTROVIMAB //
. tempname coxoutput_propensity_sot

. postfile `coxoutput_propensity_sot' str20(model) str20(fail)  ///
>                                                                         hr_sot lc_sot uc_sot ///
>                                                                         using "$projectdir/output/tables/cox_propensity_sot", replace   

. preserve

.                 keep if drug==0 | drug==1
(20,261 observations deleted)

.                 foreach model in agesex adj adj2 adj3 adj4 {
  2.                         logistic drug $`model'          
  3.                         predict p_drug_`model'  
  4.                         
.                         twoway  (histogram p_drug_`model' if drug==1, color(green)) (histogram p_drug_`model' if drug==0, fcolor(none) lcolor(bl
> ack)), ///
>                                         legend(order(1 "No Drug" 2 "Sotrovimab")) name(histogram_sot`model', replace) saving("$projectdir/output
> /figures/histogram_sot_`model'", replace)
  5.                                         
.                         gen iptw_`model' = 1/p_drug_`model' if drug==1
  6.                         replace iptw_`model'  = 1/(1-p_drug_`model') if drug==0
  7.                         
.                         foreach fail in $ae_group $ae_disease {
  8.                                         stset stop_`fail' [pw=iptw_`model'], id(patient_id) origin(time start_date) enter(time start_date) fa
> ilure(fail_`fail'==1) 
  9.                                         stcox i.drug, vce(robust)
 10.                                                                         matrix b = r(table)
 11.                                                                         local hr_sot = b[1,2]
 12.                                                                         local lc_sot = b[5,2]
 13.                                                                         local uc_sot = b[6,2]
 14.                                         post `coxoutput_propensity_sot' ("`fail'") ("`model'") (`hr_sot') (`lc_sot') (`uc_sot') 
 15.                 }               
 16.                 }

Logistic regression                                     Number of obs = 36,569
                                                        LR chi2(2)    =   0.05
                                                        Prob > chi2   = 0.9771
Log likelihood = -21635.038                             Pseudo R2     = 0.0000

------------------------------------------------------------------------------
        drug | Odds ratio   Std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
         age |   1.000127   .0006153     0.21   0.836     .9989218    1.001334
             |
         sex |
     Female  |   .9986082   .0233018    -0.06   0.952     .9539662    1.045339
       _cons |   .3840677    .013233   -27.77   0.000     .3589879    .4108996
------------------------------------------------------------------------------
Note: _cons estimates baseline odds.
(option pr assumed; Pr(drug))
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSafely\Safety mAB and antivirals\Safety-Sotrovimab-Paxlovid-Molnupiravir/output/
> figures/histogram_sot_agesex.gph saved
(26,381 missing values generated)
(26,381 real changes made)

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_diverticulitis==1
Observed time interval: (stop_ae_diverticulitis[_n-1], stop_ae_diverticulitis]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_agesex]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,162  observations end on or before enter()
--------------------------------------------------------------------------
     14,373  observations remaining, representing
     14,373  subjects
      1,008  failures in single-failure-per-subject data
    395,379  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_diverticulitis==1
   Analysis time _t: (stop_ae_diverticulitis-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_agesex]

(sum of wgt is 27,099.5396621227)
Iteration 0:   log pseudolikelihood =  -19156.62
Iteration 1:   log pseudolikelihood = -19156.461
Iteration 2:   log pseudolikelihood = -19156.461
Refining estimates:
Iteration 0:   log pseudolikelihood = -19156.461

Cox regression with Breslow method for ties

No. of subjects =      27,100                           Number of obs = 14,373
No. of failures =       1,887
Time at risk    = 743,856.615
                                                        Wald chi2(1)  =   0.12
Log pseudolikelihood = -19156.461                       Prob > chi2   = 0.7293

                        (Std. err. adjusted for 14,373 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .9740671   .0739549    -0.35   0.729     .8393873    1.130356
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_diarrhoea==1
Observed time interval: (stop_ae_diarrhoea[_n-1], stop_ae_diarrhoea]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_agesex]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,032  observations end on or before enter()
--------------------------------------------------------------------------
     14,503  observations remaining, representing
     14,503  subjects
      1,049  failures in single-failure-per-subject data
  398,367.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_diarrhoea==1
   Analysis time _t: (stop_ae_diarrhoea-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_agesex]

(sum of wgt is 27,176.3054111004)
Iteration 0:   log pseudolikelihood = -19823.087
Iteration 1:   log pseudolikelihood = -19822.983
Iteration 2:   log pseudolikelihood = -19822.983
Refining estimates:
Iteration 0:   log pseudolikelihood = -19822.983

Cox regression with Breslow method for ties

No. of subjects =      27,176                           Number of obs = 14,503
No. of failures =       1,952
Time at risk    = 744,364.502
                                                        Wald chi2(1)  =   0.08
Log pseudolikelihood = -19822.983                       Prob > chi2   = 0.7803

                        (Std. err. adjusted for 14,503 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .9792855   .0734736    -0.28   0.780     .8453676    1.134418
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_taste==1
Observed time interval: (stop_ae_taste[_n-1], stop_ae_taste]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_agesex]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     18,875  observations end on or before enter()
--------------------------------------------------------------------------
     16,660  observations remaining, representing
     16,660  subjects
        863  failures in single-failure-per-subject data
 460,602.75  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_taste==1
   Analysis time _t: (stop_ae_taste-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_agesex]

(sum of wgt is 31,036.5653194189)
Iteration 0:   log pseudolikelihood = -16059.479
Iteration 1:   log pseudolikelihood = -16055.553
Iteration 2:   log pseudolikelihood = -16055.553
Refining estimates:
Iteration 0:   log pseudolikelihood = -16055.553

Cox regression with Breslow method for ties

No. of subjects =      31,037                           Number of obs = 16,660
No. of failures =       1,560
Time at risk    = 856,272.882
                                                        Wald chi2(1)  =   2.83
Log pseudolikelihood = -16055.553                       Prob > chi2   = 0.0927

                        (Std. err. adjusted for 16,660 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .8646603    .074794    -1.68   0.093     .7298199    1.024414
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_rash==1
Observed time interval: (stop_ae_rash[_n-1], stop_ae_rash]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_agesex]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,053  observations end on or before enter()
--------------------------------------------------------------------------
     14,482  observations remaining, representing
     14,482  subjects
      1,045  failures in single-failure-per-subject data
 398,279.75  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_rash==1
   Analysis time _t: (stop_ae_rash-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_agesex]

(sum of wgt is 27,211.0341852903)
Iteration 0:   log pseudolikelihood = -19703.298
Iteration 1:   log pseudolikelihood =   -19702.7
Iteration 2:   log pseudolikelihood =   -19702.7
Refining estimates:
Iteration 0:   log pseudolikelihood =   -19702.7

Cox regression with Breslow method for ties

No. of subjects =      27,211                           Number of obs = 14,482
No. of failures =       1,940
Time at risk    = 746,844.672
                                                        Wald chi2(1)  =   0.45
Log pseudolikelihood = -19702.7                         Prob > chi2   = 0.5043

                        (Std. err. adjusted for 14,482 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .9509148   .0716732    -0.67   0.504     .8203215    1.102298
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_bronchospasm==1
Observed time interval: (stop_ae_bronchospasm[_n-1], stop_ae_bronchospasm]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_agesex]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     15,943  observations end on or before enter()
--------------------------------------------------------------------------
     19,592  observations remaining, representing
     19,592  subjects
        491  failures in single-failure-per-subject data
 547,792.25  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_bronchospasm==1
   Analysis time _t: (stop_ae_bronchospasm-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_agesex]

(sum of wgt is 36,323.3879746199)
Iteration 0:   log pseudolikelihood = -9610.9979
Iteration 1:   log pseudolikelihood = -9610.6611
Iteration 2:   log pseudolikelihood = -9610.6611
Refining estimates:
Iteration 0:   log pseudolikelihood = -9610.6611

Cox regression with Breslow method for ties

No. of subjects =      36,323                           Number of obs = 19,592
No. of failures =         918
Time at risk    = 1,013,499.1
                                                        Wald chi2(1)  =   0.25
Log pseudolikelihood = -9610.6611                       Prob > chi2   = 0.6140

                        (Std. err. adjusted for 19,592 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.056448   .1150318     0.50   0.614     .8534238    1.307771
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_contactderm==1
Observed time interval: (stop_ae_contactderm[_n-1], stop_ae_contactderm]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_agesex]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,099  observations end on or before enter()
--------------------------------------------------------------------------
     14,436  observations remaining, representing
     14,436  subjects
      1,008  failures in single-failure-per-subject data
  396,978.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_contactderm==1
   Analysis time _t: (stop_ae_contactderm-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_agesex]

(sum of wgt is 27,079.0796340704)
Iteration 0:   log pseudolikelihood = -19085.141
Iteration 1:   log pseudolikelihood = -19085.046
Iteration 2:   log pseudolikelihood = -19085.046
Refining estimates:
Iteration 0:   log pseudolikelihood = -19085.046

Cox regression with Breslow method for ties

No. of subjects =      27,079                           Number of obs = 14,436
No. of failures =       1,880
Time at risk    = 743,308.921
                                                        Wald chi2(1)  =   0.07
Log pseudolikelihood = -19085.046                       Prob > chi2   = 0.7893

                        (Std. err. adjusted for 14,436 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .9798344   .0747013    -0.27   0.789     .8438362    1.137751
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_dizziness==1
Observed time interval: (stop_ae_dizziness[_n-1], stop_ae_dizziness]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_agesex]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,224  observations end on or before enter()
--------------------------------------------------------------------------
     14,311  observations remaining, representing
     14,311  subjects
      1,041  failures in single-failure-per-subject data
 393,581.75  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_dizziness==1
   Analysis time _t: (stop_ae_dizziness-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_agesex]

(sum of wgt is 26,760.4952170849)
Iteration 0:   log pseudolikelihood = -19794.281
Iteration 1:   log pseudolikelihood = -19794.129
Iteration 2:   log pseudolikelihood = -19794.129
Refining estimates:
Iteration 0:   log pseudolikelihood = -19794.129

Cox regression with Breslow method for ties

No. of subjects =      26,760                           Number of obs = 14,311
No. of failures =       1,952
Time at risk    = 734,215.949
                                                        Wald chi2(1)  =   0.11
Log pseudolikelihood = -19794.129                       Prob > chi2   = 0.7347

                        (Std. err. adjusted for 14,311 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.025552    .076369     0.34   0.735     .8862824    1.186707
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_nausea_vomit==1
Observed time interval: (stop_ae_nausea_vomit[_n-1], stop_ae_nausea_vomit]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_agesex]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     18,897  observations end on or before enter()
--------------------------------------------------------------------------
     16,638  observations remaining, representing
     16,638  subjects
        795  failures in single-failure-per-subject data
    461,479  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_nausea_vomit==1
   Analysis time _t: (stop_ae_nausea_vomit-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_agesex]

(sum of wgt is 30,961.6711214781)
Iteration 0:   log pseudolikelihood = -15203.747
Iteration 1:   log pseudolikelihood = -15203.745
Iteration 2:   log pseudolikelihood = -15203.745
Refining estimates:
Iteration 0:   log pseudolikelihood = -15203.745

Cox regression with Breslow method for ties

No. of subjects =      30,962                           Number of obs = 16,638
No. of failures =       1,477
Time at risk    = 856,489.559
                                                        Wald chi2(1)  =   0.00
Log pseudolikelihood = -15203.745                       Prob > chi2   = 0.9739

                        (Std. err. adjusted for 16,638 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.002829   .0866842     0.03   0.974     .8465438    1.187968
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_headache==1
Observed time interval: (stop_ae_headache[_n-1], stop_ae_headache]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_agesex]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,091  observations end on or before enter()
--------------------------------------------------------------------------
     14,444  observations remaining, representing
     14,444  subjects
      1,021  failures in single-failure-per-subject data
  396,971.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_headache==1
   Analysis time _t: (stop_ae_headache-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_agesex]

(sum of wgt is 27,028.4903936386)
Iteration 0:   log pseudolikelihood =  -19357.69
Iteration 1:   log pseudolikelihood = -19357.688
Iteration 2:   log pseudolikelihood = -19357.688
Refining estimates:
Iteration 0:   log pseudolikelihood = -19357.688

Cox regression with Breslow method for ties

No. of subjects =      27,028                           Number of obs = 14,444
No. of failures =       1,907
Time at risk    = 740,675.511
                                                        Wald chi2(1)  =   0.00
Log pseudolikelihood = -19357.688                       Prob > chi2   = 0.9636

                        (Std. err. adjusted for 14,444 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |    1.00346   .0759194     0.05   0.964     .8651678    1.163858
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_anaphylaxis==1
Observed time interval: (stop_ae_anaphylaxis[_n-1], stop_ae_anaphylaxis]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_agesex]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,125  observations end on or before enter()
--------------------------------------------------------------------------
     14,410  observations remaining, representing
     14,410  subjects
      1,027  failures in single-failure-per-subject data
  396,099.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_anaphylaxis==1
   Analysis time _t: (stop_ae_anaphylaxis-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_agesex]

(sum of wgt is 27,036.5858273506)
Iteration 0:   log pseudolikelihood = -19482.453
Iteration 1:   log pseudolikelihood = -19482.441
Iteration 2:   log pseudolikelihood = -19482.441
Refining estimates:
Iteration 0:   log pseudolikelihood = -19482.441

Cox regression with Breslow method for ties

No. of subjects =      27,037                           Number of obs = 14,410
No. of failures =       1,919
Time at risk    = 741,272.695
                                                        Wald chi2(1)  =   0.01
Log pseudolikelihood = -19482.441                       Prob > chi2   = 0.9253

                        (Std. err. adjusted for 14,410 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .9929627   .0748228    -0.09   0.925     .8566281    1.150995
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_drugreaction==1
Observed time interval: (stop_ae_drugreaction[_n-1], stop_ae_drugreaction]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_agesex]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     25,532  observations end on or before enter()
--------------------------------------------------------------------------
     10,003  observations remaining, representing
     10,003  subjects
      1,354  failures in single-failure-per-subject data
    266,766  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_drugreaction==1
   Analysis time _t: (stop_ae_drugreaction-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_agesex]

(sum of wgt is 19,058.8906115294)
Iteration 0:   log pseudolikelihood = -24955.923
Iteration 1:   log pseudolikelihood = -24955.325
Iteration 2:   log pseudolikelihood = -24955.325
Refining estimates:
Iteration 0:   log pseudolikelihood = -24955.325

Cox regression with Breslow method for ties

No. of subjects =      19,059                           Number of obs = 10,003
No. of failures =       2,553
Time at risk    = 507,528.437
                                                        Wald chi2(1)  =   0.45
Log pseudolikelihood = -24955.325                       Prob > chi2   = 0.5002

                        (Std. err. adjusted for 10,003 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .9572889   .0619862    -0.67   0.500     .8431915    1.086826
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_ra==1
Observed time interval: (stop_ae_ra[_n-1], stop_ae_ra]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_agesex]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,261  observations end on or before enter()
--------------------------------------------------------------------------
     15,274  observations remaining, representing
     15,274  subjects
        993  failures in single-failure-per-subject data
    420,415  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_ra==1
   Analysis time _t: (stop_ae_ra-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_agesex]

(sum of wgt is 28,584.3029813766)
Iteration 0:   log pseudolikelihood = -19204.852
Iteration 1:   log pseudolikelihood = -19203.591
Iteration 2:   log pseudolikelihood = -19203.591
Refining estimates:
Iteration 0:   log pseudolikelihood = -19203.591

Cox regression with Breslow method for ties

No. of subjects =      28,584                           Number of obs = 15,274
No. of failures =       1,881
Time at risk    = 784,356.121
                                                        Wald chi2(1)  =   0.96
Log pseudolikelihood = -19203.591                       Prob > chi2   = 0.3260

                        (Std. err. adjusted for 15,274 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.076739   .0810566     0.98   0.326     .9290351    1.247925
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_sle==1
Observed time interval: (stop_ae_sle[_n-1], stop_ae_sle]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_agesex]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,168  observations end on or before enter()
--------------------------------------------------------------------------
     15,367  observations remaining, representing
     15,367  subjects
        971  failures in single-failure-per-subject data
 423,470.25  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_sle==1
   Analysis time _t: (stop_ae_sle-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_agesex]

(sum of wgt is 28,750.6057709455)
Iteration 0:   log pseudolikelihood = -17962.707
Iteration 1:   log pseudolikelihood = -17957.376
Iteration 2:   log pseudolikelihood = -17957.375
Refining estimates:
Iteration 0:   log pseudolikelihood = -17957.375

Cox regression with Breslow method for ties

No. of subjects =      28,751                           Number of obs = 15,367
No. of failures =       1,758
Time at risk    = 790,869.612
                                                        Wald chi2(1)  =   3.84
Log pseudolikelihood = -17957.375                       Prob > chi2   = 0.0502

                        (Std. err. adjusted for 15,367 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .8526702    .069386    -1.96   0.050     .7269668     1.00011
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_psorasis==1
Observed time interval: (stop_ae_psorasis[_n-1], stop_ae_psorasis]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_agesex]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,124  observations end on or before enter()
--------------------------------------------------------------------------
     15,411  observations remaining, representing
     15,411  subjects
        952  failures in single-failure-per-subject data
 425,427.25  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_psorasis==1
   Analysis time _t: (stop_ae_psorasis-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_agesex]

(sum of wgt is 28,933.2357896566)
Iteration 0:   log pseudolikelihood = -18038.078
Iteration 1:   log pseudolikelihood = -18037.521
Iteration 2:   log pseudolikelihood = -18037.521
Refining estimates:
Iteration 0:   log pseudolikelihood = -18037.521

Cox regression with Breslow method for ties

No. of subjects =      28,933                           Number of obs = 15,411
No. of failures =       1,765
Time at risk    = 796,716.214
                                                        Wald chi2(1)  =   0.41
Log pseudolikelihood = -18037.521                       Prob > chi2   = 0.5196

                        (Std. err. adjusted for 15,411 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .9502868   .0752436    -0.64   0.520     .8136857     1.10982
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_psa==1
Observed time interval: (stop_ae_psa[_n-1], stop_ae_psa]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_agesex]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,251  observations end on or before enter()
--------------------------------------------------------------------------
     15,284  observations remaining, representing
     15,284  subjects
        949  failures in single-failure-per-subject data
  421,676.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_psa==1
   Analysis time _t: (stop_ae_psa-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_agesex]

(sum of wgt is 28,596.0937793255)
Iteration 0:   log pseudolikelihood =  -18022.84
Iteration 1:   log pseudolikelihood =  -18022.76
Iteration 2:   log pseudolikelihood =  -18022.76
Refining estimates:
Iteration 0:   log pseudolikelihood =  -18022.76

Cox regression with Breslow method for ties

No. of subjects =      28,596                           Number of obs = 15,284
No. of failures =       1,765
Time at risk    = 787,247.508
                                                        Wald chi2(1)  =   0.06
Log pseudolikelihood = -18022.76                        Prob > chi2   = 0.8068

                        (Std. err. adjusted for 15,284 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .9808788   .0774527    -0.24   0.807     .8402378     1.14506
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_axspa==1
Observed time interval: (stop_ae_axspa[_n-1], stop_ae_axspa]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_agesex]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,258  observations end on or before enter()
--------------------------------------------------------------------------
     15,277  observations remaining, representing
     15,277  subjects
        930  failures in single-failure-per-subject data
    421,771  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_axspa==1
   Analysis time _t: (stop_ae_axspa-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_agesex]

(sum of wgt is 28,645.8146493435)
Iteration 0:   log pseudolikelihood = -17709.602
Iteration 1:   log pseudolikelihood = -17709.546
Iteration 2:   log pseudolikelihood = -17709.546
Refining estimates:
Iteration 0:   log pseudolikelihood = -17709.546

Cox regression with Breslow method for ties

No. of subjects =      28,646                           Number of obs = 15,277
No. of failures =       1,734
Time at risk    = 789,073.271
                                                        Wald chi2(1)  =   0.04
Log pseudolikelihood = -17709.546                       Prob > chi2   = 0.8366

                        (Std. err. adjusted for 15,277 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .9837486   .0781637    -0.21   0.837     .8418835    1.149519
------------------------------------------------------------------------------

Logistic regression                                     Number of obs = 12,123
                                                        LR chi2(36)   = 101.95
                                                        Prob > chi2   = 0.0000
Log likelihood = -7080.5334                             Pseudo R2     = 0.0071

---------------------------------------------------------------------------------------------
                       drug | Odds ratio   Std. err.      z    P>|z|     [95% conf. interval]
----------------------------+----------------------------------------------------------------
                        age |   .9999847   .0010866    -0.01   0.989     .9978573    1.002117
                            |
                        sex |
                    Female  |   1.010335   .0413391     0.25   0.802     .9324752    1.094695
                            |
                 region_nhs |
             East Midlands  |   1.132387    .103074     1.37   0.172     .9473606     1.35355
                    London  |   1.031716   .0813751     0.40   0.692     .8839401    1.204197
                North East  |   1.042661   .0966449     0.45   0.652     .8694504    1.250379
                North West  |   1.084251   .0980904     0.89   0.371      .908078    1.294603
                South East  |   1.035375   .0939394     0.38   0.702     .8666987    1.236878
                South West  |   1.078591   .0997556     0.82   0.413     .8997704     1.29295
             West Midlands  |   .9641134   .0884786    -0.40   0.690     .8054001    1.154103
  Yorkshire and The Humber  |   .9558701   .0875062    -0.49   0.622     .7988674    1.143729
                            |
                      imdq5 |
                         2  |   .9931185   .0642947    -0.11   0.915     .8747704    1.127478
                         3  |   .9689541   .0630892    -0.48   0.628     .8528663    1.100843
                         4  |   1.018626   .0658457     0.29   0.775     .8974119    1.156213
           5 most deprived  |   .9853762   .0644583    -0.23   0.822     .8668039    1.120168
                            |
                  ethnicity |
                     Other  |   1.035732   .0883824     0.41   0.681     .8762171    1.224287
               South Asian  |    .934324   .0816436    -0.78   0.437     .7872585    1.108862
                     White  |   .9903444   .0649767    -0.15   0.882     .8708408    1.126247
                            |
   paxlovid_contraindicated |   1.455463   .0965772     5.66   0.000     1.277968    1.657611
                            |
         vaccination_status |
           One vaccination  |   .9795344   .0765403    -0.26   0.791     .8404411    1.141648
          Two vaccinations  |   .9256054    .073551    -0.97   0.331     .7921132    1.081595
        Three vaccinations  |   .9429504    .051129    -1.08   0.279     .8478806     1.04868
 Four or more vaccinations  |   .9445862   .0759267    -0.71   0.478     .8069029    1.105763
                            |
                   diabetes |   .9540823   .0646226    -0.69   0.488     .8354716    1.089532
    chronic_cardiac_disease |   .9889158   .0679922    -0.16   0.871     .8642423    1.131574
chronic_respiratory_disease |   1.006482   .0691898     0.09   0.925     .8796119    1.151652
               hypertension |   .9954241   .0683045    -0.07   0.947     .8701618    1.138718
             downs_syndrome |   1.019686   .0521063     0.38   0.703     .9225075    1.127102
               solid_cancer |     .88528   .0617885    -1.75   0.081     .7720949    1.015058
               haem_disease |   .8442636   .0347034    -4.12   0.000      .778914    .9150959
              renal_disease |    .744149   .0335584    -6.55   0.000     .6811987    .8129166
              liver_disease |   .7941194   .0515229    -3.55   0.000     .6992934    .9018041
               imid_on_drug |   .9602416   .0476244    -0.82   0.413     .8712929    1.058271
          immunosuppression |   1.019499   .0667059     0.30   0.768     .8967939    1.158994
                   hiv_aids |   .9841252   .0513581    -0.31   0.759     .8884419    1.090113
           organ_transplant |   .7233378   .0456703    -5.13   0.000     .6391426    .8186241
                 rare_neuro |   .8838205   .0366419    -2.98   0.003     .8148441    .9586359
                      _cons |   .4817195   .0617976    -5.69   0.000     .3746256    .6194282
---------------------------------------------------------------------------------------------
Note: _cons estimates baseline odds.
(option pr assumed; Pr(drug))
(24,446 missing values generated)
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSafely\Safety mAB and antivirals\Safety-Sotrovimab-Paxlovid-Molnupiravir/output/
> figures/histogram_sot_adj.gph saved
(33,234 missing values generated)
(8,788 real changes made)

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_diverticulitis==1
Observed time interval: (stop_ae_diverticulitis[_n-1], stop_ae_diverticulitis]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,162  observations end on or before enter()
      9,566  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,807  observations remaining, representing
      4,807  subjects
        330  failures in single-failure-per-subject data
 132,413.75  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_diverticulitis==1
   Analysis time _t: (stop_ae_diverticulitis-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj]

(sum of wgt is 8,994.63743829727)
Iteration 0:   log pseudolikelihood = -5344.6571
Iteration 1:   log pseudolikelihood = -5340.8701
Iteration 2:   log pseudolikelihood = -5340.8683
Refining estimates:
Iteration 0:   log pseudolikelihood = -5340.8683

Cox regression with Breslow method for ties

No. of subjects =       8,995                           Number of obs =  4,807
No. of failures =         590
Time at risk    = 247,835.611
                                                        Wald chi2(1)  =   2.60
Log pseudolikelihood = -5340.8683                       Prob > chi2   = 0.1068

                         (Std. err. adjusted for 4,807 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .7923036   .1143665    -1.61   0.107     .5970674     1.05138
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_diarrhoea==1
Observed time interval: (stop_ae_diarrhoea[_n-1], stop_ae_diarrhoea]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,032  observations end on or before enter()
      9,667  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,836  observations remaining, representing
      4,836  subjects
        351  failures in single-failure-per-subject data
 133,093.25  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_diarrhoea==1
   Analysis time _t: (stop_ae_diarrhoea-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj]

(sum of wgt is 9,075.10958194733)
Iteration 0:   log pseudolikelihood = -5793.2293
Iteration 1:   log pseudolikelihood = -5791.2884
Iteration 2:   log pseudolikelihood =  -5791.288
Refining estimates:
Iteration 0:   log pseudolikelihood =  -5791.288

Cox regression with Breslow method for ties

No. of subjects =       9,075                           Number of obs =  4,836
No. of failures =         639
Time at risk    = 249,396.288
                                                        Wald chi2(1)  =   1.35
Log pseudolikelihood = -5791.288                        Prob > chi2   = 0.2449

                         (Std. err. adjusted for 4,836 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |    .852836    .116745    -1.16   0.245     .6521451    1.115287
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_taste==1
Observed time interval: (stop_ae_taste[_n-1], stop_ae_taste]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     18,875  observations end on or before enter()
     11,139  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,521  observations remaining, representing
      5,521  subjects
        287  failures in single-failure-per-subject data
    152,448  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_taste==1
   Analysis time _t: (stop_ae_taste-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj]

(sum of wgt is 10,294.3869597912)
Iteration 0:   log pseudolikelihood = -4963.9416
Iteration 1:   log pseudolikelihood =  -4963.531
Iteration 2:   log pseudolikelihood =  -4963.531
Refining estimates:
Iteration 0:   log pseudolikelihood =  -4963.531

Cox regression with Breslow method for ties

No. of subjects =      10,294                           Number of obs =  5,521
No. of failures =         540
Time at risk    = 283,495.826
                                                        Wald chi2(1)  =   0.30
Log pseudolikelihood = -4963.531                        Prob > chi2   = 0.5810

                         (Std. err. adjusted for 5,521 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.082025    .154541     0.55   0.581     .8178312    1.431564
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_rash==1
Observed time interval: (stop_ae_rash[_n-1], stop_ae_rash]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,053  observations end on or before enter()
      9,707  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,775  observations remaining, representing
      4,775  subjects
        351  failures in single-failure-per-subject data
  131,163.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_rash==1
   Analysis time _t: (stop_ae_rash-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj]

(sum of wgt is 8,931.91628742218)
Iteration 0:   log pseudolikelihood = -5833.6416
Iteration 1:   log pseudolikelihood = -5833.3071
Iteration 2:   log pseudolikelihood = -5833.3071
Refining estimates:
Iteration 0:   log pseudolikelihood = -5833.3071

Cox regression with Breslow method for ties

No. of subjects =       8,932                           Number of obs =  4,775
No. of failures =         645
Time at risk    = 245,046.044
                                                        Wald chi2(1)  =   0.24
Log pseudolikelihood = -5833.3071                       Prob > chi2   = 0.6247

                         (Std. err. adjusted for 4,775 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .9366271    .125349    -0.49   0.625      .720527     1.21754
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_bronchospasm==1
Observed time interval: (stop_ae_bronchospasm[_n-1], stop_ae_bronchospasm]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     15,943  observations end on or before enter()
     13,090  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      6,502  observations remaining, representing
      6,502  subjects
        175  failures in single-failure-per-subject data
  181,208.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_bronchospasm==1
   Analysis time _t: (stop_ae_bronchospasm-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj]

(sum of wgt is 12,074.8612444401)
Iteration 0:   log pseudolikelihood = -3010.5119
Iteration 1:   log pseudolikelihood = -3010.4816
Iteration 2:   log pseudolikelihood = -3010.4816
Refining estimates:
Iteration 0:   log pseudolikelihood = -3010.4816

Cox regression with Breslow method for ties

No. of subjects =      12,075                           Number of obs =  6,502
No. of failures =         322
Time at risk    = 336,072.987
                                                        Wald chi2(1)  =   0.02
Log pseudolikelihood = -3010.4816                       Prob > chi2   = 0.8820

                         (Std. err. adjusted for 6,502 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .9724318   .1831872    -0.15   0.882     .6722168    1.406724
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_contactderm==1
Observed time interval: (stop_ae_contactderm[_n-1], stop_ae_contactderm]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,099  observations end on or before enter()
      9,627  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,809  observations remaining, representing
      4,809  subjects
        347  failures in single-failure-per-subject data
  132,076.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_contactderm==1
   Analysis time _t: (stop_ae_contactderm-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj]

(sum of wgt is 9,036.579033494)
Iteration 0:   log pseudolikelihood = -5889.2553
Iteration 1:   log pseudolikelihood = -5889.2519
Iteration 2:   log pseudolikelihood = -5889.2519
Refining estimates:
Iteration 0:   log pseudolikelihood = -5889.2519

Cox regression with Breslow method for ties

No. of subjects =       9,037                           Number of obs =  4,809
No. of failures =         650
Time at risk    = 247,519.297
                                                        Wald chi2(1)  =   0.00
Log pseudolikelihood = -5889.2519                       Prob > chi2   = 0.9604

                         (Std. err. adjusted for 4,809 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .9934846   .1308266    -0.05   0.960      .767487     1.28603
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_dizziness==1
Observed time interval: (stop_ae_dizziness[_n-1], stop_ae_dizziness]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,224  observations end on or before enter()
      9,571  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,740  observations remaining, representing
      4,740  subjects
        333  failures in single-failure-per-subject data
 130,552.75  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_dizziness==1
   Analysis time _t: (stop_ae_dizziness-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj]

(sum of wgt is 8,809.1727296114)
Iteration 0:   log pseudolikelihood = -5802.1177
Iteration 1:   log pseudolikelihood = -5799.3819
Iteration 2:   log pseudolikelihood = -5799.3814
Refining estimates:
Iteration 0:   log pseudolikelihood = -5799.3814

Cox regression with Breslow method for ties

No. of subjects =       8,809                           Number of obs =  4,740
No. of failures =         643
Time at risk    = 241,818.406
                                                        Wald chi2(1)  =   2.06
Log pseudolikelihood = -5799.3814                       Prob > chi2   = 0.1509

                         (Std. err. adjusted for 4,740 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.204268   .1558437     1.44   0.151      .934479    1.551946
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_nausea_vomit==1
Observed time interval: (stop_ae_nausea_vomit[_n-1], stop_ae_nausea_vomit]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     18,897  observations end on or before enter()
     11,128  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,510  observations remaining, representing
      5,510  subjects
        276  failures in single-failure-per-subject data
    152,929  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_nausea_vomit==1
   Analysis time _t: (stop_ae_nausea_vomit-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj]

(sum of wgt is 10,299.0256763697)
Iteration 0:   log pseudolikelihood = -4566.3009
Iteration 1:   log pseudolikelihood = -4564.2813
Iteration 2:   log pseudolikelihood = -4564.2807
Refining estimates:
Iteration 0:   log pseudolikelihood = -4564.2807

Cox regression with Breslow method for ties

No. of subjects =      10,299                           Number of obs =  5,510
No. of failures =         497
Time at risk    = 285,389.432
                                                        Wald chi2(1)  =   1.38
Log pseudolikelihood = -4564.2807                       Prob > chi2   = 0.2404

                         (Std. err. adjusted for 5,510 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .8310073   .1310262    -1.17   0.240      .610091    1.131918
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_headache==1
Observed time interval: (stop_ae_headache[_n-1], stop_ae_headache]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,091  observations end on or before enter()
      9,633  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,811  observations remaining, representing
      4,811  subjects
        352  failures in single-failure-per-subject data
    131,934  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_headache==1
   Analysis time _t: (stop_ae_headache-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj]

(sum of wgt is 9,017.31243228912)
Iteration 0:   log pseudolikelihood = -5969.6166
Iteration 1:   log pseudolikelihood =  -5969.538
Iteration 2:   log pseudolikelihood =  -5969.538
Refining estimates:
Iteration 0:   log pseudolikelihood =  -5969.538

Cox regression with Breslow method for ties

No. of subjects =       9,017                           Number of obs =  4,811
No. of failures =         660
Time at risk    = 246,541.212
                                                        Wald chi2(1)  =   0.06
Log pseudolikelihood = -5969.538                        Prob > chi2   = 0.8093

                         (Std. err. adjusted for 4,811 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.031724   .1335523     0.24   0.809      .800533    1.329683
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_anaphylaxis==1
Observed time interval: (stop_ae_anaphylaxis[_n-1], stop_ae_anaphylaxis]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,125  observations end on or before enter()
      9,659  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,751  observations remaining, representing
      4,751  subjects
        358  failures in single-failure-per-subject data
 130,415.25  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_anaphylaxis==1
   Analysis time _t: (stop_ae_anaphylaxis-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj]

(sum of wgt is 8,953.91876864433)
Iteration 0:   log pseudolikelihood = -5895.1054
Iteration 1:   log pseudolikelihood = -5892.5934
Iteration 2:   log pseudolikelihood = -5892.5928
Refining estimates:
Iteration 0:   log pseudolikelihood = -5892.5928

Cox regression with Breslow method for ties

No. of subjects =       8,954                           Number of obs =  4,751
No. of failures =         652
Time at risk    = 245,276.572
                                                        Wald chi2(1)  =   1.73
Log pseudolikelihood = -5892.5928                       Prob > chi2   = 0.1884

                         (Std. err. adjusted for 4,751 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .8357964   .1139699    -1.32   0.188     .6397789     1.09187
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_drugreaction==1
Observed time interval: (stop_ae_drugreaction[_n-1], stop_ae_drugreaction]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     25,532  observations end on or before enter()
      6,740  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      3,263  observations remaining, representing
      3,263  subjects
        452  failures in single-failure-per-subject data
  86,950.75  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_drugreaction==1
   Analysis time _t: (stop_ae_drugreaction-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj]

(sum of wgt is 6,172.71366167068)
Iteration 0:   log pseudolikelihood =  -7151.938
Iteration 1:   log pseudolikelihood =  -7150.031
Iteration 2:   log pseudolikelihood = -7150.0308
Refining estimates:
Iteration 0:   log pseudolikelihood = -7150.0308

Cox regression with Breslow method for ties

No. of subjects =       6,173                           Number of obs =  3,263
No. of failures =         827
Time at risk    = 164,463.505
                                                        Wald chi2(1)  =   1.38
Log pseudolikelihood = -7150.0308                       Prob > chi2   = 0.2399

                         (Std. err. adjusted for 3,263 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .8711795   .1022274    -1.18   0.240     .6921888    1.096455
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_ra==1
Observed time interval: (stop_ae_ra[_n-1], stop_ae_ra]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,261  observations end on or before enter()
     10,225  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,049  observations remaining, representing
      5,049  subjects
        311  failures in single-failure-per-subject data
    139,575  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_ra==1
   Analysis time _t: (stop_ae_ra-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj]

(sum of wgt is 9,450.91368496418)
Iteration 0:   log pseudolikelihood = -5377.0184
Iteration 1:   log pseudolikelihood = -5375.9063
Iteration 2:   log pseudolikelihood = -5375.9062
Refining estimates:
Iteration 0:   log pseudolikelihood = -5375.9062

Cox regression with Breslow method for ties

No. of subjects =       9,451                           Number of obs =  5,049
No. of failures =         591
Time at risk    = 260,391.779
                                                        Wald chi2(1)  =   0.85
Log pseudolikelihood = -5375.9062                       Prob > chi2   = 0.3571

                         (Std. err. adjusted for 5,049 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.131656   .1519842     0.92   0.357     .8697527    1.472424
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_sle==1
Observed time interval: (stop_ae_sle[_n-1], stop_ae_sle]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,168  observations end on or before enter()
     10,316  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,051  observations remaining, representing
      5,051  subjects
        315  failures in single-failure-per-subject data
    139,076  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_sle==1
   Analysis time _t: (stop_ae_sle-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj]

(sum of wgt is 9,484.7912453413)
Iteration 0:   log pseudolikelihood = -5178.8236
Iteration 1:   log pseudolikelihood = -5175.9359
Iteration 2:   log pseudolikelihood = -5175.9349
Refining estimates:
Iteration 0:   log pseudolikelihood = -5175.9349

Cox regression with Breslow method for ties

No. of subjects =      9,485                            Number of obs =  5,051
No. of failures =        569
Time at risk    = 260,833.33
                                                        Wald chi2(1)  =   1.95
Log pseudolikelihood = -5175.9349                       Prob > chi2   = 0.1625

                         (Std. err. adjusted for 5,051 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .8133053   .1203286    -1.40   0.162     .6085808    1.086898
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_psorasis==1
Observed time interval: (stop_ae_psorasis[_n-1], stop_ae_psorasis]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,124  observations end on or before enter()
     10,334  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,077  observations remaining, representing
      5,077  subjects
        312  failures in single-failure-per-subject data
 140,135.75  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_psorasis==1
   Analysis time _t: (stop_ae_psorasis-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj]

(sum of wgt is 9,558.19395399094)
Iteration 0:   log pseudolikelihood = -5178.0099
Iteration 1:   log pseudolikelihood = -5176.0199
Iteration 2:   log pseudolikelihood = -5176.0194
Refining estimates:
Iteration 0:   log pseudolikelihood = -5176.0194

Cox regression with Breslow method for ties

No. of subjects =       9,558                           Number of obs =  5,077
No. of failures =         568
Time at risk    = 263,324.884
                                                        Wald chi2(1)  =   1.34
Log pseudolikelihood = -5176.0194                       Prob > chi2   = 0.2467

                         (Std. err. adjusted for 5,077 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .8427701   .1244503    -1.16   0.247     .6309773    1.125653
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_psa==1
Observed time interval: (stop_ae_psa[_n-1], stop_ae_psa]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,251  observations end on or before enter()
     10,176  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,108  observations remaining, representing
      5,108  subjects
        320  failures in single-failure-per-subject data
    140,904  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_psa==1
   Analysis time _t: (stop_ae_psa-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj]

(sum of wgt is 9,549.32473433018)
Iteration 0:   log pseudolikelihood = -5266.6945
Iteration 1:   log pseudolikelihood = -5264.3479
Iteration 2:   log pseudolikelihood = -5264.3472
Refining estimates:
Iteration 0:   log pseudolikelihood = -5264.3472

Cox regression with Breslow method for ties

No. of subjects =       9,549                           Number of obs =  5,108
No. of failures =         578
Time at risk    = 263,014.721
                                                        Wald chi2(1)  =   1.63
Log pseudolikelihood = -5264.3472                       Prob > chi2   = 0.2014

                         (Std. err. adjusted for 5,108 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |    .831266    .120251    -1.28   0.201     .6260444    1.103761
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_axspa==1
Observed time interval: (stop_ae_axspa[_n-1], stop_ae_axspa]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,258  observations end on or before enter()
     10,248  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,029  observations remaining, representing
      5,029  subjects
        296  failures in single-failure-per-subject data
    139,099  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_axspa==1
   Analysis time _t: (stop_ae_axspa-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj]

(sum of wgt is 9,420.60668122768)
Iteration 0:   log pseudolikelihood = -5041.1591
Iteration 1:   log pseudolikelihood = -5041.1198
Iteration 2:   log pseudolikelihood = -5041.1198
Refining estimates:
Iteration 0:   log pseudolikelihood = -5041.1198

Cox regression with Breslow method for ties

No. of subjects =       9,421                           Number of obs =  5,029
No. of failures =         554
Time at risk    = 260,197.363
                                                        Wald chi2(1)  =   0.03
Log pseudolikelihood = -5041.1198                       Prob > chi2   = 0.8640

                         (Std. err. adjusted for 5,029 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.024412   .1442713     0.17   0.864     .7773157    1.350058
------------------------------------------------------------------------------

Logistic regression                                     Number of obs = 12,123
                                                        LR chi2(17)   =   8.35
                                                        Prob > chi2   = 0.9585
Log likelihood = -7127.3341                             Pseudo R2     = 0.0006

-------------------------------------------------------------------------------------------
                     drug | Odds ratio   Std. err.      z    P>|z|     [95% conf. interval]
--------------------------+----------------------------------------------------------------
                      age |   .9999969   .0010813    -0.00   0.998     .9978798    1.002119
                          |
                      sex |
                  Female  |   1.008492   .0410717     0.21   0.836     .9311215    1.092291
                          |
               region_nhs |
           East Midlands  |   1.135956   .1029496     1.41   0.160     .9510837    1.356764
                  London  |   1.035066   .0812664     0.44   0.661     .8874372    1.207255
              North East  |    1.04038   .0959475     0.43   0.668     .8683428    1.246502
              North West  |   1.085155   .0977344     0.91   0.364     .9095537    1.294658
              South East  |   1.036707   .0936244     0.40   0.690     .8685295     1.23745
              South West  |   1.081706   .0995333     0.85   0.393     .9032036    1.295485
           West Midlands  |   .9671932   .0883158    -0.37   0.715     .8087025    1.156745
Yorkshire and The Humber  |   .9579818   .0873115    -0.47   0.638     .8012679    1.145346
                          |
                    imdq5 |
                       2  |   .9943709   .0640789    -0.09   0.930     .8763863    1.128239
                       3  |    .967413   .0627183    -0.51   0.609     .8519767     1.09849
                       4  |   1.018339   .0655203     0.28   0.778     .8976882    1.155205
         5 most deprived  |   .9875511   .0643041    -0.19   0.847     .8692283    1.121981
                          |
                ethnicity |
                   Other  |   1.057901   .0898154     0.66   0.507     .8957327     1.24943
             South Asian  |   .9453463   .0821977    -0.65   0.518     .7972217    1.120993
                   White  |   1.001728    .065416     0.03   0.979     .8813812    1.138508
                          |
                    _cons |   .3665913   .0407297    -9.03   0.000     .2948563    .4557785
-------------------------------------------------------------------------------------------
Note: _cons estimates baseline odds.
(option pr assumed; Pr(drug))
(24,446 missing values generated)
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSafely\Safety mAB and antivirals\Safety-Sotrovimab-Paxlovid-Molnupiravir/output/
> figures/histogram_sot_adj2.gph saved
(33,234 missing values generated)
(8,788 real changes made)

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_diverticulitis==1
Observed time interval: (stop_ae_diverticulitis[_n-1], stop_ae_diverticulitis]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj2]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,162  observations end on or before enter()
      9,566  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,807  observations remaining, representing
      4,807  subjects
        330  failures in single-failure-per-subject data
 132,413.75  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_diverticulitis==1
   Analysis time _t: (stop_ae_diverticulitis-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj2]

(sum of wgt is 8,981.23534214497)
Iteration 0:   log pseudolikelihood = -5325.3076
Iteration 1:   log pseudolikelihood = -5321.0915
Iteration 2:   log pseudolikelihood = -5321.0892
Refining estimates:
Iteration 0:   log pseudolikelihood = -5321.0892

Cox regression with Breslow method for ties

No. of subjects =       8,981                           Number of obs =  4,807
No. of failures =         588
Time at risk    = 247,514.382
                                                        Wald chi2(1)  =   2.95
Log pseudolikelihood = -5321.0892                       Prob > chi2   = 0.0858

                         (Std. err. adjusted for 4,807 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .7815533   .1121121    -1.72   0.086     .5900049    1.035289
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_diarrhoea==1
Observed time interval: (stop_ae_diarrhoea[_n-1], stop_ae_diarrhoea]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj2]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,032  observations end on or before enter()
      9,667  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,836  observations remaining, representing
      4,836  subjects
        351  failures in single-failure-per-subject data
 133,093.25  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_diarrhoea==1
   Analysis time _t: (stop_ae_diarrhoea-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj2]

(sum of wgt is 9,051.88943195343)
Iteration 0:   log pseudolikelihood = -5757.5747
Iteration 1:   log pseudolikelihood = -5755.6658
Iteration 2:   log pseudolikelihood = -5755.6655
Refining estimates:
Iteration 0:   log pseudolikelihood = -5755.6655

Cox regression with Breslow method for ties

No. of subjects =       9,052                           Number of obs =  4,836
No. of failures =         636
Time at risk    = 248,883.392
                                                        Wald chi2(1)  =   1.36
Log pseudolikelihood = -5755.6655                       Prob > chi2   = 0.2431

                         (Std. err. adjusted for 4,836 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .8534681   .1158499    -1.17   0.243     .6541014    1.113601
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_taste==1
Observed time interval: (stop_ae_taste[_n-1], stop_ae_taste]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj2]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     18,875  observations end on or before enter()
     11,139  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,521  observations remaining, representing
      5,521  subjects
        287  failures in single-failure-per-subject data
    152,448  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_taste==1
   Analysis time _t: (stop_ae_taste-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj2]

(sum of wgt is 10,263.8071272373)
Iteration 0:   log pseudolikelihood = -4946.0543
Iteration 1:   log pseudolikelihood = -4945.7084
Iteration 2:   log pseudolikelihood = -4945.7084
Refining estimates:
Iteration 0:   log pseudolikelihood = -4945.7084

Cox regression with Breslow method for ties

No. of subjects =      10,264                           Number of obs =  5,521
No. of failures =         538
Time at risk    = 282,569.444
                                                        Wald chi2(1)  =   0.26
Log pseudolikelihood = -4945.7084                       Prob > chi2   = 0.6089

                         (Std. err. adjusted for 5,521 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.075238   .1524684     0.51   0.609     .8143378    1.419727
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_rash==1
Observed time interval: (stop_ae_rash[_n-1], stop_ae_rash]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj2]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,053  observations end on or before enter()
      9,707  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,775  observations remaining, representing
      4,775  subjects
        351  failures in single-failure-per-subject data
  131,163.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_rash==1
   Analysis time _t: (stop_ae_rash-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj2]

(sum of wgt is 8,912.79207980633)
Iteration 0:   log pseudolikelihood = -5832.7836
Iteration 1:   log pseudolikelihood =  -5832.355
Iteration 2:   log pseudolikelihood = -5832.3549
Refining estimates:
Iteration 0:   log pseudolikelihood = -5832.3549

Cox regression with Breslow method for ties

No. of subjects =       8,913                           Number of obs =  4,775
No. of failures =         645
Time at risk    = 244,532.296
                                                        Wald chi2(1)  =   0.31
Log pseudolikelihood = -5832.3549                       Prob > chi2   = 0.5758

                         (Std. err. adjusted for 4,775 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .9284955   .1231036    -0.56   0.576     .7160183    1.204025
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_bronchospasm==1
Observed time interval: (stop_ae_bronchospasm[_n-1], stop_ae_bronchospasm]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj2]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     15,943  observations end on or before enter()
     13,090  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      6,502  observations remaining, representing
      6,502  subjects
        175  failures in single-failure-per-subject data
  181,208.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_bronchospasm==1
   Analysis time _t: (stop_ae_bronchospasm-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj2]

(sum of wgt is 12,031.7120562792)
Iteration 0:   log pseudolikelihood = -3018.8291
Iteration 1:   log pseudolikelihood = -3018.8211
Iteration 2:   log pseudolikelihood = -3018.8211
Refining estimates:
Iteration 0:   log pseudolikelihood = -3018.8211

Cox regression with Breslow method for ties

No. of subjects =      12,032                           Number of obs =  6,502
No. of failures =         323
Time at risk    = 334,748.941
                                                        Wald chi2(1)  =   0.01
Log pseudolikelihood = -3018.8211                       Prob > chi2   = 0.9386

                         (Std. err. adjusted for 6,502 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .9856982   .1842992    -0.08   0.939     .6832696    1.421988
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_contactderm==1
Observed time interval: (stop_ae_contactderm[_n-1], stop_ae_contactderm]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj2]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,099  observations end on or before enter()
      9,627  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,809  observations remaining, representing
      4,809  subjects
        347  failures in single-failure-per-subject data
  132,076.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_contactderm==1
   Analysis time _t: (stop_ae_contactderm-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj2]

(sum of wgt is 9,017.17211353779)
Iteration 0:   log pseudolikelihood = -5879.5917
Iteration 1:   log pseudolikelihood = -5879.5917
Refining estimates:
Iteration 0:   log pseudolikelihood = -5879.5917

Cox regression with Breslow method for ties

No. of subjects =       9,017                           Number of obs =  4,809
No. of failures =         649
Time at risk    = 247,038.448
                                                        Wald chi2(1)  =   0.00
Log pseudolikelihood = -5879.5917                       Prob > chi2   = 0.9988

                         (Std. err. adjusted for 4,809 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .9998102   .1303082    -0.00   0.999     .7744225    1.290795
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_dizziness==1
Observed time interval: (stop_ae_dizziness[_n-1], stop_ae_dizziness]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj2]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,224  observations end on or before enter()
      9,571  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,740  observations remaining, representing
      4,740  subjects
        333  failures in single-failure-per-subject data
 130,552.75  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_dizziness==1
   Analysis time _t: (stop_ae_dizziness-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj2]

(sum of wgt is 8,806.7162604332)
Iteration 0:   log pseudolikelihood = -5783.5059
Iteration 1:   log pseudolikelihood = -5781.0478
Iteration 2:   log pseudolikelihood = -5781.0473
Refining estimates:
Iteration 0:   log pseudolikelihood = -5781.0473

Cox regression with Breslow method for ties

No. of subjects =       8,807                           Number of obs =  4,740
No. of failures =         641
Time at risk    = 241,745.539
                                                        Wald chi2(1)  =   1.89
Log pseudolikelihood = -5781.0473                       Prob > chi2   = 0.1697

                         (Std. err. adjusted for 4,740 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.193117   .1534121     1.37   0.170     .9273312    1.535081
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_nausea_vomit==1
Observed time interval: (stop_ae_nausea_vomit[_n-1], stop_ae_nausea_vomit]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj2]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     18,897  observations end on or before enter()
     11,128  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,510  observations remaining, representing
      5,510  subjects
        276  failures in single-failure-per-subject data
    152,929  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_nausea_vomit==1
   Analysis time _t: (stop_ae_nausea_vomit-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj2]

(sum of wgt is 10,256.6552351713)
Iteration 0:   log pseudolikelihood = -4531.6183
Iteration 1:   log pseudolikelihood = -4529.2263
Iteration 2:   log pseudolikelihood = -4529.2254
Refining estimates:
Iteration 0:   log pseudolikelihood = -4529.2254

Cox regression with Breslow method for ties

No. of subjects =      10,257                           Number of obs =  5,510
No. of failures =         493
Time at risk    = 284,291.961
                                                        Wald chi2(1)  =   1.68
Log pseudolikelihood = -4529.2254                       Prob > chi2   = 0.1949

                         (Std. err. adjusted for 5,510 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .8165079   .1276916    -1.30   0.195     .6009566    1.109373
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_headache==1
Observed time interval: (stop_ae_headache[_n-1], stop_ae_headache]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj2]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,091  observations end on or before enter()
      9,633  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,811  observations remaining, representing
      4,811  subjects
        352  failures in single-failure-per-subject data
    131,934  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_headache==1
   Analysis time _t: (stop_ae_headache-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj2]

(sum of wgt is 8,998.22142660618)
Iteration 0:   log pseudolikelihood = -5985.3653
Iteration 1:   log pseudolikelihood = -5985.2272
Iteration 2:   log pseudolikelihood = -5985.2272
Refining estimates:
Iteration 0:   log pseudolikelihood = -5985.2272

Cox regression with Breslow method for ties

No. of subjects =       8,998                           Number of obs =  4,811
No. of failures =         662
Time at risk    = 245,949.423
                                                        Wald chi2(1)  =   0.10
Log pseudolikelihood = -5985.2272                       Prob > chi2   = 0.7473

                         (Std. err. adjusted for 4,811 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.042193   .1336654     0.32   0.747     .8105473    1.340041
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_anaphylaxis==1
Observed time interval: (stop_ae_anaphylaxis[_n-1], stop_ae_anaphylaxis]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj2]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,125  observations end on or before enter()
      9,659  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,751  observations remaining, representing
      4,751  subjects
        358  failures in single-failure-per-subject data
 130,415.25  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_anaphylaxis==1
   Analysis time _t: (stop_ae_anaphylaxis-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj2]

(sum of wgt is 8,925.72623085976)
Iteration 0:   log pseudolikelihood = -5855.4921
Iteration 1:   log pseudolikelihood = -5852.9118
Iteration 2:   log pseudolikelihood = -5852.9111
Refining estimates:
Iteration 0:   log pseudolikelihood = -5852.9111

Cox regression with Breslow method for ties

No. of subjects =       8,926                           Number of obs =  4,751
No. of failures =         648
Time at risk    = 244,517.252
                                                        Wald chi2(1)  =   1.83
Log pseudolikelihood = -5852.9111                       Prob > chi2   = 0.1759

                         (Std. err. adjusted for 4,751 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .8331231   .1123937    -1.35   0.176      .639553     1.08528
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_drugreaction==1
Observed time interval: (stop_ae_drugreaction[_n-1], stop_ae_drugreaction]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj2]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     25,532  observations end on or before enter()
      6,740  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      3,263  observations remaining, representing
      3,263  subjects
        452  failures in single-failure-per-subject data
  86,950.75  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_drugreaction==1
   Analysis time _t: (stop_ae_drugreaction-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj2]

(sum of wgt is 6,169.59960258007)
Iteration 0:   log pseudolikelihood = -7198.3651
Iteration 1:   log pseudolikelihood = -7196.8275
Iteration 2:   log pseudolikelihood = -7196.8274
Refining estimates:
Iteration 0:   log pseudolikelihood = -7196.8274

Cox regression with Breslow method for ties

No. of subjects =       6,170                           Number of obs =  3,263
No. of failures =         832
Time at risk    = 164,337.964
                                                        Wald chi2(1)  =   1.12
Log pseudolikelihood = -7196.8274                       Prob > chi2   = 0.2890

                         (Std. err. adjusted for 3,263 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .8839293   .1028503    -1.06   0.289     .7036802     1.11035
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_ra==1
Observed time interval: (stop_ae_ra[_n-1], stop_ae_ra]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj2]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,261  observations end on or before enter()
     10,225  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,049  observations remaining, representing
      5,049  subjects
        311  failures in single-failure-per-subject data
    139,575  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_ra==1
   Analysis time _t: (stop_ae_ra-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj2]

(sum of wgt is 9,428.96260714531)
Iteration 0:   log pseudolikelihood = -5432.7295
Iteration 1:   log pseudolikelihood = -5431.1923
Iteration 2:   log pseudolikelihood = -5431.1921
Refining estimates:
Iteration 0:   log pseudolikelihood = -5431.1921

Cox regression with Breslow method for ties

No. of subjects =       9,429                           Number of obs =  5,049
No. of failures =         597
Time at risk    = 259,767.617
                                                        Wald chi2(1)  =   1.18
Log pseudolikelihood = -5431.1921                       Prob > chi2   = 0.2775

                         (Std. err. adjusted for 5,049 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.155563   .1538622     1.09   0.278     .8901368    1.500135
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_sle==1
Observed time interval: (stop_ae_sle[_n-1], stop_ae_sle]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj2]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,168  observations end on or before enter()
     10,316  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,051  observations remaining, representing
      5,051  subjects
        315  failures in single-failure-per-subject data
    139,076  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_sle==1
   Analysis time _t: (stop_ae_sle-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj2]

(sum of wgt is 9,452.79653096199)
Iteration 0:   log pseudolikelihood = -5126.2894
Iteration 1:   log pseudolikelihood = -5122.8985
Iteration 2:   log pseudolikelihood =  -5122.897
Refining estimates:
Iteration 0:   log pseudolikelihood =  -5122.897

Cox regression with Breslow method for ties

No. of subjects =       9,453                           Number of obs =  5,051
No. of failures =         563
Time at risk    = 260,019.671
                                                        Wald chi2(1)  =   2.38
Log pseudolikelihood = -5122.897                        Prob > chi2   = 0.1233

                         (Std. err. adjusted for 5,051 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .7980566   .1168106    -1.54   0.123     .5990241     1.06322
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_psorasis==1
Observed time interval: (stop_ae_psorasis[_n-1], stop_ae_psorasis]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj2]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,124  observations end on or before enter()
     10,334  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,077  observations remaining, representing
      5,077  subjects
        312  failures in single-failure-per-subject data
 140,135.75  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_psorasis==1
   Analysis time _t: (stop_ae_psorasis-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj2]

(sum of wgt is 9,507.93811321259)
Iteration 0:   log pseudolikelihood = -5100.0325
Iteration 1:   log pseudolikelihood =  -5097.112
Iteration 2:   log pseudolikelihood = -5097.1109
Refining estimates:
Iteration 0:   log pseudolikelihood = -5097.1109

Cox regression with Breslow method for ties

No. of subjects =       9,508                           Number of obs =  5,077
No. of failures =         560
Time at risk    = 262,070.343
                                                        Wald chi2(1)  =   2.05
Log pseudolikelihood = -5097.1109                       Prob > chi2   = 0.1522

                         (Std. err. adjusted for 5,077 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .8108924   .1187253    -1.43   0.152     .6086058    1.080414
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_psa==1
Observed time interval: (stop_ae_psa[_n-1], stop_ae_psa]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj2]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,251  observations end on or before enter()
     10,176  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,108  observations remaining, representing
      5,108  subjects
        320  failures in single-failure-per-subject data
    140,904  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_psa==1
   Analysis time _t: (stop_ae_psa-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj2]

(sum of wgt is 9,531.28807675838)
Iteration 0:   log pseudolikelihood = -5258.2074
Iteration 1:   log pseudolikelihood = -5256.2776
Iteration 2:   log pseudolikelihood = -5256.2771
Refining estimates:
Iteration 0:   log pseudolikelihood = -5256.2771

Cox regression with Breslow method for ties

No. of subjects =       9,531                           Number of obs =  5,108
No. of failures =         577
Time at risk    = 262,545.255
                                                        Wald chi2(1)  =   1.37
Log pseudolikelihood = -5256.2771                       Prob > chi2   = 0.2418

                         (Std. err. adjusted for 5,108 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |    .845674    .121108    -1.17   0.242     .6387095    1.119702
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_axspa==1
Observed time interval: (stop_ae_axspa[_n-1], stop_ae_axspa]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj2]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,258  observations end on or before enter()
     10,248  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,029  observations remaining, representing
      5,029  subjects
        296  failures in single-failure-per-subject data
    139,099  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_axspa==1
   Analysis time _t: (stop_ae_axspa-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj2]

(sum of wgt is 9,395.27804780006)
Iteration 0:   log pseudolikelihood = -5059.4307
Iteration 1:   log pseudolikelihood = -5059.2946
Iteration 2:   log pseudolikelihood = -5059.2946
Refining estimates:
Iteration 0:   log pseudolikelihood = -5059.2946

Cox regression with Breslow method for ties

No. of subjects =       9,395                           Number of obs =  5,029
No. of failures =         556
Time at risk    = 259,357.323
                                                        Wald chi2(1)  =   0.10
Log pseudolikelihood = -5059.2946                       Prob > chi2   = 0.7486

                         (Std. err. adjusted for 5,029 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.045746   .1459484     0.32   0.749     .7954802    1.374749
------------------------------------------------------------------------------

Logistic regression                                     Number of obs = 12,123
                                                        LR chi2(26)   =  13.95
                                                        Prob > chi2   = 0.9737
Log likelihood = -7124.5345                             Pseudo R2     = 0.0010

---------------------------------------------------------------------------------------------
                       drug | Odds ratio   Std. err.      z    P>|z|     [95% conf. interval]
----------------------------+----------------------------------------------------------------
                        age |    .999998    .001082    -0.00   0.999     .9978796    1.002121
                            |
                        sex |
                    Female  |   1.007022   .0410384     0.17   0.864      .929717    1.090756
                            |
                 region_nhs |
             East Midlands  |   1.134994   .1029283     1.40   0.163     .9501698    1.355769
                    London  |   1.032651   .0811371     0.41   0.683      .885265    1.204575
                North East  |   1.038965   .0959098     0.41   0.679     .8670105    1.245024
                North West  |   1.084364   .0977195     0.90   0.369      .908798    1.293846
                South East  |   1.035243   .0935438     0.38   0.701     .8672177    1.235822
                South West  |   1.078136   .0993004     0.82   0.414     .9000663    1.291434
             West Midlands  |   .9659543    .088273    -0.38   0.705     .8075514    1.155428
  Yorkshire and The Humber  |    .954601   .0870504    -0.51   0.610     .7983631    1.141414
                            |
                      imdq5 |
                         2  |   .9939743   .0640856    -0.09   0.925      .875981    1.127861
                         3  |   .9677757   .0627816    -0.50   0.614     .8522275     1.09899
                         4  |   1.018582   .0655676     0.29   0.775     .8978483    1.155551
           5 most deprived  |    .986913   .0642863    -0.20   0.840     .8686257    1.121308
                            |
                  ethnicity |
                     Other  |   1.058711   .0899378     0.67   0.502      .896329     1.25051
               South Asian  |   .9459553   .0823196    -0.64   0.523     .7976213    1.121875
                     White  |   1.001984   .0654631     0.03   0.976     .8815543    1.138867
                            |
   paxlovid_contraindicated |   1.079788    .044189     1.88   0.061     .9965617    1.169965
                            |
         vaccination_status |
           One vaccination  |   .9815826   .0763071    -0.24   0.811     .8428599    1.143137
          Two vaccinations  |   .9260862   .0732958    -0.97   0.332     .7930169    1.081485
        Three vaccinations  |   .9445036   .0509771    -1.06   0.290     .8496934    1.049893
 Four or more vaccinations  |   .9465365   .0757787    -0.69   0.493     .8090792    1.107347
                            |
                   diabetes |   .9521531   .0642608    -0.73   0.468     .8341789    1.086812
    chronic_cardiac_disease |   .9947964   .0681416    -0.08   0.939     .8698184    1.137732
chronic_respiratory_disease |   1.001446   .0685852     0.02   0.983     .8756534     1.14531
               hypertension |   .9970845   .0681584    -0.04   0.966     .8720589    1.140035
                      _cons |   .3701214   .0450093    -8.17   0.000     .2916301    .4697385
---------------------------------------------------------------------------------------------
Note: _cons estimates baseline odds.
(option pr assumed; Pr(drug))
(24,446 missing values generated)
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSafely\Safety mAB and antivirals\Safety-Sotrovimab-Paxlovid-Molnupiravir/output/
> figures/histogram_sot_adj3.gph saved
(33,234 missing values generated)
(8,788 real changes made)

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_diverticulitis==1
Observed time interval: (stop_ae_diverticulitis[_n-1], stop_ae_diverticulitis]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj3]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,162  observations end on or before enter()
      9,566  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,807  observations remaining, representing
      4,807  subjects
        330  failures in single-failure-per-subject data
 132,413.75  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_diverticulitis==1
   Analysis time _t: (stop_ae_diverticulitis-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj3]

(sum of wgt is 8,992.93210196495)
Iteration 0:   log pseudolikelihood = -5335.7978
Iteration 1:   log pseudolikelihood = -5331.5191
Iteration 2:   log pseudolikelihood = -5331.5167
Refining estimates:
Iteration 0:   log pseudolikelihood = -5331.5167

Cox regression with Breslow method for ties

No. of subjects =       8,993                           Number of obs =  4,807
No. of failures =         589
Time at risk    = 247,839.423
                                                        Wald chi2(1)  =   2.99
Log pseudolikelihood = -5331.5167                       Prob > chi2   = 0.0840

                         (Std. err. adjusted for 4,807 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .7803515   .1119889    -1.73   0.084     .5890249    1.033825
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_diarrhoea==1
Observed time interval: (stop_ae_diarrhoea[_n-1], stop_ae_diarrhoea]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj3]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,032  observations end on or before enter()
      9,667  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,836  observations remaining, representing
      4,836  subjects
        351  failures in single-failure-per-subject data
 133,093.25  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_diarrhoea==1
   Analysis time _t: (stop_ae_diarrhoea-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj3]

(sum of wgt is 9,061.82267892361)
Iteration 0:   log pseudolikelihood = -5754.7821
Iteration 1:   log pseudolikelihood = -5752.8353
Iteration 2:   log pseudolikelihood = -5752.8349
Refining estimates:
Iteration 0:   log pseudolikelihood = -5752.8349

Cox regression with Breslow method for ties

No. of subjects =       9,062                           Number of obs =  4,836
No. of failures =         635
Time at risk    = 249,146.697
                                                        Wald chi2(1)  =   1.39
Log pseudolikelihood = -5752.8349                       Prob > chi2   = 0.2388

                         (Std. err. adjusted for 4,836 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .8521126   .1157617    -1.18   0.239     .6529187    1.112077
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_taste==1
Observed time interval: (stop_ae_taste[_n-1], stop_ae_taste]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj3]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     18,875  observations end on or before enter()
     11,139  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,521  observations remaining, representing
      5,521  subjects
        287  failures in single-failure-per-subject data
    152,448  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_taste==1
   Analysis time _t: (stop_ae_taste-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj3]

(sum of wgt is 10,278.8803956509)
Iteration 0:   log pseudolikelihood = -4966.9832
Iteration 1:   log pseudolikelihood = -4966.5761
Iteration 2:   log pseudolikelihood = -4966.5761
Refining estimates:
Iteration 0:   log pseudolikelihood = -4966.5761

Cox regression with Breslow method for ties

No. of subjects =      10,279                           Number of obs =  5,521
No. of failures =         541
Time at risk    = 282,975.346
                                                        Wald chi2(1)  =   0.31
Log pseudolikelihood = -4966.5761                       Prob > chi2   = 0.5801

                         (Std. err. adjusted for 5,521 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.081657   .1534583     0.55   0.580      .819081    1.428408
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_rash==1
Observed time interval: (stop_ae_rash[_n-1], stop_ae_rash]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj3]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,053  observations end on or before enter()
      9,707  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,775  observations remaining, representing
      4,775  subjects
        351  failures in single-failure-per-subject data
  131,163.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_rash==1
   Analysis time _t: (stop_ae_rash-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj3]

(sum of wgt is 8,926.29261481762)
Iteration 0:   log pseudolikelihood = -5844.8929
Iteration 1:   log pseudolikelihood = -5844.4759
Iteration 2:   log pseudolikelihood = -5844.4758
Refining estimates:
Iteration 0:   log pseudolikelihood = -5844.4758

Cox regression with Breslow method for ties

No. of subjects =       8,926                           Number of obs =  4,775
No. of failures =         646
Time at risk    = 244,906.349
                                                        Wald chi2(1)  =   0.30
Log pseudolikelihood = -5844.4758                       Prob > chi2   = 0.5818

                         (Std. err. adjusted for 4,775 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .9295276   .1233513    -0.55   0.582     .7166467    1.205645
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_bronchospasm==1
Observed time interval: (stop_ae_bronchospasm[_n-1], stop_ae_bronchospasm]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj3]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     15,943  observations end on or before enter()
     13,090  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      6,502  observations remaining, representing
      6,502  subjects
        175  failures in single-failure-per-subject data
  181,208.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_bronchospasm==1
   Analysis time _t: (stop_ae_bronchospasm-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj3]

(sum of wgt is 12,046.0601974726)
Iteration 0:   log pseudolikelihood = -3003.8236
Iteration 1:   log pseudolikelihood = -3003.7871
Iteration 2:   log pseudolikelihood = -3003.7871
Refining estimates:
Iteration 0:   log pseudolikelihood = -3003.7871

Cox regression with Breslow method for ties

No. of subjects =      12,046                           Number of obs =  6,502
No. of failures =         321
Time at risk    = 335,209.856
                                                        Wald chi2(1)  =   0.03
Log pseudolikelihood = -3003.7871                       Prob > chi2   = 0.8695

                         (Std. err. adjusted for 6,502 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .9697227   .1814605    -0.16   0.869     .6719942     1.39936
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_contactderm==1
Observed time interval: (stop_ae_contactderm[_n-1], stop_ae_contactderm]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj3]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,099  observations end on or before enter()
      9,627  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,809  observations remaining, representing
      4,809  subjects
        347  failures in single-failure-per-subject data
  132,076.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_contactderm==1
   Analysis time _t: (stop_ae_contactderm-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj3]

(sum of wgt is 9,026.14771866798)
Iteration 0:   log pseudolikelihood = -5878.2525
Iteration 1:   log pseudolikelihood = -5878.2521
Iteration 2:   log pseudolikelihood = -5878.2521
Refining estimates:
Iteration 0:   log pseudolikelihood = -5878.2521

Cox regression with Breslow method for ties

No. of subjects =       9,026                           Number of obs =  4,809
No. of failures =         649
Time at risk    = 247,280.505
                                                        Wald chi2(1)  =   0.00
Log pseudolikelihood = -5878.2521                       Prob > chi2   = 0.9863

                         (Std. err. adjusted for 4,809 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .9977616   .1301181    -0.02   0.986      .772719    1.288344
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_dizziness==1
Observed time interval: (stop_ae_dizziness[_n-1], stop_ae_dizziness]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj3]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,224  observations end on or before enter()
      9,571  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,740  observations remaining, representing
      4,740  subjects
        333  failures in single-failure-per-subject data
 130,552.75  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_dizziness==1
   Analysis time _t: (stop_ae_dizziness-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj3]

(sum of wgt is 8,819.32304000854)
Iteration 0:   log pseudolikelihood = -5789.4056
Iteration 1:   log pseudolikelihood = -5786.9662
Iteration 2:   log pseudolikelihood = -5786.9658
Refining estimates:
Iteration 0:   log pseudolikelihood = -5786.9658

Cox regression with Breslow method for ties

No. of subjects =       8,819                           Number of obs =  4,740
No. of failures =         641
Time at risk    = 242,121.739
                                                        Wald chi2(1)  =   1.87
Log pseudolikelihood = -5786.9658                       Prob > chi2   = 0.1718

                         (Std. err. adjusted for 4,740 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.192181   .1533847     1.37   0.172      .926462    1.534112
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_nausea_vomit==1
Observed time interval: (stop_ae_nausea_vomit[_n-1], stop_ae_nausea_vomit]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj3]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     18,897  observations end on or before enter()
     11,128  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,510  observations remaining, representing
      5,510  subjects
        276  failures in single-failure-per-subject data
    152,929  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_nausea_vomit==1
   Analysis time _t: (stop_ae_nausea_vomit-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj3]

(sum of wgt is 10,268.7708121538)
Iteration 0:   log pseudolikelihood = -4530.9667
Iteration 1:   log pseudolikelihood = -4528.4449
Iteration 2:   log pseudolikelihood = -4528.4439
Refining estimates:
Iteration 0:   log pseudolikelihood = -4528.4439

Cox regression with Breslow method for ties

No. of subjects =      10,269                           Number of obs =  5,510
No. of failures =         493
Time at risk    = 284,662.814
                                                        Wald chi2(1)  =   1.77
Log pseudolikelihood = -4528.4439                       Prob > chi2   = 0.1835

                         (Std. err. adjusted for 5,510 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .8120458   .1271038    -1.33   0.183     .5975137    1.103604
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_headache==1
Observed time interval: (stop_ae_headache[_n-1], stop_ae_headache]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj3]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,091  observations end on or before enter()
      9,633  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,811  observations remaining, representing
      4,811  subjects
        352  failures in single-failure-per-subject data
    131,934  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_headache==1
   Analysis time _t: (stop_ae_headache-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj3]

(sum of wgt is 9,009.82139360905)
Iteration 0:   log pseudolikelihood =  -5985.859
Iteration 1:   log pseudolikelihood = -5985.7489
Iteration 2:   log pseudolikelihood = -5985.7489
Refining estimates:
Iteration 0:   log pseudolikelihood = -5985.7489

Cox regression with Breslow method for ties

No. of subjects =       9,010                           Number of obs =  4,811
No. of failures =         661
Time at risk    = 246,312.601
                                                        Wald chi2(1)  =   0.08
Log pseudolikelihood = -5985.7489                       Prob > chi2   = 0.7737

                         (Std. err. adjusted for 4,811 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.037594   .1331446     0.29   0.774     .8068651    1.334302
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_anaphylaxis==1
Observed time interval: (stop_ae_anaphylaxis[_n-1], stop_ae_anaphylaxis]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj3]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,125  observations end on or before enter()
      9,659  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,751  observations remaining, representing
      4,751  subjects
        358  failures in single-failure-per-subject data
 130,415.25  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_anaphylaxis==1
   Analysis time _t: (stop_ae_anaphylaxis-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj3]

(sum of wgt is 8,932.76273858547)
Iteration 0:   log pseudolikelihood = -5841.4397
Iteration 1:   log pseudolikelihood = -5838.6385
Iteration 2:   log pseudolikelihood = -5838.6377
Refining estimates:
Iteration 0:   log pseudolikelihood = -5838.6377

Cox regression with Breslow method for ties

No. of subjects =       8,933                           Number of obs =  4,751
No. of failures =         646
Time at risk    = 244,772.721
                                                        Wald chi2(1)  =   1.99
Log pseudolikelihood = -5838.6377                       Prob > chi2   = 0.1582

                         (Std. err. adjusted for 4,751 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .8265237   .1115889    -1.41   0.158     .6343584    1.076901
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_drugreaction==1
Observed time interval: (stop_ae_drugreaction[_n-1], stop_ae_drugreaction]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj3]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     25,532  observations end on or before enter()
      6,740  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      3,263  observations remaining, representing
      3,263  subjects
        452  failures in single-failure-per-subject data
  86,950.75  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_drugreaction==1
   Analysis time _t: (stop_ae_drugreaction-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj3]

(sum of wgt is 6,180.05942308903)
Iteration 0:   log pseudolikelihood = -7213.7268
Iteration 1:   log pseudolikelihood = -7212.1811
Iteration 2:   log pseudolikelihood =  -7212.181
Refining estimates:
Iteration 0:   log pseudolikelihood =  -7212.181

Cox regression with Breslow method for ties

No. of subjects =       6,180                           Number of obs =  3,263
No. of failures =         834
Time at risk    = 164,624.803
                                                        Wald chi2(1)  =   1.13
Log pseudolikelihood = -7212.181                        Prob > chi2   = 0.2885

                         (Std. err. adjusted for 3,263 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |    .883782   .1028766    -1.06   0.289     .7034952    1.110272
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_ra==1
Observed time interval: (stop_ae_ra[_n-1], stop_ae_ra]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj3]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,261  observations end on or before enter()
     10,225  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,049  observations remaining, representing
      5,049  subjects
        311  failures in single-failure-per-subject data
    139,575  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_ra==1
   Analysis time _t: (stop_ae_ra-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj3]

(sum of wgt is 9,442.55670452118)
Iteration 0:   log pseudolikelihood = -5436.7734
Iteration 1:   log pseudolikelihood =  -5435.244
Iteration 2:   log pseudolikelihood = -5435.2439
Refining estimates:
Iteration 0:   log pseudolikelihood = -5435.2439

Cox regression with Breslow method for ties

No. of subjects =      9,443                            Number of obs =  5,049
No. of failures =        597
Time at risk    = 260,161.63
                                                        Wald chi2(1)  =   1.17
Log pseudolikelihood = -5435.2439                       Prob > chi2   = 0.2793

                         (Std. err. adjusted for 5,049 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.155053   .1538901     1.08   0.279     .8895993    1.499717
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_sle==1
Observed time interval: (stop_ae_sle[_n-1], stop_ae_sle]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj3]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,168  observations end on or before enter()
     10,316  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,051  observations remaining, representing
      5,051  subjects
        315  failures in single-failure-per-subject data
    139,076  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_sle==1
   Analysis time _t: (stop_ae_sle-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj3]

(sum of wgt is 9,463.86967754364)
Iteration 0:   log pseudolikelihood = -5124.5423
Iteration 1:   log pseudolikelihood = -5120.9473
Iteration 2:   log pseudolikelihood = -5120.9456
Refining estimates:
Iteration 0:   log pseudolikelihood = -5120.9456

Cox regression with Breslow method for ties

No. of subjects =       9,464                           Number of obs =  5,051
No. of failures =         563
Time at risk    = 260,350.035
                                                        Wald chi2(1)  =   2.51
Log pseudolikelihood = -5120.9456                       Prob > chi2   = 0.1128

                         (Std. err. adjusted for 5,051 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |    .792655   .1161439    -1.59   0.113     .5947874    1.056347
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_psorasis==1
Observed time interval: (stop_ae_psorasis[_n-1], stop_ae_psorasis]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj3]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,124  observations end on or before enter()
     10,334  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,077  observations remaining, representing
      5,077  subjects
        312  failures in single-failure-per-subject data
 140,135.75  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_psorasis==1
   Analysis time _t: (stop_ae_psorasis-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj3]

(sum of wgt is 9,523.26875531673)
Iteration 0:   log pseudolikelihood = -5105.5565
Iteration 1:   log pseudolikelihood = -5102.6146
Iteration 2:   log pseudolikelihood = -5102.6135
Refining estimates:
Iteration 0:   log pseudolikelihood = -5102.6135

Cox regression with Breslow method for ties

No. of subjects =       9,523                           Number of obs =  5,077
No. of failures =         561
Time at risk    = 262,517.495
                                                        Wald chi2(1)  =   2.06
Log pseudolikelihood = -5102.6135                       Prob > chi2   = 0.1512

                         (Std. err. adjusted for 5,077 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .8104158   .1186895    -1.44   0.151     .6081982    1.079868
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_psa==1
Observed time interval: (stop_ae_psa[_n-1], stop_ae_psa]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj3]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,251  observations end on or before enter()
     10,176  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,108  observations remaining, representing
      5,108  subjects
        320  failures in single-failure-per-subject data
    140,904  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_psa==1
   Analysis time _t: (stop_ae_psa-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj3]

(sum of wgt is 9,543.19380795956)
Iteration 0:   log pseudolikelihood = -5263.1415
Iteration 1:   log pseudolikelihood = -5260.9962
Iteration 2:   log pseudolikelihood = -5260.9956
Refining estimates:
Iteration 0:   log pseudolikelihood = -5260.9956

Cox regression with Breslow method for ties

No. of subjects =       9,543                           Number of obs =  5,108
No. of failures =         577
Time at risk    = 262,902.698
                                                        Wald chi2(1)  =   1.52
Log pseudolikelihood = -5260.9956                       Prob > chi2   = 0.2175

                         (Std. err. adjusted for 5,108 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .8380174   .1200748    -1.23   0.217      .632833    1.109729
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_axspa==1
Observed time interval: (stop_ae_axspa[_n-1], stop_ae_axspa]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj3]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,258  observations end on or before enter()
     10,248  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,029  observations remaining, representing
      5,029  subjects
        296  failures in single-failure-per-subject data
    139,099  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_axspa==1
   Analysis time _t: (stop_ae_axspa-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj3]

(sum of wgt is 9,406.00296938419)
Iteration 0:   log pseudolikelihood = -5048.6452
Iteration 1:   log pseudolikelihood = -5048.5574
Iteration 2:   log pseudolikelihood = -5048.5574
Refining estimates:
Iteration 0:   log pseudolikelihood = -5048.5574

Cox regression with Breslow method for ties

No. of subjects =       9,406                           Number of obs =  5,029
No. of failures =         555
Time at risk    = 259,731.467
                                                        Wald chi2(1)  =   0.07
Log pseudolikelihood = -5048.5574                       Prob > chi2   = 0.7968

                         (Std. err. adjusted for 5,029 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.036631   .1448015     0.26   0.797     .7883591    1.363088
------------------------------------------------------------------------------
note: White omitted because of collinearity.

Logistic regression                                     Number of obs = 12,123
                                                        LR chi2(26)   =  14.87
                                                        Prob > chi2   = 0.9597
Log likelihood = -7124.0745                             Pseudo R2     = 0.0010

---------------------------------------------------------------------------------------------
                       drug | Odds ratio   Std. err.      z    P>|z|     [95% conf. interval]
----------------------------+----------------------------------------------------------------
                        age |   .9998494   .0010943    -0.14   0.891     .9977068    1.001996
                            |
                        sex |
                    Female  |   1.006916   .0410418     0.17   0.866     .9296048    1.090657
                            |
                 region_nhs |
             East Midlands  |   1.134529   .1028993     1.39   0.164      .949759    1.355245
                    London  |   1.033818   .0812435     0.42   0.672      .886241     1.20597
                North East  |   1.039743   .0959844     0.42   0.673     .8676549    1.245963
                North West  |   1.083424    .097647     0.89   0.374     .9079899    1.292753
                South East  |   1.037397    .093754     0.41   0.685     .8689968    1.238431
                South West  |   1.078576   .0993435     0.82   0.412     .9004302    1.291968
             West Midlands  |   .9657737   .0882628    -0.38   0.703     .8073901    1.155227
  Yorkshire and The Humber  |   .9568571   .0872584    -0.48   0.629     .8002463    1.144117
                            |
                      imdq5 |
                         2  |   .9944999   .0641229    -0.09   0.932     .8764384    1.128465
                         3  |   .9668714   .0627271    -0.52   0.604     .8514239    1.097973
                         4  |    1.01594   .0654268     0.25   0.806      .895469    1.152619
           5 most deprived  |   .9851311   .0641886    -0.23   0.818     .8670257    1.119325
                            |
                      White |          1  (omitted)
                            |
   paxlovid_contraindicated |   1.078976    .044161     1.86   0.063     .9958026    1.169096
                            |
         vaccination_status |
           One vaccination  |   .9833259   .0764518    -0.22   0.829     .8443414    1.145188
          Two vaccinations  |   .9264603   .0733263    -0.97   0.334     .7933357    1.081924
        Three vaccinations  |   .9441404   .0509769    -1.06   0.287     .8493325    1.049531
 Four or more vaccinations  |    .945031   .0756563    -0.71   0.480     .8077955    1.105581
                            |
                   diabetes |   .9525425   .0642873    -0.72   0.471     .8345196    1.087257
    chronic_cardiac_disease |    .991715   .0679477    -0.12   0.903     .8670946    1.134246
chronic_respiratory_disease |   1.000764    .068544     0.01   0.991     .8750468    1.144542
               hypertension |   .9965462   .0681256    -0.05   0.960     .8715811    1.139428
                   dementia |   1.084302    .089804     0.98   0.328     .9218331    1.275406
                  care_home |    1.08441   .0721496     1.22   0.223     .9518313    1.235455
     serious_mental_illness |   1.026876   .0682929     0.40   0.690     .9013811    1.169843
                      _cons |   .3679358   .0396548    -9.28   0.000     .2978741    .4544765
---------------------------------------------------------------------------------------------
Note: _cons estimates baseline odds.
(option pr assumed; Pr(drug))
(24,446 missing values generated)
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSafely\Safety mAB and antivirals\Safety-Sotrovimab-Paxlovid-Molnupiravir/output/
> figures/histogram_sot_adj4.gph saved
(33,234 missing values generated)
(8,788 real changes made)

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_diverticulitis==1
Observed time interval: (stop_ae_diverticulitis[_n-1], stop_ae_diverticulitis]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj4]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,162  observations end on or before enter()
      9,566  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,807  observations remaining, representing
      4,807  subjects
        330  failures in single-failure-per-subject data
 132,413.75  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_diverticulitis==1
   Analysis time _t: (stop_ae_diverticulitis-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj4]

(sum of wgt is 8,997.07535135746)
Iteration 0:   log pseudolikelihood = -5330.3904
Iteration 1:   log pseudolikelihood = -5326.0544
Iteration 2:   log pseudolikelihood =  -5326.052
Refining estimates:
Iteration 0:   log pseudolikelihood =  -5326.052

Cox regression with Breslow method for ties

No. of subjects =       8,997                           Number of obs =  4,807
No. of failures =         589
Time at risk    = 247,945.467
                                                        Wald chi2(1)  =   3.03
Log pseudolikelihood = -5326.052                        Prob > chi2   = 0.0818

                         (Std. err. adjusted for 4,807 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .7789471   .1118092    -1.74   0.082     .5879325    1.032021
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_diarrhoea==1
Observed time interval: (stop_ae_diarrhoea[_n-1], stop_ae_diarrhoea]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj4]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,032  observations end on or before enter()
      9,667  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,836  observations remaining, representing
      4,836  subjects
        351  failures in single-failure-per-subject data
 133,093.25  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_diarrhoea==1
   Analysis time _t: (stop_ae_diarrhoea-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj4]

(sum of wgt is 9,062.68122005463)
Iteration 0:   log pseudolikelihood = -5758.4271
Iteration 1:   log pseudolikelihood = -5756.4424
Iteration 2:   log pseudolikelihood =  -5756.442
Refining estimates:
Iteration 0:   log pseudolikelihood =  -5756.442

Cox regression with Breslow method for ties

No. of subjects =       9,063                           Number of obs =  4,836
No. of failures =         636
Time at risk    = 249,168.759
                                                        Wald chi2(1)  =   1.41
Log pseudolikelihood = -5756.442                        Prob > chi2   = 0.2345

                         (Std. err. adjusted for 4,836 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .8508149    .115625    -1.19   0.235     .6518648    1.110485
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_taste==1
Observed time interval: (stop_ae_taste[_n-1], stop_ae_taste]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj4]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     18,875  observations end on or before enter()
     11,139  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,521  observations remaining, representing
      5,521  subjects
        287  failures in single-failure-per-subject data
    152,448  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_taste==1
   Analysis time _t: (stop_ae_taste-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj4]

(sum of wgt is 10,279.9384922981)
Iteration 0:   log pseudolikelihood = -4974.2198
Iteration 1:   log pseudolikelihood = -4973.7985
Iteration 2:   log pseudolikelihood = -4973.7985
Refining estimates:
Iteration 0:   log pseudolikelihood = -4973.7985

Cox regression with Breslow method for ties

No. of subjects =      10,280                           Number of obs =  5,521
No. of failures =         541
Time at risk    = 282,971.427
                                                        Wald chi2(1)  =   0.32
Log pseudolikelihood = -4973.7985                       Prob > chi2   = 0.5739

                         (Std. err. adjusted for 5,521 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.083059   .1536843     0.56   0.574     .8201027     1.43033
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_rash==1
Observed time interval: (stop_ae_rash[_n-1], stop_ae_rash]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj4]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,053  observations end on or before enter()
      9,707  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,775  observations remaining, representing
      4,775  subjects
        351  failures in single-failure-per-subject data
  131,163.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_rash==1
   Analysis time _t: (stop_ae_rash-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj4]

(sum of wgt is 8,927.92771041393)
Iteration 0:   log pseudolikelihood = -5842.5301
Iteration 1:   log pseudolikelihood = -5842.0816
Iteration 2:   log pseudolikelihood = -5842.0815
Refining estimates:
Iteration 0:   log pseudolikelihood = -5842.0815

Cox regression with Breslow method for ties

No. of subjects =       8,928                           Number of obs =  4,775
No. of failures =         646
Time at risk    = 244,966.054
                                                        Wald chi2(1)  =   0.33
Log pseudolikelihood = -5842.0815                       Prob > chi2   = 0.5678

                         (Std. err. adjusted for 4,775 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .9269842    .123028    -0.57   0.568     .7146643    1.202382
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_bronchospasm==1
Observed time interval: (stop_ae_bronchospasm[_n-1], stop_ae_bronchospasm]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj4]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     15,943  observations end on or before enter()
     13,090  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      6,502  observations remaining, representing
      6,502  subjects
        175  failures in single-failure-per-subject data
  181,208.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_bronchospasm==1
   Analysis time _t: (stop_ae_bronchospasm-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj4]

(sum of wgt is 12,043.7525055408)
Iteration 0:   log pseudolikelihood =  -2998.085
Iteration 1:   log pseudolikelihood = -2998.0454
Iteration 2:   log pseudolikelihood = -2998.0454
Refining estimates:
Iteration 0:   log pseudolikelihood = -2998.0454

Cox regression with Breslow method for ties

No. of subjects =      12,044                           Number of obs =  6,502
No. of failures =         320
Time at risk    = 335,150.261
                                                        Wald chi2(1)  =   0.03
Log pseudolikelihood = -2998.0454                       Prob > chi2   = 0.8639

                         (Std. err. adjusted for 6,502 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .9684385   .1812549    -0.17   0.864     .6710571    1.397606
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_contactderm==1
Observed time interval: (stop_ae_contactderm[_n-1], stop_ae_contactderm]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj4]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,099  observations end on or before enter()
      9,627  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,809  observations remaining, representing
      4,809  subjects
        347  failures in single-failure-per-subject data
  132,076.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_contactderm==1
   Analysis time _t: (stop_ae_contactderm-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj4]

(sum of wgt is 9,023.18329298496)
Iteration 0:   log pseudolikelihood = -5853.0907
Iteration 1:   log pseudolikelihood = -5853.0798
Iteration 2:   log pseudolikelihood = -5853.0798
Refining estimates:
Iteration 0:   log pseudolikelihood = -5853.0798

Cox regression with Breslow method for ties

No. of subjects =       9,023                           Number of obs =  4,809
No. of failures =         646
Time at risk    = 247,230.561
                                                        Wald chi2(1)  =   0.01
Log pseudolikelihood = -5853.0798                       Prob > chi2   = 0.9282

                         (Std. err. adjusted for 4,809 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .9883036   .1289577    -0.09   0.928     .7652835    1.276317
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_dizziness==1
Observed time interval: (stop_ae_dizziness[_n-1], stop_ae_dizziness]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj4]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,224  observations end on or before enter()
      9,571  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,740  observations remaining, representing
      4,740  subjects
        333  failures in single-failure-per-subject data
 130,552.75  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_dizziness==1
   Analysis time _t: (stop_ae_dizziness-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj4]

(sum of wgt is 8,822.41761159897)
Iteration 0:   log pseudolikelihood = -5775.0429
Iteration 1:   log pseudolikelihood = -5772.7404
Iteration 2:   log pseudolikelihood =   -5772.74
Refining estimates:
Iteration 0:   log pseudolikelihood =   -5772.74

Cox regression with Breslow method for ties

No. of subjects =       8,822                           Number of obs =  4,740
No. of failures =         640
Time at risk    = 242,236.021
                                                        Wald chi2(1)  =   1.77
Log pseudolikelihood = -5772.74                         Prob > chi2   = 0.1839

                         (Std. err. adjusted for 4,740 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.186511   .1526892     1.33   0.184     .9220036    1.526901
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_nausea_vomit==1
Observed time interval: (stop_ae_nausea_vomit[_n-1], stop_ae_nausea_vomit]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj4]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     18,897  observations end on or before enter()
     11,128  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,510  observations remaining, representing
      5,510  subjects
        276  failures in single-failure-per-subject data
    152,929  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_nausea_vomit==1
   Analysis time _t: (stop_ae_nausea_vomit-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj4]

(sum of wgt is 10,272.3013291359)
Iteration 0:   log pseudolikelihood =  -4539.583
Iteration 1:   log pseudolikelihood = -4537.1646
Iteration 2:   log pseudolikelihood = -4537.1637
Refining estimates:
Iteration 0:   log pseudolikelihood = -4537.1637

Cox regression with Breslow method for ties

No. of subjects =      10,272                           Number of obs =  5,510
No. of failures =         494
Time at risk    = 284,763.822
                                                        Wald chi2(1)  =   1.69
Log pseudolikelihood = -4537.1637                       Prob > chi2   = 0.1933

                         (Std. err. adjusted for 5,510 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .8157888   .1276654    -1.30   0.193      .600303    1.108626
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_headache==1
Observed time interval: (stop_ae_headache[_n-1], stop_ae_headache]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj4]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,091  observations end on or before enter()
      9,633  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,811  observations remaining, representing
      4,811  subjects
        352  failures in single-failure-per-subject data
    131,934  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_headache==1
   Analysis time _t: (stop_ae_headache-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj4]

(sum of wgt is 9,010.05366408825)
Iteration 0:   log pseudolikelihood = -5991.8624
Iteration 1:   log pseudolikelihood = -5991.7421
Iteration 2:   log pseudolikelihood = -5991.7421
Refining estimates:
Iteration 0:   log pseudolikelihood = -5991.7421

Cox regression with Breslow method for ties

No. of subjects =       9,010                           Number of obs =  4,811
No. of failures =         662
Time at risk    = 246,311.485
                                                        Wald chi2(1)  =   0.09
Log pseudolikelihood = -5991.7421                       Prob > chi2   = 0.7638

                         (Std. err. adjusted for 4,811 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.039311   .1333758     0.30   0.764     .8081836    1.336537
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_anaphylaxis==1
Observed time interval: (stop_ae_anaphylaxis[_n-1], stop_ae_anaphylaxis]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj4]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     21,125  observations end on or before enter()
      9,659  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      4,751  observations remaining, representing
      4,751  subjects
        358  failures in single-failure-per-subject data
 130,415.25  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_anaphylaxis==1
   Analysis time _t: (stop_ae_anaphylaxis-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj4]

(sum of wgt is 8,935.30298268795)
Iteration 0:   log pseudolikelihood = -5839.0518
Iteration 1:   log pseudolikelihood = -5836.2688
Iteration 2:   log pseudolikelihood =  -5836.268
Refining estimates:
Iteration 0:   log pseudolikelihood =  -5836.268

Cox regression with Breslow method for ties

No. of subjects =       8,935                           Number of obs =  4,751
No. of failures =         646
Time at risk    = 244,839.154
                                                        Wald chi2(1)  =   1.98
Log pseudolikelihood = -5836.268                        Prob > chi2   = 0.1596

                         (Std. err. adjusted for 4,751 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .8270154   .1116863    -1.41   0.160      .634689    1.077621
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_drugreaction==1
Observed time interval: (stop_ae_drugreaction[_n-1], stop_ae_drugreaction]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj4]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     25,532  observations end on or before enter()
      6,740  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      3,263  observations remaining, representing
      3,263  subjects
        452  failures in single-failure-per-subject data
  86,950.75  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_drugreaction==1
   Analysis time _t: (stop_ae_drugreaction-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj4]

(sum of wgt is 6,181.69943976402)
Iteration 0:   log pseudolikelihood = -7231.9956
Iteration 1:   log pseudolikelihood = -7230.5981
Iteration 2:   log pseudolikelihood =  -7230.598
Refining estimates:
Iteration 0:   log pseudolikelihood =  -7230.598

Cox regression with Breslow method for ties

No. of subjects =      6,182                            Number of obs =  3,263
No. of failures =        836
Time at risk    = 164,660.98
                                                        Wald chi2(1)  =   1.02
Log pseudolikelihood = -7230.598                        Prob > chi2   = 0.3134

                         (Std. err. adjusted for 3,263 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .8893369   .1034611    -1.01   0.313     .7080137    1.117097
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_ra==1
Observed time interval: (stop_ae_ra[_n-1], stop_ae_ra]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj4]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,261  observations end on or before enter()
     10,225  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,049  observations remaining, representing
      5,049  subjects
        311  failures in single-failure-per-subject data
    139,575  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_ra==1
   Analysis time _t: (stop_ae_ra-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj4]

(sum of wgt is 9,443.78940606117)
Iteration 0:   log pseudolikelihood = -5432.3551
Iteration 1:   log pseudolikelihood = -5430.8828
Iteration 2:   log pseudolikelihood = -5430.8826
Refining estimates:
Iteration 0:   log pseudolikelihood = -5430.8826

Cox regression with Breslow method for ties

No. of subjects =       9,444                           Number of obs =  5,049
No. of failures =         597
Time at risk    = 260,204.021
                                                        Wald chi2(1)  =   1.13
Log pseudolikelihood = -5430.8826                       Prob > chi2   = 0.2884

                         (Std. err. adjusted for 5,049 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.152009   .1535433     1.06   0.288     .8871667    1.495914
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_sle==1
Observed time interval: (stop_ae_sle[_n-1], stop_ae_sle]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj4]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,168  observations end on or before enter()
     10,316  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,051  observations remaining, representing
      5,051  subjects
        315  failures in single-failure-per-subject data
    139,076  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_sle==1
   Analysis time _t: (stop_ae_sle-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj4]

(sum of wgt is 9,462.37831795216)
Iteration 0:   log pseudolikelihood =  -5126.179
Iteration 1:   log pseudolikelihood = -5122.5511
Iteration 2:   log pseudolikelihood = -5122.5494
Refining estimates:
Iteration 0:   log pseudolikelihood = -5122.5494

Cox regression with Breslow method for ties

No. of subjects =       9,462                           Number of obs =  5,051
No. of failures =         563
Time at risk    = 260,309.701
                                                        Wald chi2(1)  =   2.54
Log pseudolikelihood = -5122.5494                       Prob > chi2   = 0.1111

                         (Std. err. adjusted for 5,051 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .7918164   .1160087    -1.59   0.111     .5941762    1.055197
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_psorasis==1
Observed time interval: (stop_ae_psorasis[_n-1], stop_ae_psorasis]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj4]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,124  observations end on or before enter()
     10,334  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,077  observations remaining, representing
      5,077  subjects
        312  failures in single-failure-per-subject data
 140,135.75  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_psorasis==1
   Analysis time _t: (stop_ae_psorasis-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj4]

(sum of wgt is 9,526.0179131031)
Iteration 0:   log pseudolikelihood = -5096.9357
Iteration 1:   log pseudolikelihood = -5093.8464
Iteration 2:   log pseudolikelihood = -5093.8452
Refining estimates:
Iteration 0:   log pseudolikelihood = -5093.8452

Cox regression with Breslow method for ties

No. of subjects =      9,526                            Number of obs =  5,077
No. of failures =        560
Time at risk    = 262,590.04
                                                        Wald chi2(1)  =   2.17
Log pseudolikelihood = -5093.8452                       Prob > chi2   = 0.1409

                         (Std. err. adjusted for 5,077 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |    .806001   .1180674    -1.47   0.141      .604849    1.074049
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_psa==1
Observed time interval: (stop_ae_psa[_n-1], stop_ae_psa]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj4]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,251  observations end on or before enter()
     10,176  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,108  observations remaining, representing
      5,108  subjects
        320  failures in single-failure-per-subject data
    140,904  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_psa==1
   Analysis time _t: (stop_ae_psa-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj4]

(sum of wgt is 9,548.72045409679)
Iteration 0:   log pseudolikelihood = -5259.4563
Iteration 1:   log pseudolikelihood = -5257.2752
Iteration 2:   log pseudolikelihood = -5257.2746
Refining estimates:
Iteration 0:   log pseudolikelihood = -5257.2746

Cox regression with Breslow method for ties

No. of subjects =       9,549                           Number of obs =  5,108
No. of failures =         577
Time at risk    = 263,077.112
                                                        Wald chi2(1)  =   1.55
Log pseudolikelihood = -5257.2746                       Prob > chi2   = 0.2136

                         (Std. err. adjusted for 5,108 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   .8367316   .1199324    -1.24   0.214        .6318    1.108135
------------------------------------------------------------------------------

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_axspa==1
Observed time interval: (stop_ae_axspa[_n-1], stop_ae_axspa]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date
                Weight: [pweight=iptw_adj4]

--------------------------------------------------------------------------
     36,569  total observations
      1,034  ignored because never entered
     20,258  observations end on or before enter()
     10,248  weights invalid                                PROBABLE ERROR
--------------------------------------------------------------------------
      5,029  observations remaining, representing
      5,029  subjects
        296  failures in single-failure-per-subject data
    139,099  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        29

         Failure _d: fail_ae_axspa==1
   Analysis time _t: (stop_ae_axspa-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
             Weight: [pweight=iptw_adj4]

(sum of wgt is 9,406.50448715687)
Iteration 0:   log pseudolikelihood = -5034.7582
Iteration 1:   log pseudolikelihood = -5034.6978
Iteration 2:   log pseudolikelihood = -5034.6978
Refining estimates:
Iteration 0:   log pseudolikelihood = -5034.6978

Cox regression with Breslow method for ties

No. of subjects =       9,407                           Number of obs =  5,029
No. of failures =         553
Time at risk    = 259,771.607
                                                        Wald chi2(1)  =   0.05
Log pseudolikelihood = -5034.6978                       Prob > chi2   = 0.8306

                         (Std. err. adjusted for 5,029 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
        drug |
 sotrovimab  |   1.030345   .1439398     0.21   0.831     .7835547    1.354865
------------------------------------------------------------------------------

.                         pbalchk drug $bal_agesex  

               Mean in treated   Mean in Untreated   Standardised diff.
----------------------------------------------------------------------
         age |           48.91              48.86                0.002
         sex |            0.51               0.51               -0.001
----------------------------------------------------------------------


.                         pbalchk drug $bal_agesex, wt(iptw_agesex) graph 

               Mean in treated   Mean in Untreated   Standardised diff.
----------------------------------------------------------------------
         age |           48.87              48.87                0.000
         sex |            0.51               0.51               -0.000
----------------------------------------------------------------------


.                         graph save "$projectdir/output/figures/sot_match_agesex", replace
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSafely\Safety mAB and antivirals\Safety-Sotrovimab-Paxlovid-Molnupiravir/output/
> figures/sot_match_agesex.gph saved

.                         
.                         pbalchk drug $bal_adj  

               Mean in treated   Mean in Untreated   Standardised diff.
----------------------------------------------------------------------
         age |           48.87              48.87               -0.000
         sex |            0.52               0.52                0.004
  region_nhs |            4.76               4.82               -0.022
       imdq5 |            3.00               3.00               -0.001
   ethnicity |            4.20               4.21               -0.005
   bmi_group |            1.93               1.95               -0.024
paxlovid_c~d |            0.55               0.54                0.038
vaccinat~tus |            2.18               2.21               -0.022
    diabetes |            0.10               0.10               -0.015
chronic_ca~e |            0.10               0.10               -0.001
chronic_re~e |            0.10               0.10                0.001
hypertension |            0.10               0.10               -0.001
downs_synd~e |            0.20               0.20                0.011
solid_cancer |            0.09               0.10               -0.032
haem_disease |            0.45               0.49               -0.080
renal_dise~e |            0.31               0.36               -0.108
liver_dise~e |            0.20               0.20               -0.002
imid_on_drug |            0.22               0.22               -0.012
immunosupp~n |            0.11               0.11                0.010
    hiv_aids |            0.19               0.19               -0.005
organ_tran~t |            0.31               0.32               -0.027
  rare_neuro |            0.56               0.59               -0.057
----------------------------------------------------------------------


.                         pbalchk drug $bal_adj, wt(iptw_adj) graph 

               Mean in treated   Mean in Untreated   Standardised diff.
----------------------------------------------------------------------
         age |           48.81              48.87               -0.003
         sex |            0.52               0.52               -0.000
  region_nhs |            4.80               4.80               -0.001
       imdq5 |            3.00               3.00               -0.003
   ethnicity |            4.21               4.21                0.002
   bmi_group |            1.93               1.95               -0.026
paxlovid_c~d |            0.54               0.54                0.005
vaccinat~tus |            2.20               2.20               -0.001
    diabetes |            0.10               0.10               -0.004
chronic_ca~e |            0.10               0.10               -0.002
chronic_re~e |            0.10               0.10               -0.002
hypertension |            0.10               0.10                0.001
downs_synd~e |            0.20               0.20                0.003
solid_cancer |            0.10               0.10                0.001
haem_disease |            0.48               0.48                0.005
renal_dise~e |            0.35               0.35                0.005
liver_dise~e |            0.20               0.20                0.010
imid_on_drug |            0.22               0.22                0.003
immunosupp~n |            0.11               0.11                0.000
    hiv_aids |            0.19               0.19                0.004
organ_tran~t |            0.32               0.32                0.009
  rare_neuro |            0.58               0.58                0.003
----------------------------------------------------------------------


.                         graph save "$projectdir/output/figures/sot_match_adj", replace
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSafely\Safety mAB and antivirals\Safety-Sotrovimab-Paxlovid-Molnupiravir/output/
> figures/sot_match_adj.gph saved

.                         
.                         pbalchk drug $bal_adj2   

               Mean in treated   Mean in Untreated   Standardised diff.
----------------------------------------------------------------------
         age |           48.87              48.87               -0.000
         sex |            0.52               0.52                0.004
  region_nhs |            4.76               4.82               -0.022
       imdq5 |            3.00               3.00               -0.001
   ethnicity |            4.20               4.21               -0.005
   bmi_group |            1.93               1.95               -0.024
----------------------------------------------------------------------


.                         pbalchk drug $bal_adj2, wt(iptw_adj2) graph 

               Mean in treated   Mean in Untreated   Standardised diff.
----------------------------------------------------------------------
         age |           48.89              48.87                0.001
         sex |            0.52               0.52                0.001
  region_nhs |            4.80               4.80               -0.000
       imdq5 |            3.00               3.00               -0.000
   ethnicity |            4.21               4.21               -0.000
   bmi_group |            1.93               1.95               -0.024
----------------------------------------------------------------------


.                         graph save "$projectdir/output/figures/sot_match_adj2", replace
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSafely\Safety mAB and antivirals\Safety-Sotrovimab-Paxlovid-Molnupiravir/output/
> figures/sot_match_adj2.gph saved

.                         
.                         pbalchk drug $bal_adj3 

               Mean in treated   Mean in Untreated   Standardised diff.
----------------------------------------------------------------------
         age |           48.87              48.87               -0.000
         sex |            0.52               0.52                0.004
  region_nhs |            4.76               4.82               -0.022
       imdq5 |            3.00               3.00               -0.001
   ethnicity |            4.20               4.21               -0.005
   bmi_group |            1.93               1.95               -0.024
paxlovid_c~d |            0.55               0.54                0.038
vaccinat~tus |            2.18               2.21               -0.022
    diabetes |            0.10               0.10               -0.015
chronic_ca~e |            0.10               0.10               -0.001
chronic_re~e |            0.10               0.10                0.001
hypertension |            0.10               0.10               -0.001
----------------------------------------------------------------------


.                         pbalchk drug $bal_adj3, wt(iptw_adj3) graph 

               Mean in treated   Mean in Untreated   Standardised diff.
----------------------------------------------------------------------
         age |           48.88              48.87                0.000
         sex |            0.52               0.52               -0.000
  region_nhs |            4.80               4.80               -0.000
       imdq5 |            3.00               3.00               -0.000
   ethnicity |            4.21               4.21               -0.000
   bmi_group |            1.93               1.95               -0.025
paxlovid_c~d |            0.54               0.54               -0.000
vaccinat~tus |            2.20               2.20                0.000
    diabetes |            0.10               0.10               -0.000
chronic_ca~e |            0.10               0.10               -0.000
chronic_re~e |            0.10               0.10               -0.001
hypertension |            0.10               0.10                0.000
----------------------------------------------------------------------


.                         graph save "$projectdir/output/figures/sot_match_adj3", replace
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSafely\Safety mAB and antivirals\Safety-Sotrovimab-Paxlovid-Molnupiravir/output/
> figures/sot_match_adj3.gph saved

.                         
.                         pbalchk drug $bal_adj4 

               Mean in treated   Mean in Untreated   Standardised diff.
----------------------------------------------------------------------
         age |           48.87              48.87               -0.000
         sex |            0.52               0.52                0.004
  region_nhs |            4.76               4.82               -0.022
       imdq5 |            3.00               3.00               -0.001
   ethnicity |            4.20               4.21               -0.005
   bmi_group |            1.93               1.95               -0.024
paxlovid_c~d |            0.55               0.54                0.038
vaccinat~tus |            2.18               2.21               -0.022
    diabetes |            0.10               0.10               -0.015
chronic_ca~e |            0.10               0.10               -0.001
chronic_re~e |            0.10               0.10                0.001
hypertension |            0.10               0.10               -0.001
    dementia |            0.07               0.06                0.021
   care_home |            0.11               0.10                0.025
serious_me~s |            0.11               0.10                0.009
----------------------------------------------------------------------


.                         pbalchk drug $bal_adj4, wt(iptw_adj4) graph 

               Mean in treated   Mean in Untreated   Standardised diff.
----------------------------------------------------------------------
         age |           48.87              48.87               -0.000
         sex |            0.52               0.52                0.000
  region_nhs |            4.81               4.81                0.000
       imdq5 |            3.00               3.00               -0.000
   ethnicity |            4.21               4.21               -0.004
   bmi_group |            1.93               1.95               -0.026
paxlovid_c~d |            0.54               0.54               -0.000
vaccinat~tus |            2.20               2.20                0.001
    diabetes |            0.10               0.10               -0.000
chronic_ca~e |            0.10               0.10               -0.000
chronic_re~e |            0.10               0.10               -0.000
hypertension |            0.10               0.10                0.000
    dementia |            0.06               0.06               -0.000
   care_home |            0.10               0.10               -0.000
serious_me~s |            0.10               0.10                0.001
----------------------------------------------------------------------


.                         graph save "$projectdir/output/figures/sot_match_adj4", replace
(file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSafely\Safety mAB and
    antivirals\Safety-Sotrovimab-Paxlovid-Molnupiravir/output/figures/sot_match_adj4.gph not found)
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSafely\Safety mAB and antivirals\Safety-Sotrovimab-Paxlovid-Molnupiravir/output/
> figures/sot_match_adj4.gph saved

. 
. restore

. postclose `coxoutput_propensity_sot'

. 
end of do-file

. do "C:\Users\k1635179\AppData\Local\Te
> mp\STD1c7c_000000.tmp"

. ** Balancing figures
. graph combine "$projectdir/output/figu
> res/sot_match_agesex.gph" "$projectdir
> /output/figures/pax_match_agesex.gph" 
> "$projectdir/output/figures/mol_match_
> agesex.gph" ///
> , title("PS balancing agesex model") s
> aving("$projectdir/output/figures/bala
> nce_agesex", replace)
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSafely\
> Safety mAB and antivirals\Safety-Sotrovimab-Paxlovid-Molnupiravir/outpu
> t/figures/balance_agesex.gph saved

. graph combine "$projectdir/output/figures/sot_match_adj.gph" "$projectd
> ir/output/figures/pax_match_adj.gph" "$projectdir/output/figures/mol_ma
> tch_adj.gph" ///
> , title("PS balancing adjusted model") saving("$projectdir/output/figur
> es/balance_adj", replace)
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSafely\
> Safety mAB and antivirals\Safety-Sotrovimab-Paxlovid-Molnupiravir/outpu
> t/figures/balance_adj.gph saved

. graph combine "$projectdir/output/figures/sot_match_adj2.gph" "$project
> dir/output/figures/pax_match_adj2.gph" "$projectdir/output/figures/mol_
> match_adj2.gph" ///
> , title("PS balancing adjusted model 2") saving("$projectdir/output/fig
> ures/balance_adj2", replace)
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSafely\
> Safety mAB and antivirals\Safety-Sotrovimab-Paxlovid-Molnupiravir/outpu
> t/figures/balance_adj2.gph saved

. graph combine "$projectdir/output/figures/sot_match_adj3.gph" "$project
> dir/output/figures/pax_match_adj3.gph" "$projectdir/output/figures/mol_
> match_adj3.gph" ///
> , title("PS balancing adjusted model 3") saving("$projectdir/output/fig
> ures/balance_adj3", replace)
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSafely\
> Safety mAB and antivirals\Safety-Sotrovimab-Paxlovid-Molnupiravir/outpu
> t/figures/balance_adj3.gph saved

. graph combine "$projectdir/output/figures/sot_match_adj4.gph" "$project
> dir/output/figures/pax_match_adj4.gph" "$projectdir/output/figures/mol_
> match_adj4.gph" ///
> , title("PS balancing adjusted model 4") saving("$projectdir/output/fig
> ures/balance_adj4", replace)
(file C:\Users\k1635179\OneDrive - King's College
    London\Katie\OpenSafely\Safety mAB and
    antivirals\Safety-Sotrovimab-Paxlovid-Molnupiravir/output/figures/b
    > alance_adj4.gph not found)
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSafely\
> Safety mAB and antivirals\Safety-Sotrovimab-Paxlovid-Molnupiravir/outpu
> t/figures/balance_adj4.gph saved

. 
end of do-file

. do "C:\Users\k1635179\AppData\Local\Temp\STD1c7c_000000.tmp"

.                         pbalchk drug $bal_agesex 

The first variable in the varlist must be a dichotomous exposure variable

.                         pbalchk drug $bal_agesex, wt(iptw_agesex) graph
>  title("histogram agesex adjusted model")
variable iptw_agesex not found
(error in option wt())
r(111);

end of do-file

r(111);

. do "C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSafely
> \Safety mAB and antivirals\Safety-Sotrovimab-Paxlovid-Molnupiravir\anal
> ysis\405_preceeding_rate.do"

. ***********************************************************************
> *********
. *
. *       Do-file:                        preceeding rate
. *       Project:                        Sotrovimab-Paxlovid-Molnupiravi
> r
. *   Date:                               06/4/23
. *       Programmed by:          Katie Bechman
. *       Description:            run cox models
. *       Data used:                      main.dta
. *       Data created:           preceeding rate
. *       Other output:           logfiles, printed to folder $Logdir
. *       User installed ado: (place .ado file(s) in analysis folder)
. 
. ***********************************************************************
> *****************************************
. **Set filepaths
. global projectdir "C:\Users\k1635179\OneDrive - King's College London\K
> atie\OpenSafely\Safety mAB and antivirals\Safety-Sotrovimab-Paxlovid-Mo
> lnupiravir"

. // global projectdir `c(pwd)'
. di "$projectdir"
C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSafely\Safet
> y mAB and antivirals\Safety-Sotrovimab-Paxlovid-Molnupiravir

. capture mkdir "$projectdir/output/data"

. capture mkdir "$projectdir/output/figures"

. capture mkdir "$projectdir/output/tables"

. global logdir "$projectdir/logs"

. di "$logdir"
C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSafely\Safet
> y mAB and antivirals\Safety-Sotrovimab-Paxlovid-Molnupiravir/logs

. * Open a log file
. cap log close

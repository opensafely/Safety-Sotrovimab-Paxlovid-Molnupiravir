-------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /workspace/logs/cleaning_dataset_combine.log
  log type:  text
 opened on:   6 Sep 2023, 11:30:09

. 
. *Set Ado file path
. adopath + "$projectdir/analysis/ado"
  [1]  (BASE)      "/usr/local/stata/ado/base/"
  [2]  (SITE)      "/usr/local/ado/"
  [3]              "."
  [4]  (PERSONAL)  "~/ado/personal/"
  [5]  (PLUS)      "~/ado/plus/"
  [6]  (OLDPLACE)  "~/ado/"
  [7]              "/workspace/analysis/ado"

. 
. *       Import control dataset
. import delimited "$projectdir/output/input_control.csv", clear
(295 vars, 50,000 obs)

. gen control_dataset=1

. *       Convert control strings to dates     * 
. foreach var of varlist   pre_covid_hosp_date                                 
>    ///
>                                                  pre_covid_hosp_discharge    
>                            ///
>                                                  covid_test_positive_date    
>                            ///
>                                                  covid_test_positive_date2   
>                            ///
>                                                  covid_test_positive_date3   
>                            ///
>                                                  covid_test_positive_treat   
>                            ///
>                                                  prior_covid_date            
>                            ///
>                                                  sotrovimab                  
>                                            ///
>                                                  molnupiravir                
>                                    /// 
>                                                  paxlovid                    
>                                            ///
>                                                  remdesivir                  
>                                            ///
>                                                  casirivimab                 
>                                    ///
>                                                  sotrovimab_not_start        
>                            ///
>                                                  molnupiravir_not_start      
>                            ///
>                                                  paxlovid_not_start          
>                                    ///
>                                                  date_treated                
>                                    ///
>                                                  start_date                  
>                                            ///
>                                                  drugs_paxlovid_interaction  
>                            ///
>                                                  drugs_nirmatrelvir_interacti
> on                 ///
>                                                  last_vaccination_date       
>                            ///
>                                                  death_date                  
>                                            ///
>                                                  dereg_date                  
>                                    ///
>                                                  bmi_date_measured           
>                                    ///
>                                                  creatinine_ctv3_date        
>                            ///
>                                                  creatinine_snomed_date      
>                            ///
>                                                  creatinine_short_snomed_date
>                    ///
>                                                  ae_diverticulitis_icd       
>                            ///
>                                                  ae_diverticulitis_icd_prim  
>                            ///
>                                                  ae_diverticulitis_snomed    
>                            ///
>                                                  ae_diverticulitis_ae        
>                            ///                      
>                                                  ae_diarrhoea_snomed         
>                            ///
>                                                  ae_diarrhoea_icd            
>                                    ///
>                                                  ae_diarrhoea_icd_prim       
>                            ///
>                                                  ae_diarrhoeal_icd           
>                                    ///
>                                                  ae_diarrhoeal_icd_prim      
>                            ///              
>                                                  ae_taste_snomed             
>                                    ///
>                                                  ae_taste_icd                
>                                    ///
>                                                  ae_taste_icd_prim           
>                                    ///
>                                                  ae_rash_snomed              
>                                    ///
>                                                  ae_rash_ae                  
>                                            ///
>                                                  ae_rash_icd                 
>                                    ///
>                                                  ae_rash_icd_prim            
>                                    ///              
>                                                  ae_bronchospasm_snomed      
>                            ///
>                                                  ae_contactderm_snomed       
>                            ///
>                                                  ae_contactderm_icd          
>                                    ///
>                                                  ae_contactderm_icd_prim     
>                            ///
>                                                  ae_contactderm_ae           
>                                    ///
>                                                  ae_dizziness_snomed         
>                            ///
>                                                  ae_dizziness_icd            
>                                    ///
>                                                  ae_dizziness_icd_prim       
>                            ///
>                                                  ae_dizziness_ae             
>                                    ///
>                                                  ae_nausea_vomit_snomed      
>                            ///
>                                                  ae_nausea_vomit_icd         
>                            ///
>                                                  ae_nausea_vomit_icd_prim    
>                            ///
>                                                  ae_headache_snomed          
>                                    ///
>                                                  ae_headache_icd             
>                                    ///
>                                                  ae_headache_icd_prim        
>                            ///
>                                                  ae_headache_ae              
>                                    ///
>                                                  ae_anaphylaxis_icd          
>                                    ///
>                                              ae_anaphylaxis_icd_prim         
>                    ///
>                                              ae_anaphylaxis_snomed           
>                            ///
>                                                  ae_anaphlaxis_ae            
>                                    ///
>                                                  ae_severedrug_icd           
>                                    ///
>                                                  ae_severedrug_icd_prim      
>                            ///
>                                                  ae_severedrug_sjs_icd       
>                            ///
>                                                  ae_severedrug_sjs_icd_prim  
>                            ///
>                                                  ae_severedrug_snomed        
>                            ///
>                                                  ae_severedrug_ae            
>                                    ///
>                                                  ae_nonsevere_drug_snomed    
>                            ///
>                                                  ae_nonsevere_drug_ae        
>                            ///
>                                                  ae_rheumatoid_arthritis_icd 
>                    ///
>                                                  ae_rheumatoid_arthritis_icd_
> prim               ///
>                                                  ae_rheumatoid_arthritis_snom
> ed                 ///
>                                                  ae_rheumatoid_arthritis_ae  
>                            ///
>                                                  ae_sle_icd                  
>                                            ///
>                                                  ae_sle_icd_prim             
>                                    ///
>                                                  ae_sle_ae                   
>                                            ///
>                                                  ae_sle_ctv                  
>                                            ///
>                                                  ae_psoriasis_icd            
>                                    ///
>                                                  ae_psoriasis_icd_prim       
>                            ///
>                                                  ae_psoriasis_ae             
>                                    ///
>                                                  ae_psoriasis_snomed         
>                            ///
>                                                  ae_psa_icd                  
>                                            ///
>                                                  ae_psa_icd_prim             
>                                    ///
>                                                  ae_psa_snomed               
>                                    ///
>                                                  ae_psa_ae                   
>                                            ///
>                                                  ae_psa_snomed               
>                                    ///
>                                                  ae_axspa_icd                
>                                    ///
>                                                  ae_axspa_icd_prim           
>                                    ///
>                                                  ae_axspa_ctv                
>                                    ///
>                                                  ae_axspa_ae                 
>                                    ///
>                                                  ae_ibd_icd                  
>                                            ///
>                                                  ae_ibd_icd_prim             
>                                    ///
>                                                  ae_ibd_ctv                  
>                                            ///
>                                                  ae_ibd_ae                   
>                                            ///
>                                                  pre_diverticulitis_icd      
>                            ///
>                                                  pre_diverticulitis_icd_prim 
>                    ///
>                                                  pre_diverticulitis_snomed   
>                            ///
>                                                  pre_diverticulitis_ae       
>                            ///
>                                                  pre_diarrhoea_snomed        
>                            ///
>                                                  pre_diarrhoea_icd           
>                                    ///
>                                                  pre_diarrhoea_icd_prim      
>                            ///
>                                                  pre_diarrhoeal_icd          
>                                    ///
>                                                  pre_diarrhoeal_icd_prim     
>                            ///
>                                                  pre_taste_icd               
>                                    ///
>                                                  pre_taste_icd_prim          
>                                    ///
>                                                  pre_taste_snomed            
>                                    ///
>                                                  pre_rash_snomed             
>                                    ///
>                                                  pre_rash_ae                 
>                                    ///
>                                                  pre_rash_icd                
>                                    ///
>                                                  pre_rash_icd_prim           
>                                    ///
>                                                  pre_bronchospasm_snomed     
>                            ///
>                                                  pre_contactderm_snomed      
>                            ///
>                                                  pre_contactderm_icd         
>                            ///
>                                                  pre_contactderm_icd_prim    
>                            ///
>                                                  pre_contactderm_ae          
>                                    ///
>                                                  pre_dizziness_snomed        
>                            ///
>                                                  pre_dizziness_icd           
>                                    ///
>                                                  pre_dizziness_icd_prim      
>                            ///
>                                                  pre_dizziness_ae            
>                                    ///
>                                                  pre_nausea_vomit_snomed     
>                            ///
>                                                  pre_nausea_vomit_icd        
>                            ///
>                                                  pre_nausea_vomit_icd_prim   
>                            ///
>                                                  pre_headache_snomed         
>                            ///
>                                                  pre_headache_icd            
>                                    ///
>                                                  pre_headache_icd_prim       
>                            ///
>                                                  pre_headache_ae             
>                                    ///
>                                                  pre_anaphylaxis_icd_prim    
>                            ///
>                                                  pre_anaphylaxis_icd         
>                            ///
>                                                  pre_anaphylaxis_snomed      
>                            ///                                              
>                                                  pre_anaphlaxis_ae           
>                                    ///
>                                                  pre_severedrug_icd          
>                                    ///
>                                                  pre_severedrug_icd_prim     
>                            ///
>                                                  pre_severedrug_sjs_icd      
>                            ///
>                                                  pre_severedrug_sjs_icd_prim 
>                    ///
>                                                  pre_severedrug_snomed       
>                            ///
>                                                  pre_severedrug_ae           
>                                    ///
>                                              pre_nonsevere_drug_snomed       
>                    ///
>                                                  pre_nonsevere_drug_ae       
>                            ///
>                                                  pre_rheumatoid_icd_prim     
>                            ///
>                                                  pre_sle_icd_prim            
>                                    ///
>                                                  pre_sle_ctv                 
>                                    ///
>                                                  pre_sle_icd                 
>                                    ///
>                                                  pre_sle_ae                  
>                                            ///
>                                                  pre_rheumatoid_arthritis_icd
>                    ///
>                                                  pre_rheumatoid_icd_prim     
>                            ///
>                                                  pre_rheumatoid_arthritis_ae 
>                    ///
>                                                  pre_rheumatoid_arthritis_sno
> med                ///
>                                                  pre_psoriasis_icd           
>                                    ///
>                                                  pre_psoriasis_icd_prim      
>                            ///
>                                                  pre_psoriasis_snomed        
>                            ///
>                                                  pre_psoriasis_ae            
>                                    /// 
>                                                  pre_psa_icd                 
>                                    /// 
>                                                  pre_psa_icd_prim            
>                                    /// 
>                                                  pre_psa_ae                  
>                                            ///
>                                                  pre_psa_snomed              
>                                    ///                                       
>        
>                                                  pre_axspa_icd               
>                                    ///     
>                                                  pre_axspa_icd_prim          
>                                    ///     
>                                                  pre_axspa_ctv               
>                                    ///
>                                                  pre_axspa_ae                
>                                    ///
>                                                  pre_ibd_ae                  
>                                            ///
>                                                  pre_ibd_ctv                 
>                                    ///
>                                                  pre_ibd_icd                 
>                                    ///
>                                                  pre_ibd_icd_prim            
>                                    ///
>                                                  allcause_emerg_aande        
>                            ///
>                                                  all_hosp_date               
>                                    ///
>                                                  all_hosp_date0              
>                                    ///
>                                                  all_hosp_date1              
>                                    ///
>                                                  all_hosp_date2              
>                                    ///
>                                                  hosp_discharge_date         
>                            ///
>                                                  hosp_discharge_date0        
>                            ///
>                                                  hosp_discharge_date1        
>                            ///
>                                                  hosp_discharge_date2        
>                            ///
>                                                  covid_hosp_date             
>                                    ///
>                                                  covid_hosp_date0            
>                                    ///
>                                                  covid_hosp_date1            
>                                    ///
>                                                  covid_hosp_date2            
>                                    ///                                       
>       
>                                                  covid_discharge_date        
>                            ///
>                                                  covid_discharge_date0       
>                            ///                                             
>                                                  covid_discharge_date1       
>                            /// 
>                                                  covid_discharge_date2       
>                            /// 
>                                                  any_covid_hosp_discharge    
>                            ///                     
>                                                  covid_hosp_date_mabs        
>                            /// 
>                                                  covid_hosp_date_mabs_not_pri
> mary               /// 
>                                                  died_date_ons               
>                                    ///
>                                                  died_ons_covid {            
>                             
  2.         capture confirm string variable `var'
  3.         if _rc==0 {
  4.         rename `var' a
  5.         gen `var' = date(a, "YMD")
  6.         drop a
  7.         format %td `var'
  8.  }
  9. }
(47,500 missing values generated)
(47,500 missing values generated)
(4,999 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(30,000 missing values generated)
(4,999 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(47,562 missing values generated)
(47,500 missing values generated)
(47,500 missing values generated)
(2,500 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(2,500 missing values generated)
(25,000 missing values generated)
(25,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(47,500 missing values generated)
(45,000 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(45,000 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(45,000 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(47,500 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(20,000 missing values generated)
(20,000 missing values generated)

. tab control_dataset

control_dat |
       aset |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |     50,000      100.00      100.00
------------+-----------------------------------
      Total |     50,000      100.00

. save "$projectdir/output/data/control.dta", replace 
file /workspace/output/data/control.dta saved

. //                                               //                          
>    ///
. 
. * import treatment dataset
. import delimited "$projectdir/output/input_treatment.csv", clear
(295 vars, 50,000 obs)

. gen treatment_dataset=1

. 
. *       Convert control strings to dates     * 
. foreach var of varlist   pre_covid_hosp_date                                 
>    ///
>                                                  pre_covid_hosp_discharge    
>                            ///
>                                                  covid_test_positive_date    
>                            ///
>                                                  covid_test_positive_date2   
>                            ///
>                                                  covid_test_positive_date3   
>                            ///
>                                                  covid_test_positive_treat   
>                            ///
>                                                  prior_covid_date            
>                            ///
>                                                  sotrovimab                  
>                                            ///
>                                                  molnupiravir                
>                                    /// 
>                                                  paxlovid                    
>                                            ///
>                                                  remdesivir                  
>                                            ///
>                                                  casirivimab                 
>                                    ///
>                                                  sotrovimab_not_start        
>                            ///
>                                                  molnupiravir_not_start      
>                            ///
>                                                  paxlovid_not_start          
>                                    ///
>                                                  date_treated                
>                                    ///
>                                                  start_date                  
>                                            ///
>                                                  drugs_paxlovid_interaction  
>                            ///
>                                                  drugs_nirmatrelvir_interacti
> on                 ///
>                                                  last_vaccination_date       
>                            ///
>                                                  death_date                  
>                                            ///
>                                                  dereg_date                  
>                                    ///
>                                                  bmi_date_measured           
>                                    ///
>                                                  creatinine_ctv3_date        
>                            ///
>                                                  creatinine_snomed_date      
>                            ///
>                                                  creatinine_short_snomed_date
>                    ///
>                                                  ae_diverticulitis_icd       
>                            ///
>                                                  ae_diverticulitis_icd_prim  
>                            ///
>                                                  ae_diverticulitis_snomed    
>                            ///
>                                                  ae_diverticulitis_ae        
>                            ///                      
>                                                  ae_diarrhoea_snomed         
>                            ///
>                                                  ae_diarrhoea_icd            
>                                    ///
>                                                  ae_diarrhoea_icd_prim       
>                            ///
>                                                  ae_diarrhoeal_icd           
>                                    ///
>                                                  ae_diarrhoeal_icd_prim      
>                            ///              
>                                                  ae_taste_snomed             
>                                    ///
>                                                  ae_taste_icd                
>                                    ///
>                                                  ae_taste_icd_prim           
>                                    ///
>                                                  ae_rash_snomed              
>                                    ///
>                                                  ae_rash_ae                  
>                                            ///
>                                                  ae_rash_icd                 
>                                    ///
>                                                  ae_rash_icd_prim            
>                                    ///              
>                                                  ae_bronchospasm_snomed      
>                            ///
>                                                  ae_contactderm_snomed       
>                            ///
>                                                  ae_contactderm_icd          
>                                    ///
>                                                  ae_contactderm_icd_prim     
>                            ///
>                                                  ae_contactderm_ae           
>                                    ///
>                                                  ae_dizziness_snomed         
>                            ///
>                                                  ae_dizziness_icd            
>                                    ///
>                                                  ae_dizziness_icd_prim       
>                            ///
>                                                  ae_dizziness_ae             
>                                    ///
>                                                  ae_nausea_vomit_snomed      
>                            ///
>                                                  ae_nausea_vomit_icd         
>                            ///
>                                                  ae_nausea_vomit_icd_prim    
>                            ///
>                                                  ae_headache_snomed          
>                                    ///
>                                                  ae_headache_icd             
>                                    ///
>                                                  ae_headache_icd_prim        
>                            ///
>                                                  ae_headache_ae              
>                                    ///
>                                                  ae_anaphylaxis_icd          
>                                    ///
>                                              ae_anaphylaxis_icd_prim         
>                    ///
>                                              ae_anaphylaxis_snomed           
>                            ///
>                                                  ae_anaphlaxis_ae            
>                                    ///
>                                                  ae_severedrug_icd           
>                                    ///
>                                                  ae_severedrug_icd_prim      
>                            ///
>                                                  ae_severedrug_sjs_icd       
>                            ///
>                                                  ae_severedrug_sjs_icd_prim  
>                            ///
>                                                  ae_severedrug_snomed        
>                            ///
>                                                  ae_severedrug_ae            
>                                    ///
>                                                  ae_nonsevere_drug_snomed    
>                            ///
>                                                  ae_nonsevere_drug_ae        
>                            ///
>                                                  ae_rheumatoid_arthritis_icd 
>                    ///
>                                                  ae_rheumatoid_arthritis_icd_
> prim               ///
>                                                  ae_rheumatoid_arthritis_snom
> ed                 ///
>                                                  ae_rheumatoid_arthritis_ae  
>                            ///
>                                                  ae_sle_icd                  
>                                            ///
>                                                  ae_sle_icd_prim             
>                                    ///
>                                                  ae_sle_ae                   
>                                            ///
>                                                  ae_sle_ctv                  
>                                            ///
>                                                  ae_psoriasis_icd            
>                                    ///
>                                                  ae_psoriasis_icd_prim       
>                            ///
>                                                  ae_psoriasis_ae             
>                                    ///
>                                                  ae_psoriasis_snomed         
>                            ///
>                                                  ae_psa_icd                  
>                                            ///
>                                                  ae_psa_icd_prim             
>                                    ///
>                                                  ae_psa_snomed               
>                                    ///
>                                                  ae_psa_ae                   
>                                            ///
>                                                  ae_psa_snomed               
>                                    ///
>                                                  ae_axspa_icd                
>                                    ///
>                                                  ae_axspa_icd_prim           
>                                    ///
>                                                  ae_axspa_ctv                
>                                    ///
>                                                  ae_axspa_ae                 
>                                    ///
>                                                  ae_ibd_icd                  
>                                            ///
>                                                  ae_ibd_icd_prim             
>                                    ///
>                                                  ae_ibd_ctv                  
>                                            ///
>                                                  ae_ibd_ae                   
>                                            ///
>                                                  pre_diverticulitis_icd      
>                            ///
>                                                  pre_diverticulitis_icd_prim 
>                    ///
>                                                  pre_diverticulitis_snomed   
>                            ///
>                                                  pre_diverticulitis_ae       
>                            ///
>                                                  pre_diarrhoea_snomed        
>                            ///
>                                                  pre_diarrhoea_icd           
>                                    ///
>                                                  pre_diarrhoea_icd_prim      
>                            ///
>                                                  pre_diarrhoeal_icd          
>                                    ///
>                                                  pre_diarrhoeal_icd_prim     
>                            ///
>                                                  pre_taste_icd               
>                                    ///
>                                                  pre_taste_icd_prim          
>                                    ///
>                                                  pre_taste_snomed            
>                                    ///
>                                                  pre_rash_snomed             
>                                    ///
>                                                  pre_rash_ae                 
>                                    ///
>                                                  pre_rash_icd                
>                                    ///
>                                                  pre_rash_icd_prim           
>                                    ///
>                                                  pre_bronchospasm_snomed     
>                            ///
>                                                  pre_contactderm_snomed      
>                            ///
>                                                  pre_contactderm_icd         
>                            ///
>                                                  pre_contactderm_icd_prim    
>                            ///
>                                                  pre_contactderm_ae          
>                                    ///
>                                                  pre_dizziness_snomed        
>                            ///
>                                                  pre_dizziness_icd           
>                                    ///
>                                                  pre_dizziness_icd_prim      
>                            ///
>                                                  pre_dizziness_ae            
>                                    ///
>                                                  pre_nausea_vomit_snomed     
>                            ///
>                                                  pre_nausea_vomit_icd        
>                            ///
>                                                  pre_nausea_vomit_icd_prim   
>                            ///
>                                                  pre_headache_snomed         
>                            ///
>                                                  pre_headache_icd            
>                                    ///
>                                                  pre_headache_icd_prim       
>                            ///
>                                                  pre_headache_ae             
>                                    ///
>                                                  pre_anaphylaxis_icd_prim    
>                            ///
>                                                  pre_anaphylaxis_icd         
>                            ///
>                                                  pre_anaphylaxis_snomed      
>                            ///                                              
>                                                  pre_anaphlaxis_ae           
>                                    ///
>                                                  pre_severedrug_icd          
>                                    ///
>                                                  pre_severedrug_icd_prim     
>                            ///
>                                                  pre_severedrug_sjs_icd      
>                            ///
>                                                  pre_severedrug_sjs_icd_prim 
>                    ///
>                                                  pre_severedrug_snomed       
>                            ///
>                                                  pre_severedrug_ae           
>                                    ///
>                                              pre_nonsevere_drug_snomed       
>                    ///
>                                                  pre_nonsevere_drug_ae       
>                            ///
>                                                  pre_rheumatoid_icd_prim     
>                            ///
>                                                  pre_sle_icd_prim            
>                                    ///
>                                                  pre_sle_ctv                 
>                                    ///
>                                                  pre_sle_icd                 
>                                    ///
>                                                  pre_sle_ae                  
>                                            ///
>                                                  pre_rheumatoid_arthritis_icd
>                    ///
>                                                  pre_rheumatoid_icd_prim     
>                            ///
>                                                  pre_rheumatoid_arthritis_ae 
>                    ///
>                                                  pre_rheumatoid_arthritis_sno
> med                ///
>                                                  pre_psoriasis_icd           
>                                    ///
>                                                  pre_psoriasis_icd_prim      
>                            ///
>                                                  pre_psoriasis_snomed        
>                            ///
>                                                  pre_psoriasis_ae            
>                                    /// 
>                                                  pre_psa_icd                 
>                                    /// 
>                                                  pre_psa_icd_prim            
>                                    /// 
>                                                  pre_psa_ae                  
>                                            ///
>                                                  pre_psa_snomed              
>                                    ///                                       
>        
>                                                  pre_axspa_icd               
>                                    ///     
>                                                  pre_axspa_icd_prim          
>                                    ///     
>                                                  pre_axspa_ctv               
>                                    ///
>                                                  pre_axspa_ae                
>                                    ///
>                                                  pre_ibd_ae                  
>                                            ///
>                                                  pre_ibd_ctv                 
>                                    ///
>                                                  pre_ibd_icd                 
>                                    ///
>                                                  pre_ibd_icd_prim            
>                                    ///
>                                                  allcause_emerg_aande        
>                            ///
>                                                  all_hosp_date               
>                                    ///
>                                                  all_hosp_date0              
>                                    ///
>                                                  all_hosp_date1              
>                                    ///
>                                                  all_hosp_date2              
>                                    ///
>                                                  hosp_discharge_date         
>                            ///
>                                                  hosp_discharge_date0        
>                            ///
>                                                  hosp_discharge_date1        
>                            ///
>                                                  hosp_discharge_date2        
>                            ///
>                                                  covid_hosp_date             
>                                    ///
>                                                  covid_hosp_date0            
>                                    ///
>                                                  covid_hosp_date1            
>                                    ///
>                                                  covid_hosp_date2            
>                                    ///                                       
>       
>                                                  covid_discharge_date        
>                            ///
>                                                  covid_discharge_date0       
>                            ///                                             
>                                                  covid_discharge_date1       
>                            /// 
>                                                  covid_discharge_date2       
>                            /// 
>                                                  any_covid_hosp_discharge    
>                            ///                     
>                                                  covid_hosp_date_mabs        
>                            /// 
>                                                  covid_hosp_date_mabs_not_pri
> mary               /// 
>                                                  died_date_ons               
>                                    ///
>                                                  died_ons_covid {            
>                             
  2.         capture confirm string variable `var'
  3.         if _rc==0 {
  4.         rename `var' a
  5.         gen `var' = date(a, "YMD")
  6.         drop a
  7.         format %td `var'
  8.  }
  9. }
(47,500 missing values generated)
(47,500 missing values generated)
(4,999 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(30,000 missing values generated)
(4,999 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(47,546 missing values generated)
(48,513 missing values generated)
(47,500 missing values generated)
(47,500 missing values generated)
(2,500 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(2,500 missing values generated)
(25,000 missing values generated)
(25,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(30,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(47,500 missing values generated)
(45,000 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(45,000 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(45,000 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(49,500 missing values generated)
(47,500 missing values generated)
(45,000 missing values generated)
(45,000 missing values generated)
(20,000 missing values generated)
(20,000 missing values generated)

. tab treatment_dataset

treatment_d |
     ataset |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |     50,000      100.00      100.00
------------+-----------------------------------
      Total |     50,000      100.00

. *********************************
. *  Append control & treatment datasets     *
. ********************************* 
. append using "$projectdir/output/data/control.dta"

. duplicates tag patient_id, gen(duplicate_patient_id)

Duplicates in terms of patient_id

. bys patient_id (treatment_dataset duplicate_patient_id): gen n=_n

. tab n

          n |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |     94,890       94.89       94.89
          2 |      5,110        5.11      100.00
------------+-----------------------------------
      Total |    100,000      100.00

. drop if n>1  // drops duplicate patient id and in control group
(5,110 observations deleted)

. tab control_dataset,m

control_dat |
       aset |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |     44,890       47.31       47.31
          . |     50,000       52.69      100.00
------------+-----------------------------------
      Total |     94,890      100.00

. tab treatment_dataset,m

treatment_d |
     ataset |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |     50,000       52.69       52.69
          . |     44,890       47.31      100.00
------------+-----------------------------------
      Total |     94,890      100.00

. count if start_date==.
  48,513

. count if start_date!=date_treated & treatment_dataset==1
  978

. count if start_date!=covid_test_positive_date & control_dataset==1
  44,813

. gen dataset = 0 if control_dataset==1
(50,000 missing values generated)

. replace dataset= 1 if treatment_dataset==1
(50,000 real changes made)

. label define dataset 0 "control" 1 "drug" 

. label values dataset dataset

. 
. ****************************
. *       INCLUSION               *
. ****************************
. ** inclusion criteria*
. keep if age>=18 & age<110
(20,055 observations deleted)

. keep if sex=="F"|sex=="M"
(0 observations deleted)

. keep if has_died==0
(3,749 observations deleted)

. 
. ** exclusion criteria*
. count if start_date>dereg_date & start_date!=.
  3,420

. count if start_date>death_date & start_date!=.
  3,478

. drop if start_date>death_date | start_date>dereg_date
(13,414 observations deleted)

. 
. ** hospitalised and control cohort
. // control patient, covid test is admission date or discharge date
. count if dataset==0 & start_date==pre_covid_hosp_date
  0

. count if dataset==0 & covid_test_positive_date==pre_covid_hosp_date
  2,598

. count if dataset==0 & start_date==pre_covid_hosp_discharge
  0

. // control patient, covid test is 1 day after discharge date
. count if dataset==0 & (start_date-pre_covid_hosp_discharge<=1) & (start_date-
> pre_covid_hosp_discharge>=0)
  0

. // control patient hospitalised 
. count if dataset==0 & pre_covid_hosp_date!=. 
  1,396

. count if dataset==0 & pre_covid_hosp_date!=. & start_date-pre_covid_hosp_date
> <29
  109

. count if dataset==0 & pre_covid_hosp_date!=. & pre_covid_hosp_discharge==. 
  1,325

. // control patient hospitalised & not discharged
. count if dataset==0 & pre_covid_hosp_date!=. & pre_covid_hosp_discharge==. 
  1,325

. count if dataset==0 & pre_covid_hosp_date!=. & pre_covid_hosp_discharge==. & 
> (start_date-pre_covid_hosp_date<29)
  103

. count if dataset==0 & pre_covid_hosp_date!=. & pre_covid_hosp_discharge==. & 
> (start_date-pre_covid_hosp_date<366)
  194

. // control patient, hospitalised and discharge date preceed admission
. count if dataset==0 & pre_covid_hosp_date>pre_covid_hosp_discharge & pre_covi
> d_hosp_date!=. & pre_covid_hosp_discharge!=.
  31

. count if dataset==0 & pre_covid_hosp_date>pre_covid_hosp_discharge & pre_covi
> d_hosp_date!=. & pre_covid_hosp_discharge!=. & (start_date-pre_covid_hosp_dat
> e<29)
  5

. count if dataset==0 & pre_covid_hosp_date>pre_covid_hosp_discharge & pre_covi
> d_hosp_date!=. & pre_covid_hosp_discharge!=. & (start_date-pre_covid_hosp_dat
> e<366)
  6

. // remove these hospitalised patients from control group
. drop if dataset==0 & start_date==pre_covid_hosp_date
(0 observations deleted)

. drop if dataset==0 & (start_date-pre_covid_hosp_discharge<=1) & (start_date-p
> re_covid_hosp_discharge>=0)
(0 observations deleted)

. drop if dataset==0 & pre_covid_hosp_date!=. & pre_covid_hosp_discharge==. & (
> start_date-pre_covid_hosp_date<366)
(194 observations deleted)

. drop if dataset==0 & pre_covid_hosp_date>pre_covid_hosp_discharge & pre_covid
> _hosp_date!=. & pre_covid_hosp_discharge!=. & (start_date-pre_covid_hosp_date
> <366)
(6 observations deleted)

. 
. ** high risk cohort from blueteq therapeutics datafor drug arms
. tab high_risk_cohort_therapeutics dataset,m //should be 0 in control group

high_risk_cohort_ther |        dataset
             apeutics |   control       drug |     Total
----------------------+----------------------+----------
       Downs syndrome |     2,730      3,039 |     5,769 
          HIV or AIDS |     1,395      1,542 |     2,937 
                 IMID |     2,796      2,950 |     5,746 
    IMID,solid cancer |     2,602      3,059 |     5,661 
                   NA |     1,379      1,569 |     2,948 
haematological dise.. |     1,348      1,561 |     2,909 
haematological mali.. |     1,319      1,456 |     2,775 
        liver disease |     1,449      1,539 |     2,988 
primary immune defi.. |     2,603      2,995 |     5,598 
sickle cell disease.. |     2,720      3,067 |     5,787 
         solid cancer |     2,729      3,007 |     5,736 
solid organ transpl.. |     2,748      3,075 |     5,823 
stem cell transplan.. |     1,304      1,491 |     2,795 
----------------------+----------------------+----------
                Total |    27,122     30,350 |    57,472 

. gen downs_syndrome_therap= 1 if strpos(high_risk_cohort_therapeutics, "Downs 
> syndrome")
(51,703 missing values generated)

. gen solid_cancer_therap=1 if strpos(high_risk_cohort_therapeutics, "solid can
> cer")
(46,075 missing values generated)

. gen haem_disease_therap=1 if strpos(high_risk_cohort_therapeutics, "haematolo
> gical malignancies")
(54,697 missing values generated)

. replace haem_disease_therap=1 if strpos(high_risk_cohort_therapeutics, "haema
> tologic malignancy")
(0 real changes made)

. replace haem_disease_therap=1 if strpos(high_risk_cohort_therapeutics, "sickl
> e cell disease")
(5,787 real changes made)

. replace haem_disease_therap=1 if strpos(high_risk_cohort_therapeutics, "haema
> tological diseases")
(2,909 real changes made)

. replace haem_disease_therap=1 if strpos(high_risk_cohort_therapeutics, "stem 
> cell transplant")
(2,795 real changes made)

. gen renal_disease_therap= 1 if strpos(high_risk_cohort_therapeutics, "renal d
> isease")
(51,649 missing values generated)

. gen liver_disease_therap= 1 if strpos(high_risk_cohort_therapeutics, "liver d
> isease")
(54,484 missing values generated)

. gen imid_on_drug_therap= 1 if strpos(high_risk_cohort_therapeutics, "IMID")
(46,065 missing values generated)

. gen immunosupression_therap= 1 if strpos(high_risk_cohort_therapeutics, "prim
> ary immune deficiencies")
(51,874 missing values generated)

. gen hiv_aids_therap= 1 if strpos(high_risk_cohort_therapeutics, "HIV or AIDS"
> )
(54,535 missing values generated)

. gen organ_transplant_therap= 1 if strpos(high_risk_cohort_therapeutics, "soli
> d organ recipients")
(57,472 missing values generated)

. replace organ_transplant_therap= 1 if strpos(high_risk_cohort_therapeutics, "
> solid organ transplant")
(5,823 real changes made)

. gen rare_neuro_therap= 1 if strpos(high_risk_cohort_therapeutics, "rare neuro
> logical conditions")
(51,685 missing values generated)

. count if high_risk_cohort_therapeutics!=""&high_risk_cohort_therapeutics!="ot
> her"& min(downs_syndrome_therap,solid_cancer_therap,haem_disease_therap,renal
> _disease_therap,liver_disease_therap,imid_on_drug_therap,immunosupression_the
> rap,hiv_aids_therap,organ_transplant_therap,rare_neuro_therap)==. //check if 
> all diseases have been captured
  2,948

. tab high_risk_cohort_therapeutics if high_risk_cohort_therapeutics!=""&high_r
> isk_cohort_therapeutics!="other"& min(downs_syndrome_therap,solid_cancer_ther
> ap,haem_disease_therap,renal_disease_therap,liver_disease_therap,imid_on_drug
> _therap,immunosupression_therap,hiv_aids_therap,organ_transplant_therap,rare_
> neuro_therap)==.

          high_risk_cohort_therapeutics |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                                     NA |      2,948      100.00      100.00
----------------------------------------+-----------------------------------
                                  Total |      2,948      100.00

. gen high_risk_cohort_ther= 1 if high_risk_cohort_therapeutics!=""&high_risk_c
> ohort_therapeutics!="other"

. foreach var of varlist downs_syndrome_therap solid_cancer_therap haem_disease
> _therap renal_disease_therap liver_disease_therap imid_on_drug_therap immunos
> upression_therap hiv_aids_therap organ_transplant_therap rare_neuro_therap{
  2.         replace `var'=0 if `var'==. 
  3. }
(51,703 real changes made)
(46,075 real changes made)
(43,206 real changes made)
(51,649 real changes made)
(54,484 real changes made)
(46,065 real changes made)
(51,874 real changes made)
(54,535 real changes made)
(51,649 real changes made)
(51,685 real changes made)

. 
. ** high risk cohort from open codelist from control group
. tab high_risk_cohort_nhsd,m 

high_risk_c |
 ohort_nhsd |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      1,251        2.18        2.18
          1 |     56,221       97.82      100.00
------------+-----------------------------------
      Total |     57,472      100.00

. count if downs_syndrome==1
  11,038

. count if solid_cancer==1
  5,718

. count if haem_disease==1
  27,303

. count if renal_disease==1
  19,949

. count if liver_disease==1
  10,949

. count if imid_on_drug==1
  28,766

. count if hiv_aids==1
  10,906

. count if organ_transplant==1
  18,021

. count if rare_neuro==1
  32,730

. count if imid_on_drug==1 & imid_nhsd==1 & imid_drug==0 //should be 0
  15,640

. count if imid_on_drug==1 & imid_nhsd==0 & imid_drug==1 //should be 0
  592

. count if imid_on_drug==1 & imid_nhsd==1 & imid_drug==1 & downs_syndrome==0 &s
> olid_cancer==0 &haem_disease==0 &renal_disease==0 &liver_disease==0 &immunosu
> pression==0 &hiv_aids==0 &organ_transplant==0 &rare_neuro==0
  33

. count if oral_steroid_drug_nhsd_6m_count<4 &oral_steroid_drugs_nhsd==1
  569

. count if oral_steroid_drug_nhsd_6m_count<4 &oral_steroid_drugs_nhsd==1 &immun
> osuppresant==0 &methotrexate==0 &ciclosporin==0 &mycophenolate==0 
  548

. count if oral_steroid_drug_nhsd_6m_count<4 &oral_steroid_drugs_nhsd==1 &immun
> osuppresant==0 &methotrexate==0 &ciclosporin==0 &mycophenolate==0 &imid_on_dr
> ug==1
  281

. count if oral_steroid_drug_nhsd_6m_count<4 &oral_steroid_drugs_nhsd==1 &immun
> osuppresant==0 &methotrexate==0 &ciclosporin==0 &mycophenolate==0 &imid_on_dr
> ug==1 &downs_syndrome==0 &solid_cancer==0 &haem_disease==0 &renal_disease==0 
> &liver_disease==0 &immunosupression==0 &hiv_aids==0 &organ_transplant==0 &rar
> e_neuro==0
  7

. count if oral_steroid_drug_nhsd_6m_count<4 &oral_steroid_drugs_nhsd==1 &immun
> osuppresant==0 &methotrexate==0 &ciclosporin==0 &mycophenolate==0 &imid_on_dr
> ug==1 &downs_syndrome==0 &solid_cancer==0 &haem_disease==0 &renal_disease==0 
> &liver_disease==0 &immunosupression==0 &hiv_aids==0 &organ_transplant==0 &rar
> e_neuro==0&dataset==0
  3

. replace imid_drug=0 if oral_steroid_drug_nhsd_6m_count<4 &oral_steroid_drugs_
> nhsd==1 &immunosuppresant==0 &methotrexate==0 &ciclosporin==0 &mycophenolate=
> =0 &imid_on_drug==1 //ignore if steriods<4 scripts in 6m & not coded other im
> id drug 
(281 real changes made)

. replace oral_steroid_drugs_nhsd=0 if oral_steroid_drug_nhsd_6m_count<4 &oral_
> steroid_drugs_nhsd==1 //ignore if steriods<4 scripts in 6m
(569 real changes made)

. count if imid_on_drug==1 & imid_nhsd==1 & imid_drug==0 
  15,794

. replace imid_on_drug=0 if imid_nhsd==1 & imid_drug==0 //ignore if steriods<4 
> & not coded other imid drug 
(15,794 real changes made)

. replace imid_on_drug=0 if imid_nhsd==0 & imid_drug==1 
(465 real changes made)

. gen high_risk_cohort_codelist=((downs_syndrome + solid_cancer + haem_disease 
> + renal_disease + liver_disease + imid_on_drug + immunosupression + hiv_aids 
> + organ_transplant + rare_neuro )>0)

. tab high_risk_cohort_codelist dataset,m 

high_risk_ |
cohort_cod |        dataset
     elist |   control       drug |     Total
-----------+----------------------+----------
         0 |       920      1,075 |     1,995 
         1 |    26,202     29,275 |    55,477 
-----------+----------------------+----------
     Total |    27,122     30,350 |    57,472 

. drop if high_risk_cohort_codelist==0 & dataset==0 //should be same number dro
> pped as change above 
(920 observations deleted)

. tab high_risk_cohort_codelist dataset

high_risk_ |
cohort_cod |        dataset
     elist |   control       drug |     Total
-----------+----------------------+----------
         0 |         0      1,075 |     1,075 
         1 |    26,202     29,275 |    55,477 
-----------+----------------------+----------
     Total |    26,202     30,350 |    56,552 

. bys dataset:count if high_risk_cohort_codelist==. & high_risk_cohort_ther==.

-------------------------------------------------------------------------------
-> dataset = control
  0
-------------------------------------------------------------------------------
-> dataset = drug
  0

. 
. ** combine two high risk cohorts into one 
. foreach var of varlist downs_syndrome solid_cancer haem_disease renal_disease
>  liver_disease imid_on_drug immunosupression hiv_aids organ_transplant rare_n
> euro {
  2.         gen `var'_comb = `var'
  3.         replace `var'_comb = 1 if `var'_therap==1 
  4.         tab `var' `var'_therap 
  5.         tab dataset `var'_comb 
  6. }
(4,546 real changes made)

downs_synd | downs_syndrome_therap
      rome |         0          1 |     Total
-----------+----------------------+----------
         0 |    40,968      4,546 |    45,514 
         1 |     9,902      1,136 |    11,038 
-----------+----------------------+----------
     Total |    50,870      5,682 |    56,552 

           |  downs_syndrome_comb
   dataset |         0          1 |     Total
-----------+----------------------+----------
   control |    18,883      7,319 |    26,202 
      drug |    22,085      8,265 |    30,350 
-----------+----------------------+----------
     Total |    40,968     15,584 |    56,552 
(10,062 real changes made)

solid_canc |  solid_cancer_therap
        er |         0          1 |     Total
-----------+----------------------+----------
         0 |    40,772     10,062 |    50,834 
         1 |     4,568      1,150 |     5,718 
-----------+----------------------+----------
     Total |    45,340     11,212 |    56,552 

           |   solid_cancer_comb
   dataset |         0          1 |     Total
-----------+----------------------+----------
   control |    18,905      7,297 |    26,202 
      drug |    21,867      8,483 |    30,350 
-----------+----------------------+----------
     Total |    40,772     15,780 |    56,552 
(7,256 real changes made)

haem_disea |  haem_disease_therap
        se |         0          1 |     Total
-----------+----------------------+----------
         0 |    21,993      7,256 |    29,249 
         1 |    20,517      6,786 |    27,303 
-----------+----------------------+----------
     Total |    42,510     14,042 |    56,552 

           |   haem_disease_comb
   dataset |         0          1 |     Total
-----------+----------------------+----------
   control |    10,000     16,202 |    26,202 
      drug |    11,993     18,357 |    30,350 
-----------+----------------------+----------
     Total |    21,993     34,559 |    56,552 
(3,650 real changes made)

renal_dise | renal_disease_therap
       ase |         0          1 |     Total
-----------+----------------------+----------
         0 |    32,953      3,650 |    36,603 
         1 |    17,883      2,066 |    19,949 
-----------+----------------------+----------
     Total |    50,836      5,716 |    56,552 

           |  renal_disease_comb
   dataset |         0          1 |     Total
-----------+----------------------+----------
   control |    15,086     11,116 |    26,202 
      drug |    17,867     12,483 |    30,350 
-----------+----------------------+----------
     Total |    32,953     23,599 |    56,552 
(2,404 real changes made)

liver_dise | liver_disease_therap
       ase |         0          1 |     Total
-----------+----------------------+----------
         0 |    43,199      2,404 |    45,603 
         1 |    10,414        535 |    10,949 
-----------+----------------------+----------
     Total |    53,613      2,939 |    56,552 

           |  liver_disease_comb
   dataset |         0          1 |     Total
-----------+----------------------+----------
   control |    19,881      6,321 |    26,202 
      drug |    23,318      7,032 |    30,350 
-----------+----------------------+----------
     Total |    43,199     13,353 |    56,552 
(8,745 real changes made)

imid_on_dr |  imid_on_drug_therap
        ug |         0          1 |     Total
-----------+----------------------+----------
         0 |    35,300      8,745 |    44,045 
         1 |    10,034      2,473 |    12,507 
-----------+----------------------+----------
     Total |    45,334     11,218 |    56,552 

           |   imid_on_drug_comb
   dataset |         0          1 |     Total
-----------+----------------------+----------
   control |    16,130     10,072 |    26,202 
      drug |    19,170     11,180 |    30,350 
-----------+----------------------+----------
     Total |    35,300     21,252 |    56,552 
(4,935 real changes made)

           | immunosupression_ther
immunosupr |          ap
    ession |         0          1 |     Total
-----------+----------------------+----------
         0 |    45,871      4,935 |    50,806 
         1 |     5,158        588 |     5,746 
-----------+----------------------+----------
     Total |    51,029      5,523 |    56,552 

           | immunosupression_comb
   dataset |         0          1 |     Total
-----------+----------------------+----------
   control |    21,206      4,996 |    26,202 
      drug |    24,665      5,685 |    30,350 
-----------+----------------------+----------
     Total |    45,871     10,681 |    56,552 
(2,323 real changes made)

           |    hiv_aids_therap
  hiv_aids |         0          1 |     Total
-----------+----------------------+----------
         0 |    43,323      2,323 |    45,646 
         1 |    10,333        573 |    10,906 
-----------+----------------------+----------
     Total |    53,656      2,896 |    56,552 

           |     hiv_aids_comb
   dataset |         0          1 |     Total
-----------+----------------------+----------
   control |    19,963      6,239 |    26,202 
      drug |    23,360      6,990 |    30,350 
-----------+----------------------+----------
     Total |    43,323     13,229 |    56,552 
(3,944 real changes made)

           | organ_transplant_ther
organ_tran |          ap
    splant |         0          1 |     Total
-----------+----------------------+----------
         0 |    34,587      3,944 |    38,531 
         1 |    16,249      1,772 |    18,021 
-----------+----------------------+----------
     Total |    50,836      5,716 |    56,552 

           | organ_transplant_comb
   dataset |         0          1 |     Total
-----------+----------------------+----------
   control |    15,891     10,311 |    26,202 
      drug |    18,696     11,654 |    30,350 
-----------+----------------------+----------
     Total |    34,587     21,965 |    56,552 
(2,425 real changes made)

           |   rare_neuro_therap
rare_neuro |         0          1 |     Total
-----------+----------------------+----------
         0 |    21,397      2,425 |    23,822 
         1 |    29,446      3,284 |    32,730 
-----------+----------------------+----------
     Total |    50,843      5,709 |    56,552 

           |    rare_neuro_comb
   dataset |         0          1 |     Total
-----------+----------------------+----------
   control |     9,680     16,522 |    26,202 
      drug |    11,717     18,633 |    30,350 
-----------+----------------------+----------
     Total |    21,397     35,155 |    56,552 

. 
. ****************************
. *       EXPOSURE                *
. ****************************
. ** removing individuals who did not start therapy
. foreach var of varlist sotrovimab molnupiravir paxlovid {
  2.     display "`var'"
  3.         count if `var'!=.
  4.         count if `var'==date_treated & `var'!=. & date_treated!=.
  5.         count if `var'==date_treated & `var'!=. & date_treated!=. & `var'_
> not_start!=.
  6.         gen `var'_start = 1 if `var'==date_treated & `var'!=. & date_treat
> ed!=. & `var'_not_start==.
  7.         replace `var'_start = 0 if `var'==date_treated & `var'!=. & date_t
> reated!=. & `var'_not_start!=.
  8.         tab `var'_start, m  //number on treatment, first drug given, and d
> rug was started
  9. }
sotrovimab
  555
  540
  6
(56,018 missing values generated)
(6 real changes made)

sotrovimab_ |
      start |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |          6        0.01        0.01
          1 |        534        0.94        0.95
          . |     56,012       99.05      100.00
------------+-----------------------------------
      Total |     56,552      100.00
molnupiravir
  546
  538
  9
(56,023 missing values generated)
(9 real changes made)

molnupiravi |
    r_start |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |          9        0.02        0.02
          1 |        529        0.94        0.95
          . |     56,014       99.05      100.00
------------+-----------------------------------
      Total |     56,552      100.00
paxlovid
  547
  541
  2
(56,013 missing values generated)
(2 real changes made)

paxlovid_st |
        art |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |          2        0.00        0.00
          1 |        539        0.95        0.96
          . |     56,011       99.04      100.00
------------+-----------------------------------
      Total |     56,552      100.00

. gen two_drugs= 1 if sotrovimab_start==1 & paxlovid_start==1
(56,552 missing values generated)

. replace two_drugs=2 if sotrovimab_start==1 & molnupiravir_start==1
(0 real changes made)

. replace two_drugs=3 if paxlovid_start==1 & molnupiravir_start==1
(0 real changes made)

. replace two_drugs=4 if sotrovimab_start==1 & paxlovid_start==1 & molnupiravir
> _start==1
(0 real changes made)

. tab two_drug
no observations

. gen drug=7 if remdesivir==date_treated&remdesivir!=.&date_treated!=.
(56,004 missing values generated)

. replace drug=8 if casirivimab==date_treated&casirivimab!=.&date_treated!=.
(553 real changes made)

. tab drug,m 

       drug |      Freq.     Percent        Cum.
------------+-----------------------------------
          7 |        548        0.97        0.97
          8 |        553        0.98        1.95
          . |     55,451       98.05      100.00
------------+-----------------------------------
      Total |     56,552      100.00

. replace drug=1 if sotrovimab_start==1 
(534 real changes made)

. replace drug=2 if paxlovid_start==1
(539 real changes made)

. replace drug=3 if molnupiravir_start==1
(529 real changes made)

. tab drug,m 

       drug |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        534        0.94        0.94
          2 |        539        0.95        1.90
          3 |        529        0.94        2.83
          7 |        548        0.97        3.80
          8 |        553        0.98        4.78
          . |     53,849       95.22      100.00
------------+-----------------------------------
      Total |     56,552      100.00

. replace drug=9 if two_drugs!=.
(0 real changes made)

. tab drug,m 

       drug |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        534        0.94        0.94
          2 |        539        0.95        1.90
          3 |        529        0.94        2.83
          7 |        548        0.97        3.80
          8 |        553        0.98        4.78
          . |     53,849       95.22      100.00
------------+-----------------------------------
      Total |     56,552      100.00

. replace drug=0 if drug==.
(53,849 real changes made)

. label define drug 0 "control" 1 "sotrovimab" 2 "paxlovid" 3"molnupiravir", re
> place

. label values drug drug

. tab drug, m

        drug |      Freq.     Percent        Cum.
-------------+-----------------------------------
     control |     53,849       95.22       95.22
  sotrovimab |        534        0.94       96.16
    paxlovid |        539        0.95       97.12
molnupiravir |        529        0.94       98.05
           7 |        548        0.97       99.02
           8 |        553        0.98      100.00
-------------+-----------------------------------
       Total |     56,552      100.00

. bys dataset: tab drug,m

-------------------------------------------------------------------------------
-> dataset = control

        drug |      Freq.     Percent        Cum.
-------------+-----------------------------------
     control |     24,947       95.21       95.21
  sotrovimab |        258        0.98       96.19
    paxlovid |        233        0.89       97.08
molnupiravir |        250        0.95       98.04
           7 |        255        0.97       99.01
           8 |        259        0.99      100.00
-------------+-----------------------------------
       Total |     26,202      100.00

-------------------------------------------------------------------------------
-> dataset = drug

        drug |      Freq.     Percent        Cum.
-------------+-----------------------------------
     control |     28,902       95.23       95.23
  sotrovimab |        276        0.91       96.14
    paxlovid |        306        1.01       97.15
molnupiravir |        279        0.92       98.07
           7 |        293        0.97       99.03
           8 |        294        0.97      100.00
-------------+-----------------------------------
       Total |     30,350      100.00


. drop if drug>3
(1,101 observations deleted)

. drop if drug>0 & dataset==0
(741 observations deleted)

. drop if drug==0 & dataset==1
(28,902 observations deleted)

. 
. ** start date is date treatment for treatment arms and date of covid test for
>  control arm 
. count if start_date==. //should be 0
  0

. count if start_date!=covid_test_positive_date & drug==0  //should be 0
  24,902

. count if start_date!=date_treated & drug>0 //should be 0
  0

. 
. ** check number of positive covid tests prior to drug in treatment arms
. bys drug:count if covid_test_positive_date==. // should be 0 in control arm

-------------------------------------------------------------------------------
-> drug = control
  2,505
-------------------------------------------------------------------------------
-> drug = sotrovimab
  32
-------------------------------------------------------------------------------
-> drug = paxlovid
  33
-------------------------------------------------------------------------------
-> drug = molnupiravir
  27

. bys drug:count if covid_test_positive_date!=. 

-------------------------------------------------------------------------------
-> drug = control
  22,442
-------------------------------------------------------------------------------
-> drug = sotrovimab
  244
-------------------------------------------------------------------------------
-> drug = paxlovid
  273
-------------------------------------------------------------------------------
-> drug = molnupiravir
  252

. bys drug:count if covid_test_positive_date!=.&date_treated!=.& date_treated>c
> ovid_test_positive_date //test prior to treatment

-------------------------------------------------------------------------------
-> drug = control
  4
-------------------------------------------------------------------------------
-> drug = sotrovimab
  111
-------------------------------------------------------------------------------
-> drug = paxlovid
  143
-------------------------------------------------------------------------------
-> drug = molnupiravir
  123

. bys drug:count if covid_test_positive_date!=.&date_treated!=.& (date_treated-
> covid_test_positive_date>0)&(date_treated-covid_test_positive_date<=5) //test
>  <5d

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  2
-------------------------------------------------------------------------------
-> drug = molnupiravir
  1

. bys drug:count if covid_test_positive_date2!=.&date_treated!=.& date_treated>
> covid_test_positive_date2 //2nd covid episode prior to treatment 

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  14
-------------------------------------------------------------------------------
-> drug = paxlovid
  13
-------------------------------------------------------------------------------
-> drug = molnupiravir
  12

. bys drug:count if covid_test_positive_date2!=.&date_treated!=.& (date_treated
> -covid_test_positive_date2>0)&(date_treated-covid_test_positive_date2<=5) //t
> est <5d

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  1
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. bys drug:count if covid_test_positive_date3!=.&date_treated!=.& date_treated>
> covid_test_positive_date3 //3rd covid episode prior to treatment 

-------------------------------------------------------------------------------
-> drug = control
  1
-------------------------------------------------------------------------------
-> drug = sotrovimab
  10
-------------------------------------------------------------------------------
-> drug = paxlovid
  13
-------------------------------------------------------------------------------
-> drug = molnupiravir
  10

. bys drug:count if covid_test_positive_date3!=.&date_treated!=.& (date_treated
> -covid_test_positive_date3>0)&(date_treated-covid_test_positive_date3<=5) //t
> est <5d

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. ** check in control group that covid positive, and not repeat covid test afte
> r an infection within 30 days prior
. tab covid_test_positive covid_positive_previous_30_days if drug==0

           | covid_positive_previo
covid_test |      us_30_days
 _positive |         0          1 |     Total
-----------+----------------------+----------
         0 |     2,375        139 |     2,514 
         1 |    21,280      1,153 |    22,433 
-----------+----------------------+----------
     Total |    23,655      1,292 |    24,947 

. drop if drug==0 & covid_test_positive==1 & covid_positive_previous_30_days==1
(1,153 observations deleted)

. ** gen study start and study end date
. gen campaign_start=mdy(12,16,2021)

. gen study_end_date=mdy(09,01,2023)

. gen start_date_29=start_date + 29

. format campaign_start study_end_date start_date_29 %td

. 
. ****************************
. *       OUTCOME         *
. ****************************
. *** AESI, IMAE and some Drug reaction (need to add further IMAE and DRESS, SJ
> S, TEN) 
. gen new_ae_ra_icd = ae_rheumatoid_arthritis_icd if rheumatoid_arthritis_nhsd_
> snomed==0 
(15,780 missing values generated)

. gen new_ae_ra_icd_prim = ae_rheumatoid_arthritis_icd_prim if rheumatoid_arthr
> itis_nhsd_snomed==0 
(15,743 missing values generated)

. gen new_ae_ra_snomed = ae_rheumatoid_arthritis_snomed if rheumatoid_arthritis
> _nhsd_snomed==0 
(15,777 missing values generated)

. gen new_ae_ra_ae = ae_rheumatoid_arthritis_ae if rheumatoid_arthritis_nhsd_sn
> omed==0
(15,731 missing values generated)

. count if rheumatoid_arthritis_nhsd_snomed!=0 
  2,424

. count if ae_rheumatoid_arthritis_icd!=. 
  9,875

. count if new_ae_ra_icd!=.
  8,875

. count if ae_rheumatoid_arthritis_icd_prim!=. 
  9,891

. count if new_ae_ra_icd_prim!=.
  8,912

. count if ae_rheumatoid_arthritis_snomed!=. 
  9,847

. count if new_ae_ra_snomed!=.
  8,878

. count if ae_rheumatoid_arthritis_ae!=. 
  9,908

. count if new_ae_ra_ae!=.
  8,924

. gen new_ae_sle_icd = ae_sle_icd if sle_nhsd_ctv==0 
(15,679 missing values generated)

. gen new_ae_sle_icd_prim = ae_sle_icd_prim if sle_nhsd_ctv==0 
(15,779 missing values generated)

. gen new_ae_sle_ctv = ae_sle_ctv if sle_nhsd_ctv==0 
(15,818 missing values generated)

. gen new_ae_sle_ae = ae_sle_ae if sle_nhsd_ctv==0 
(15,711 missing values generated)

. count if sle_nhsd_ctv!=0 
  2,432

. count if ae_sle_icd!=. 
  9,940

. count if new_ae_sle_icd!=.
  8,976

. count if ae_sle_icd_prim!=. 
  9,881

. count if new_ae_sle_icd_prim!=.
  8,876

. count if ae_sle_ctv!=. 
  9,815

. count if new_ae_sle_ctv!=.
  8,837

. count if ae_sle_ae!=. 
  9,905

. count if new_ae_sle_ae!=.
  8,944

. gen new_ae_psoriasis_icd = ae_psoriasis_icd if psoriasis_nhsd==0 
(15,773 missing values generated)

. gen new_ae_psoriasis_icd_prim = ae_psoriasis_icd_prim if psoriasis_nhsd==0 
(15,805 missing values generated)

. gen new_ae_psoriasis_snomed = ae_psoriasis_snomed if psoriasis_nhsd==0
(15,754 missing values generated)

. gen new_ae_psoriasis_ae = ae_psoriasis_ae if psoriasis_nhsd==0
(15,780 missing values generated)

. count if psoriasis_nhsd!=0 
  2,431

. count if ae_psoriasis_icd!=. 
  9,861

. count if new_ae_psoriasis_icd!=. 
  8,882

. count if ae_psoriasis_icd_prim!=. 
  9,867

. count if new_ae_psoriasis_icd_prim!=. 
  8,850

. count if ae_psoriasis_snomed!=. 
  9,864

. count if new_ae_psoriasis_snomed!=.
  8,901

. count if ae_psoriasis_ae!=. 
  9,862

. count if new_ae_psoriasis_ae!=.
  8,875

. gen new_ae_psa_icd = ae_psa_icd if psoriatic_arthritis_nhsd==0
(15,735 missing values generated)

. gen new_ae_psa_icd_prim = ae_psa_icd_prim if psoriatic_arthritis_nhsd==0
(15,645 missing values generated)

. gen new_ae_psa_snomed = ae_psa_snomed if psoriatic_arthritis_nhsd==0
(15,761 missing values generated)

. gen new_ae_psa_ae = ae_psa_ae if psoriatic_arthritis_nhsd==0
(15,737 missing values generated)

. count if psoriatic_arthritis_nhsd!=0 
  2,394

. count if ae_psa_icd!=. 
  9,871

. count if new_ae_psa_icd!=. 
  8,920

. count if ae_psa_icd_prim!=. 
  9,936

. count if new_ae_psa_icd_prim!=. 
  9,010

. count if ae_psa_snomed!=. 
  9,853

. count if new_ae_psa_snomed!=.
  8,894

. count if ae_psa_ae!=. 
  9,866

. count if new_ae_psa_ae!=.
  8,918

. gen new_ae_axspa_icd = ae_axspa_icd if ankylosing_spondylitis_nhsd==0
(15,781 missing values generated)

. gen new_ae_axspa_icd_prim = ae_axspa_icd_prim if ankylosing_spondylitis_nhsd=
> =0
(15,778 missing values generated)

. gen new_ae_axspa_ctv = ae_axspa_ctv if ankylosing_spondylitis_nhsd==0
(15,736 missing values generated)

. gen new_ae_axspa_ae = ae_axspa_ae if ankylosing_spondylitis_nhsd==0
(15,783 missing values generated)

. count if ankylosing_spondylitis_nhsd!=0 
  2,416

. count if ae_axspa_icd!=. 
  9,823

. count if new_ae_axspa_icd!=.
  8,874

. count if ae_axspa_icd_prim!=. 
  9,802

. count if new_ae_axspa_icd_prim!=.
  8,877

. count if ae_axspa_ctv!=. 
  9,902

. count if new_ae_axspa_ctv!=.
  8,919

. count if ae_axspa_ae!=. 
  9,838

. count if new_ae_axspa_ae!=.
  8,872

. gen new_ae_ibd_icd = ae_ibd_icd if ibd_ctv==0
(15,770 missing values generated)

. gen new_ae_ibd_icd_prim = ae_ibd_icd_prim if ibd_ctv==0
(15,642 missing values generated)

. gen new_ae_ibd_ctv = ae_ibd_ctv if ibd_ctv==0
(15,776 missing values generated)

. gen new_ae_ibd_ae = ae_ibd_ae if ibd_ctv==0
(15,694 missing values generated)

. count if ibd_ctv!=0 
  2,425

. count if ae_ibd_icd!=. 
  9,853

. count if new_ae_ibd_icd!=.
  8,885

. count if ae_ibd_icd_prim!=. 
  9,982

. count if new_ae_ibd_icd_prim!=.
  9,013

. count if ae_ibd_ctv!=. 
  9,889

. count if new_ae_ibd_ctv!=.
  8,879

. count if ae_ibd_ae!=. 
  9,936

. count if new_ae_ibd_ae!=.
  8,961

.         
. *** comparison of ICD admission primary diagnosis and all diagnoses
. count if ae_diverticulitis_icd!=.
  9,938

. count if ae_diverticulitis_icd_prim!=.
  9,866

. count if ae_taste_icd!=.
  9,893

. count if ae_taste_icd_prim!=.
  9,856

. count if ae_rash_icd!=.
  9,756

. count if ae_rash_icd_prim!=.
  9,858

. count if ae_diarrhoea_icd!=.                                    
  9,769

. count if ae_diarrhoea_icd_prim!=.                                       
  9,896

. count if ae_diarrhoeal_icd!=.                                   
  9,795

. count if ae_diarrhoeal_icd_prim!=.
  9,866

. count if ae_contactderm_icd!=.  
  9,695

. count if ae_contactderm_icd_prim!=.
  9,827

. count if ae_dizziness_icd!=.
  9,908

. count if ae_dizziness_icd_prim!=.
  9,796

. count if ae_nausea_vomit_icd!=.
  9,827

. count if ae_nausea_vomit_icd_prim!=.
  9,745

. count if ae_headache_icd!=.
  9,991

. count if ae_headache_icd_prim!=.
  9,877

. count if ae_anaphylaxis_icd!=.
  9,841

. count if ae_anaphylaxis_icd_prim!=.
  9,870

. count if ae_severedrug_icd!=.
  9,751

. count if ae_severedrug_icd_prim!=.
  9,880

. count if ae_severedrug_sjs_icd!=.
  9,871

. count if ae_severedrug_sjs_icd_prim!=.
  9,810

. 
. *** combined ae from GP, hosp and A&E
. egen ae_diverticulitis = rmin(ae_diverticulitis_snomed ae_diverticulitis_ae a
> e_diverticulitis_icd_prim)
(5331 missing values generated)

. egen ae_diarrhoea = rmin(ae_diarrhoea_snomed ae_diarrhoea_icd_prim ae_diarrho
> eal_icd_prim)
(5328 missing values generated)

. egen ae_taste = rmin(ae_taste_snomed ae_taste_icd_prim)
(8873 missing values generated)

. egen ae_rash = rmin(ae_rash_snomed ae_rash_ae ae_rash_icd_prim)
(5418 missing values generated)

. egen ae_bronchospasm = rmin(ae_bronchospasm_snomed)
(14795 missing values generated)

. egen ae_contactderm = rmin(ae_contactderm_snomed ae_contactderm_icd_prim ae_c
> ontactderm_ae)
(5411 missing values generated)

. egen ae_dizziness = rmin(ae_dizziness_snomed ae_dizziness_ae ae_dizziness_icd
> _prim)
(5346 missing values generated)

. egen ae_nausea_vomit = rmin(ae_nausea_vomit_snomed ae_nausea_vomit_icd_prim)
(8982 missing values generated)

. egen ae_headache = rmin(ae_headache_snomed ae_headache_ae ae_headache_icd_pri
> m)
(5269 missing values generated)

. egen ae_anaphylaxis = rmin(ae_anaphylaxis_snomed ae_anaphlaxis_ae ae_anaphyla
> xis_icd_prim)
(5398 missing values generated)

. egen ae_severe_drug = rmin(ae_severedrug_icd_prim ae_severedrug_sjs_icd_prim 
> ae_severedrug_snomed ae_severedrug_ae)
(3178 missing values generated)

. egen ae_nonsevere_drug = rmin(ae_nonsevere_drug_snomed ae_nonsevere_drug_ae)
(8826 missing values generated)

. egen ae_ra = rmin(new_ae_ra_snomed new_ae_ra_icd_prim new_ae_ra_ae)
(7237 missing values generated)

. egen ae_sle = rmin(new_ae_sle_ctv new_ae_sle_icd_prim new_ae_sle_ae)
(7210 missing values generated)

. egen ae_psorasis = rmin(new_ae_psoriasis_icd_prim new_ae_psoriasis_snomed new
> _ae_psoriasis_ae)
(7156 missing values generated)

. egen ae_psa = rmin(new_ae_psa_icd_prim new_ae_psa_snomed new_ae_psa_ae)
(7198 missing values generated)

. egen ae_axspa = rmin(new_ae_axspa_icd_prim new_ae_axspa_ctv new_ae_axspa_ae)
(7243 missing values generated)

. egen ae_ibd = rmin(new_ae_ibd_icd_prim new_ae_ibd_ctv new_ae_ibd_ae)
(7104 missing values generated)

. 
. *** global all ae
. global ae_spc_gp                ae_diverticulitis_snomed                ///
>                                                 ae_diarrhoea_snomed          
>                    ///
>                                                 ae_taste_snomed              
>                    ///             
>                                                 ae_rash_snomed               
>                    ///
>                                                 ae_bronchospasm_snomed       
>            ///
>                                                 ae_contactderm_snomed        
>            ///
>                                                 ae_dizziness_snomed          
>                    ///
>                                                 ae_nausea_vomit_snomed       
>            ///
>                                                 ae_headache_snomed           
>                    

. global ae_spc_icd               ae_diverticulitis_icd_prim              ///
>                                                 ae_taste_icd_prim            
>                    ///
>                                                 ae_rash_icd_prim             
>                    ///
>                                                 ae_diarrhoea_icd_prim        
>            ///
>                                                 ae_diarrhoeal_icd_prim       
>            ///
>                                                 ae_contactderm_icd_prim      
>            ///
>                                                 ae_dizziness_icd_prim        
>            ///
>                                                 ae_nausea_vomit_icd_prim     
>            ///
>                                                 ae_headache_icd_prim

. global ae_spc_emerg             ae_diverticulitis_ae                    ///
>                                                 ae_rash_ae                   
>                            ///
>                                                 ae_contactderm_ae            
>                    ///
>                                                 ae_dizziness_ae              
>                    ///
>                                                 ae_headache_ae

. global ae_drug_gp               ae_anaphylaxis_snomed                   ///  
>    
>                                                 ae_severedrug_snomed         
>            ///
>                                                 ae_nonsevere_drug_snomed     
>                            

. global ae_drug_icd              ae_anaphylaxis_icd_prim                 ///
>                                                 ae_severedrug_icd_prim       
>            ///     
>                                                 ae_severedrug_sjs_icd_prim   
>            

. global ae_drug_emerg    ae_anaphlaxis_ae                                ///
>                                                 ae_severedrug_ae             
>                    ///
>                                                 ae_nonsevere_drug_ae         
>                            

. global ae_imae_gp               new_ae_ra_snomed                             
>    ///
>                                                 new_ae_sle_ctv               
>                    ///
>                                                 new_ae_psoriasis_snomed      
>            ///
>                                                 new_ae_psa_snomed            
>                    ///
>                                                 new_ae_axspa_ctv             
>                    ///
>                                                 new_ae_ibd_ctv  

. global ae_imae_icd              new_ae_ra_icd_prim                           
>    ///
>                                                 new_ae_sle_icd_prim          
>                    ///
>                                                 new_ae_psoriasis_icd_prim    
>            ///
>                                                 new_ae_psa_icd_prim          
>                    ///
>                                                 new_ae_axspa_icd_prim        
>            ///
>                                                 new_ae_ibd_icd_prim

. global ae_imae_emerg    new_ae_ra_ae                                    ///
>                                                 new_ae_sle_ae                
>                    ///
>                                                 new_ae_psoriasis_ae          
>                    ///
>                                                 new_ae_psa_ae                
>                    ///
>                                                 new_ae_axspa_ae              
>                    ///
>                                                 new_ae_ibd_ae   

. global ae_disease               ae_diverticulitis                            
>    ///
>                                                 ae_diarrhoea                 
>                    ///
>                                                 ae_taste                     
>                            ///
>                                                 ae_rash                      
>                            ///
>                                                 ae_bronchospasm              
>                    ///
>                                                 ae_contactderm               
>                    ///
>                                                 ae_dizziness                 
>                    ///
>                                                 ae_nausea_vomit              
>                    ///
>                                                 ae_headache                  
>                            ///
>                                                 ae_anaphylaxis               
>                    ///
>                                                 ae_severe_drug               
>                    ///
>                                                 ae_nonsevere_drug            
>                    ///
>                                                 ae_ra                        
>                            ///
>                                                 ae_sle                       
>                            ///
>                                                 ae_psorasis                  
>                    ///
>                                                 ae_psa                       
>                            ///
>                                                 ae_axspa                     
>                            ///
>                                                 ae_ibd                       
>                    

.                 
. *remove event if occurred before start
. foreach x in $ae_spc_gp $ae_spc_icd $ae_spc_emerg $ae_drug_gp $ae_drug_icd $a
> e_drug_emerg $ae_imae_gp $ae_imae_icd $ae_imae_emerg $ae_disease{
  2.                                 display "`x'"
  3.                                 count if (`x' > start_date | `x' < start_d
> ate + 28) & `x'!=. 
  4.                                 count if (`x' < start_date | `x' > start_d
> ate + 28) & `x'!=. & drug==0
  5.                                 count if (`x' < start_date | `x' > start_d
> ate + 28) & `x'!=. & drug>0
  6. }
ae_diverticulitis_snomed
  9,846
  9,061
  322
ae_diarrhoea_snomed
  9,848
  9,110
  324
ae_taste_snomed
  9,824
  9,063
  325
ae_rash_snomed
  9,791
  9,011
  330
ae_bronchospasm_snomed
  9,860
  9,084
  338
ae_contactderm_snomed
  9,822
  9,043
  335
ae_dizziness_snomed
  9,804
  9,002
  346
ae_nausea_vomit_snomed
  9,836
  9,077
  310
ae_headache_snomed
  9,817
  9,066
  321
ae_diverticulitis_icd_prim
  9,866
  9,081
  330
ae_taste_icd_prim
  9,856
  9,051
  328
ae_rash_icd_prim
  9,858
  9,051
  333
ae_diarrhoea_icd_prim
  9,896
  9,069
  342
ae_diarrhoeal_icd_prim
  9,866
  9,050
  346
ae_contactderm_icd_prim
  9,827
  9,104
  311
ae_dizziness_icd_prim
  9,796
  9,035
  302
ae_nausea_vomit_icd_prim
  9,745
  8,927
  323
ae_headache_icd_prim
  9,877
  9,119
  335
ae_diverticulitis_ae
  9,805
  9,001
  346
ae_rash_ae
  9,804
  9,028
  342
ae_contactderm_ae
  9,866
  9,090
  348
ae_dizziness_ae
  9,959
  9,182
  334
ae_headache_ae
  9,886
  9,122
  309
ae_anaphylaxis_snomed
  9,901
  9,147
  324
ae_severedrug_snomed
  9,915
  9,167
  320
ae_nonsevere_drug_snomed
  9,913
  9,109
  327
ae_anaphylaxis_icd_prim
  9,870
  9,107
  311
ae_severedrug_icd_prim
  9,880
  9,125
  322
ae_severedrug_sjs_icd_prim
  9,810
  9,020
  329
ae_anaphlaxis_ae
  9,792
  9,019
  335
ae_severedrug_ae
  9,862
  9,092
  340
ae_nonsevere_drug_ae
  9,902
  9,141
  326
new_ae_ra_snomed
  8,878
  8,159
  294
new_ae_sle_ctv
  8,837
  8,155
  284
new_ae_psoriasis_snomed
  8,901
  8,203
  300
new_ae_psa_snomed
  8,894
  8,208
  293
new_ae_axspa_ctv
  8,919
  8,227
  286
new_ae_ibd_ctv
  8,879
  8,208
  293
new_ae_ra_icd_prim
  8,912
  8,234
  310
new_ae_sle_icd_prim
  8,876
  8,215
  293
new_ae_psoriasis_icd_prim
  8,850
  8,170
  290
new_ae_psa_icd_prim
  9,010
  8,353
  288
new_ae_axspa_icd_prim
  8,877
  8,168
  317
new_ae_ibd_icd_prim
  9,013
  8,313
  309
new_ae_ra_ae
  8,924
  8,278
  283
new_ae_sle_ae
  8,944
  8,240
  305
new_ae_psoriasis_ae
  8,875
  8,185
  307
new_ae_psa_ae
  8,918
  8,188
  300
new_ae_axspa_ae
  8,872
  8,155
  300
new_ae_ibd_ae
  8,961
  8,257
  298
ae_diverticulitis
  19,324
  17,762
  638
ae_diarrhoea
  19,327
  17,812
  648
ae_taste
  15,782
  14,522
  525
ae_rash
  19,237
  17,722
  649
ae_bronchospasm
  9,860
  9,084
  338
ae_contactderm
  19,244
  17,768
  644
ae_dizziness
  19,309
  17,788
  660
ae_nausea_vomit
  15,673
  14,394
  505
ae_headache
  19,386
  17,870
  653
ae_anaphylaxis
  19,257
  17,767
  640
ae_severe_drug
  21,477
  19,818
  722
ae_nonsevere_drug
  15,829
  14,593
  530
ae_ra
  17,418
  16,099
  596
ae_sle
  17,445
  16,102
  579
ae_psorasis
  17,499
  16,134
  578
ae_psa
  17,457
  16,096
  571
ae_axspa
  17,412
  16,039
  579
ae_ibd
  17,551
  16,212
  580

. egen ae_spc_gp = rmin($ae_spc_gp)
(242 missing values generated)

. egen ae_spc_serious = rmin($ae_spc_icd)
(249 missing values generated)

. egen ae_spc_emerg = rmin($ae_spc_emerg)
(1870 missing values generated)

. egen ae_spc_all = rmin(ae_spc_gp ae_spc_serious ae_spc_emerg)

. egen ae_drug_gp = rmin($ae_drug_gp)
(5292 missing values generated)

. egen ae_drug_serious = rmin($ae_drug_icd)
(5327 missing values generated)

. egen ae_drug_emerg = rmin($ae_drug_emerg)
(5293 missing values generated)

. egen ae_drug_all = rmin(ae_drug_gp ae_drug_serious ae_drug_emerg)
(230 missing values generated)

. egen ae_imae_gp = rmin($ae_imae_gp)
(1679 missing values generated)

. egen ae_imae_serious = rmin($ae_imae_icd)
(1656 missing values generated)

. egen ae_imae_emerg = rmin($ae_imae_emerg)
(1637 missing values generated)

. egen ae_imae_all = rmin(ae_imae_gp ae_imae_serious ae_imae_emerg)       
(9 missing values generated)

. egen ae_all = rmin(ae_spc_all ae_drug_all ae_imae_all)

. egen ae_all_serious = rmin(ae_spc_serious ae_spc_emerg ae_drug_serious ae_dru
> g_emerg ae_imae_serious ae_imae_emerg)

. by drug, sort: count if ae_spc_all!=.

-------------------------------------------------------------------------------
-> drug = control
  23,794
-------------------------------------------------------------------------------
-> drug = sotrovimab
  276
-------------------------------------------------------------------------------
-> drug = paxlovid
  306
-------------------------------------------------------------------------------
-> drug = molnupiravir
  279

. by drug, sort: count if ae_drug_all!=.

-------------------------------------------------------------------------------
-> drug = control
  23,570
-------------------------------------------------------------------------------
-> drug = sotrovimab
  272
-------------------------------------------------------------------------------
-> drug = paxlovid
  304
-------------------------------------------------------------------------------
-> drug = molnupiravir
  279

. by drug, sort: count if ae_imae_all!=.

-------------------------------------------------------------------------------
-> drug = control
  23,786
-------------------------------------------------------------------------------
-> drug = sotrovimab
  275
-------------------------------------------------------------------------------
-> drug = paxlovid
  306
-------------------------------------------------------------------------------
-> drug = molnupiravir
  279

. by drug, sort: count if ae_all!=.

-------------------------------------------------------------------------------
-> drug = control
  23,794
-------------------------------------------------------------------------------
-> drug = sotrovimab
  276
-------------------------------------------------------------------------------
-> drug = paxlovid
  306
-------------------------------------------------------------------------------
-> drug = molnupiravir
  279

. 
. *** Secondary outcome - SAEs hospitalisation or death including COVID-19 
. * death
. bys drug: count if died_date_ons!=.

-------------------------------------------------------------------------------
-> drug = control
  14,198
-------------------------------------------------------------------------------
-> drug = sotrovimab
  159
-------------------------------------------------------------------------------
-> drug = paxlovid
  196
-------------------------------------------------------------------------------
-> drug = molnupiravir
  169

. 
. * a&e all admission
. bys drug: count if allcause_emerg_aande!=.

-------------------------------------------------------------------------------
-> drug = control
  1,167
-------------------------------------------------------------------------------
-> drug = sotrovimab
  12
-------------------------------------------------------------------------------
-> drug = paxlovid
  10
-------------------------------------------------------------------------------
-> drug = molnupiravir
  18

. 
. *covid admission
. // checking admission and discharge date; missing admission, missing dischagr
> e, or dischagre preceed admission 
. count if covid_hosp_date!=.&covid_discharge_date==.
  2,447

. count if covid_hosp_date==.&covid_discharge_date!=.
  213

. count if covid_hosp_date!=.&covid_discharge_date!=.&covid_hosp_date==covid_di
> scharge_date
  0

. count if covid_hosp_date!=.&covid_discharge_date!=.&covid_hosp_date<covid_dis
> charge_date
  14

. count if covid_hosp_date!=.&covid_discharge_date!=.&covid_hosp_date>covid_dis
> charge_date
  13

. // all covid hospitalisation
. bys drug: count if covid_hosp_date!=. 

-------------------------------------------------------------------------------
-> drug = control
  2,388
-------------------------------------------------------------------------------
-> drug = sotrovimab
  34
-------------------------------------------------------------------------------
-> drug = paxlovid
  30
-------------------------------------------------------------------------------
-> drug = molnupiravir
  22

. // covid admission on treatment date (control group will not have covid_hosp_
> date0)
. bys drug: count if covid_hosp_date0!=. 

-------------------------------------------------------------------------------
-> drug = control
  246
-------------------------------------------------------------------------------
-> drug = sotrovimab
  2
-------------------------------------------------------------------------------
-> drug = paxlovid
  2
-------------------------------------------------------------------------------
-> drug = molnupiravir
  3

. //  covid admission is the same as date treated 
. bys drug: count if covid_hosp_date0==date_treated&covid_hosp_date0!=.&date_tr
> eated!=.

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. bys drug: count if covid_hosp_date1==(date_treated+1) &covid_hosp_date1!=.&da
> te_treated!=.

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. // covid admission is the same  as date treated and is a daycase
. bys drug: count if covid_hosp_date0==covid_discharge_date0&covid_hosp_date0!=
> .

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. bys drug: count if covid_hosp_date1==covid_discharge_date1&covid_hosp_date1!=
> .

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. // covid admission is the same date as mab
. bys drug: count if covid_hosp_date0==covid_hosp_date_mabs&covid_hosp_date_mab
> s!=.

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. bys drug: count if covid_hosp_date1==covid_hosp_date_mabs&covid_hosp_date_mab
> s!=.

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. // covid admission is the same date as mab and is a daycase or 24 hour admiss
> ion
. bys drug: count if covid_hosp_date0==covid_hosp_date_mabs&covid_hosp_date0!=.
> &covid_hosp_date0==covid_discharge_date0

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. bys drug: count if covid_hosp_date1==covid_hosp_date_mabs&covid_hosp_date1!=.
> &covid_hosp_date1==covid_discharge_date1

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. bys drug: count if covid_hosp_date0==covid_hosp_date_mabs&covid_hosp_date0!=.
> &(covid_discharge_date0 - covid_hosp_date0)==1

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. bys drug: count if covid_hosp_date1==covid_hosp_date_mabs&covid_hosp_date1!=.
> &(covid_discharge_date1 - covid_hosp_date1)==1

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. // REPLACE - ignore covid admission if admission is the day 0 or day 1 after 
> treatment date treated AND a day case
. replace covid_hosp_date=. if covid_hosp_date0==covid_discharge_date0&covid_ho
> sp_date0!=.
(0 real changes made)

. replace covid_hosp_date=. if covid_hosp_date1==covid_discharge_date1&covid_ho
> sp_date1!=.  
(0 real changes made)

. // REPLACE - ignore covid admission if admission is the day 0 or day 1 after 
> treatment date AND a mab procedures 
. replace covid_hosp_date=. if covid_hosp_date0==covid_hosp_date_mabs&covid_hos
> p_date0!=.&covid_hosp_date0==covid_discharge_date0
(0 real changes made)

. replace covid_hosp_date=. if covid_hosp_date1==covid_hosp_date_mabs&covid_hos
> p_date1!=.&covid_hosp_date1==covid_discharge_date1
(0 real changes made)

. replace covid_hosp_date=. if covid_hosp_date0==covid_hosp_date_mabs&covid_hos
> p_date0!=.&(covid_discharge_date0 - covid_hosp_date0)==1
(0 real changes made)

. replace covid_hosp_date=. if covid_hosp_date1==covid_hosp_date_mabs&covid_hos
> p_date1!=.&(covid_discharge_date1 - covid_hosp_date1)==1
(0 real changes made)

. 
. *hosp admission
. // checking admission and discharge date; missing admission, missing dischagr
> e, or dischagre preceed admission 
. count if all_hosp_date!=.&hosp_discharge_date==.
  2,246

. count if all_hosp_date==.&hosp_discharge_date!=.
  2,219

. count if all_hosp_date!=.&hosp_discharge_date!=.&all_hosp_date==hosp_discharg
> e_date
  0

. count if all_hosp_date!=.&hosp_discharge_date!=.&all_hosp_date<hosp_discharge
> _date
  130

. count if all_hosp_date!=.&hosp_discharge_date!=.&all_hosp_date>hosp_discharge
> _date
  119

. // all hospitalisation
. bys drug: count if all_hosp_date!=.

-------------------------------------------------------------------------------
-> drug = control
  2,411
-------------------------------------------------------------------------------
-> drug = sotrovimab
  23
-------------------------------------------------------------------------------
-> drug = paxlovid
  35
-------------------------------------------------------------------------------
-> drug = molnupiravir
  26

. // admission on treatment date (control group will not have hosp_date0)
. bys drug: count if all_hosp_date0!=. 

-------------------------------------------------------------------------------
-> drug = control
  238
-------------------------------------------------------------------------------
-> drug = sotrovimab
  3
-------------------------------------------------------------------------------
-> drug = paxlovid
  5
-------------------------------------------------------------------------------
-> drug = molnupiravir
  3

. // admission is the same date as date treated 
. bys drug: count if all_hosp_date0==date_treated&all_hosp_date0!=.&date_treate
> d!=.

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. bys drug: count if all_hosp_date1==(date_treated+1) &all_hosp_date1!=.&date_t
> reated!=.

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. // admission is the same date as date treated and is a daycase
. bys drug: count if all_hosp_date0==hosp_discharge_date0&all_hosp_date0!=.

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. bys drug: count if all_hosp_date1==hosp_discharge_date1&all_hosp_date1!=.

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. // admission is for Covid and is the same date as date treated and is a dayca
> se
. bys drug: count if all_hosp_date0==covid_hosp_date0  & all_hosp_date0==hosp_d
> ischarge_date0&all_hosp_date0!=.

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. bys drug: count if all_hosp_date1==covid_hosp_date1 & all_hosp_date1==hosp_di
> scharge_date1&all_hosp_date1!=.

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. //  admission is the same date as mab
. bys drug: count if all_hosp_date0==covid_hosp_date_mabs&covid_hosp_date_mabs!
> =.

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. bys drug: count if all_hosp_date1==covid_hosp_date_mabs&covid_hosp_date_mabs!
> =.

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. //  admission is the same date as mab and is a daycase, 1 day admission
. bys drug: count if all_hosp_date0==covid_hosp_date_mabs&all_hosp_date0!=.&all
> _hosp_date0==hosp_discharge_date0

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. bys drug: count if all_hosp_date1==covid_hosp_date_mabs&all_hosp_date1!=.&all
> _hosp_date1==hosp_discharge_date1

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. bys drug: count if all_hosp_date0==covid_hosp_date_mabs&all_hosp_date0!=.&(ho
> sp_discharge_date0-all_hosp_date0)==1

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. bys drug: count if all_hosp_date1==covid_hosp_date_mabs&all_hosp_date1!=.&(ho
> sp_discharge_date1-all_hosp_date1)==1

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. //  admission is is for Covid and the same date as mab and is a daycase, 1 da
> y admission
. bys drug: count if all_hosp_date0==covid_hosp_date0 & all_hosp_date0==covid_h
> osp_date_mabs&all_hosp_date0!=.&all_hosp_date0==hosp_discharge_date0

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. bys drug: count if all_hosp_date1==covid_hosp_date1 & all_hosp_date1==covid_h
> osp_date_mabs&all_hosp_date1!=.&all_hosp_date1==hosp_discharge_date1

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. bys drug: count if all_hosp_date0==covid_hosp_date0 & all_hosp_date0==covid_h
> osp_date_mabs&all_hosp_date0!=.&(hosp_discharge_date0-all_hosp_date0)==1

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. bys drug: count if all_hosp_date1==covid_hosp_date1 & all_hosp_date1==covid_h
> osp_date_mabs&all_hosp_date1!=.&(hosp_discharge_date1-all_hosp_date1)==1

-------------------------------------------------------------------------------
-> drug = control
  0
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

. // REPLACE - ignore covid admission if admission is for covid AND day 0 or da
> y 1 after treatment AND daycase
. replace all_hosp_date=. if all_hosp_date0==covid_hosp_date0 & all_hosp_date0=
> =hosp_discharge_date0 & all_hosp_date0!=.
(0 real changes made)

. replace all_hosp_date=. if all_hosp_date1==covid_hosp_date1 & all_hosp_date1=
> =hosp_discharge_date1 & all_hosp_date1!=.
(0 real changes made)

. // REPLACE - ignore admission if admission is for covid AND day 0 or day 1 af
> ter treatment 
. replace all_hosp_date=. if all_hosp_date0==covid_hosp_date0 & all_hosp_date0=
> =covid_hosp_date_mabs&all_hosp_date0!=.&all_hosp_date0==hosp_discharge_date0
(0 real changes made)

. replace all_hosp_date=. if all_hosp_date1==covid_hosp_date1 & all_hosp_date1=
> =covid_hosp_date_mabs&all_hosp_date1!=.&all_hosp_date1==hosp_discharge_date1
(0 real changes made)

. replace all_hosp_date=. if all_hosp_date0==covid_hosp_date0 & all_hosp_date0=
> =covid_hosp_date_mabs&all_hosp_date0!=.&(hosp_discharge_date0 - all_hosp_date
> 0)==1
(0 real changes made)

. replace all_hosp_date=. if all_hosp_date1==covid_hosp_date1 & all_hosp_date1=
> =covid_hosp_date_mabs&all_hosp_date1!=.&(hosp_discharge_date1 - all_hosp_date
> 1)==1
(0 real changes made)

. 
. foreach var of varlist allcause_emerg_aande covid_hosp_date all_hosp_date die
> d_date_ons{
  2.                                 display "`var'"
  3.                                 bys drug: count if (`var' >= start_date & 
> `var' <= start_date + 28) & `var'!=.                          
  4.                                 bys drug: count if (`var' < start_date | `
> var' > start_date + 28) & `var'!=.                            
  5. }
allcause_emerg_aande

-------------------------------------------------------------------------------
-> drug = control
  50
-------------------------------------------------------------------------------
-> drug = sotrovimab
  2
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

-------------------------------------------------------------------------------
-> drug = control
  1,117
-------------------------------------------------------------------------------
-> drug = sotrovimab
  10
-------------------------------------------------------------------------------
-> drug = paxlovid
  10
-------------------------------------------------------------------------------
-> drug = molnupiravir
  18
covid_hosp_date

-------------------------------------------------------------------------------
-> drug = control
  108
-------------------------------------------------------------------------------
-> drug = sotrovimab
  1
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  1

-------------------------------------------------------------------------------
-> drug = control
  2,280
-------------------------------------------------------------------------------
-> drug = sotrovimab
  33
-------------------------------------------------------------------------------
-> drug = paxlovid
  30
-------------------------------------------------------------------------------
-> drug = molnupiravir
  21
all_hosp_date

-------------------------------------------------------------------------------
-> drug = control
  111
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  1
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0

-------------------------------------------------------------------------------
-> drug = control
  2,300
-------------------------------------------------------------------------------
-> drug = sotrovimab
  23
-------------------------------------------------------------------------------
-> drug = paxlovid
  34
-------------------------------------------------------------------------------
-> drug = molnupiravir
  26
died_date_ons

-------------------------------------------------------------------------------
-> drug = control
  424
-------------------------------------------------------------------------------
-> drug = sotrovimab
  1
-------------------------------------------------------------------------------
-> drug = paxlovid
  6
-------------------------------------------------------------------------------
-> drug = molnupiravir
  3

-------------------------------------------------------------------------------
-> drug = control
  13,774
-------------------------------------------------------------------------------
-> drug = sotrovimab
  158
-------------------------------------------------------------------------------
-> drug = paxlovid
  190
-------------------------------------------------------------------------------
-> drug = molnupiravir
  166

. 
. ****************************
. *       COVARIATES              *
. ****************************
. *Time between 1st positive covid test and treatment*
. gen pre_drug_test=3 if drug>0 & covid_test_positive_date!=. &(date_treated-co
> vid_test_positive_date>0)&(date_treated-covid_test_positive_date<21)
(24,638 missing values generated)

. replace pre_drug_test=2 if drug>0 & covid_test_positive_date!=. &(date_treate
> d-covid_test_positive_date>0)&(date_treated-covid_test_positive_date<=7)
(5 real changes made)

. replace pre_drug_test=1 if drug>0 & covid_test_positive_date!=. &(date_treate
> d-covid_test_positive_date>0)&(date_treated-covid_test_positive_date<=5)
(3 real changes made)

. replace pre_drug_test=0 if drug>0 & covid_test_positive_date!=. &(date_treate
> d-covid_test_positive_date>=0)&(date_treated-covid_test_positive_date<=3)
(2 real changes made)

. replace pre_drug_test=4 if drug>0 & (date_treated-covid_test_positive_date<0)
>  & (date_treated-covid_test_positive_date>-7)
(4 real changes made)

. replace pre_drug_test=5 if drug>0 & (covid_test_positive_date==. | (date_trea
> ted-covid_test_positive_date<=-7) | (date_treated-covid_test_positive_date>=2
> 1)) 
(840 real changes made)

. label define pre_drug_test 0 "<3 days" 1 "3-5 days"  2 "5-7 days" 3 ">7 days 
> & <21 days" 4 "treatment proceeds test <7 days" 5 "no test", replace 

. label values pre_drug_test pre_drug_test

. tab pre_drug_test drug,m

                      |                    drug
        pre_drug_test |   control  sotrovima   paxlovid  molnupira |     Total
----------------------+--------------------------------------------+----------
              <3 days |         0          0          1          1 |         2 
             3-5 days |         0          0          1          0 |         1 
             5-7 days |         0          0          0          2 |         2 
   >7 days & <21 days |         0          3          4          5 |        12 
treatment proceeds te |         0          0          1          3 |         4 
              no test |         0        273        299        268 |       840 
                    . |    23,794          0          0          0 |    23,794 
----------------------+--------------------------------------------+----------
                Total |    23,794        276        306        279 |    24,655 

. 
. * Demographics*
. * Age
. sum age

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
         age |     24,655    48.85167    19.05348         18        109

. gen age_group=(age>=40)+(age>=60)

. label define age_group 0 "18-39" 1 "40-59" 2 ">=60" 

. label values age_group age_group

. egen age_5y_band=cut(age), at(18,25,30,35,40,45,50,55,60,65,70,75,80,85,110) 
> label

. tab age_group,m

  age_group |      Freq.     Percent        Cum.
------------+-----------------------------------
      18-39 |      9,006       36.53       36.53
      40-59 |      8,158       33.09       69.62
       >=60 |      7,491       30.38      100.00
------------+-----------------------------------
      Total |     24,655      100.00

. tab age_5y_band,m

age_5y_band |      Freq.     Percent        Cum.
------------+-----------------------------------
        18- |      2,669       10.83       10.83
        25- |      2,219        9.00       19.83
        30- |      2,062        8.36       28.19
        35- |      2,056        8.34       36.53
        40- |      1,866        7.57       44.10
        45- |      2,122        8.61       52.70
        50- |      2,118        8.59       61.29
        55- |      2,052        8.32       69.62
        60- |      1,743        7.07       76.69
        65- |      1,600        6.49       83.18
        70- |      1,544        6.26       89.44
        75- |      1,018        4.13       93.57
        80- |        786        3.19       96.76
        85- |        800        3.24      100.00
------------+-----------------------------------
      Total |     24,655      100.00

. * Sex
. gen male = 1 if sex == "M"
(12,563 missing values generated)

. replace male = 0 if sex == "F"
(12,563 real changes made)

. rename sex sex_str

. gen sex=0 if sex_str=="M"
(12,563 missing values generated)

. replace sex=1 if sex_str=="F"
(12,563 real changes made)

. label define sex 0 "Male" 1 "Female"

. label values sex sex

. tab sex

        sex |      Freq.     Percent        Cum.
------------+-----------------------------------
       Male |     12,092       49.04       49.04
     Female |     12,563       50.96      100.00
------------+-----------------------------------
      Total |     24,655      100.00

. * Ethnicity
. tab ethnicity,m

  ethnicity |      Freq.     Percent        Cum.
------------+-----------------------------------
            |     14,758       59.86       59.86
      Black |      1,011        4.10       63.96
      Mixed |        981        3.98       67.94
      Other |      1,013        4.11       72.05
South Asian |        980        3.97       76.02
      White |      5,912       23.98      100.00
------------+-----------------------------------
      Total |     24,655      100.00

. rename ethnicity ethnicity_str

. encode  ethnicity_str, gen(ethnicity)

. label list ethnicity
ethnicity:
           1 Black
           2 Mixed
           3 Other
           4 South Asian
           5 White

. replace ethnicity=. if ethnicity==2 
(981 real changes made, 981 to missing)

. tab ethnicity                           

  ethnicity |      Freq.     Percent        Cum.
------------+-----------------------------------
      Black |      1,011       11.34       11.34
      Other |      1,013       11.36       22.70
South Asian |        980       10.99       33.69
      White |      5,912       66.31      100.00
------------+-----------------------------------
      Total |      8,916      100.00

. gen ethnicity_with_missing=ethnicity
(15,739 missing values generated)

. replace ethnicity_with_missing=9 if ethnicity_with_missing==.
(15,739 real changes made)

. label define ethnicity_with_missing 1 "Black" 3 "Mixed" 4 "Other" 5 "South As
> ian" 6 "White" 9 "Missing", replace

. label values ethnicity_with_missing ethnicity_with_missing

. tab ethnicity_with_missing

ethnicity_w |
ith_missing |      Freq.     Percent        Cum.
------------+-----------------------------------
      Black |      1,011        4.10        4.10
      Mixed |      1,013        4.11        8.21
      Other |        980        3.97       12.18
South Asian |      5,912       23.98       36.16
    Missing |     15,739       63.84      100.00
------------+-----------------------------------
      Total |     24,655      100.00

. gen White=1 if ethnicity==6
(24,655 missing values generated)

. replace White=0 if ethnicity!=6&ethnicity!=.
(8,916 real changes made)

. tab White

      White |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      8,916      100.00      100.00
------------+-----------------------------------
      Total |      8,916      100.00

. gen White_with_missing=White
(15,739 missing values generated)

. replace White_with_missing=9 if White==.
(15,739 real changes made)

. tab White_with_missing

White_with_ |
    missing |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      8,916       36.16       36.16
          9 |     15,739       63.84      100.00
------------+-----------------------------------
      Total |     24,655      100.00

. * IMD
. tab imdq5,m

             imdQ5 |      Freq.     Percent        Cum.
-------------------+-----------------------------------
 1 (most deprived) |      4,922       19.96       19.96
                 2 |      4,903       19.89       39.85
                 3 |      4,935       20.02       59.87
                 4 |      4,829       19.59       79.45
5 (least deprived) |      4,823       19.56       99.01
           Unknown |        243        0.99      100.00
-------------------+-----------------------------------
             Total |     24,655      100.00

. replace imdq5="." if imdq5=="Unknown" 
(243 real changes made)

. replace imdq5="1" if imdq5=="1 (most deprived)" 
(4,922 real changes made)

. replace imdq5="5" if imdq5=="5 (least deprived)" 
(4,823 real changes made)

. destring imdq5, replace
imdq5: all characters numeric; replaced as byte
(243 missing values generated)

. recode imdq5 5 = 1 4 = 2 3 = 3 2 = 4 1 = 5 // Reverse the order (so 5 is more
>  deprived)
(imdq5: 19477 changes made)

. label define imdq5 1 "1 least deprived" 2 "2" 3 "3" 4 "4" 5 "5 most deprived"
> , replace

. label values imdq5 imdq5

. gen imd_with_missing=imdq5
(243 missing values generated)

. replace imd_with_missing=9 if imdq5==.
(243 real changes made)

. tab imdq5,m

           imdQ5 |      Freq.     Percent        Cum.
-----------------+-----------------------------------
1 least deprived |      4,823       19.56       19.56
               2 |      4,829       19.59       39.15
               3 |      4,935       20.02       59.16
               4 |      4,903       19.89       79.05
 5 most deprived |      4,922       19.96       99.01
               . |        243        0.99      100.00
-----------------+-----------------------------------
           Total |     24,655      100.00

. * Region
. tab region_nhs,m

              region_nhs |      Freq.     Percent        Cum.
-------------------------+-----------------------------------
                    East |      2,449        9.93        9.93
           East Midlands |      2,539       10.30       20.23
                  London |      4,988       20.23       40.46
              North East |      2,488       10.09       50.55
              North West |      2,497       10.13       60.68
              South East |      2,343        9.50       70.18
              South West |      2,415        9.80       79.98
           West Midlands |      2,441        9.90       89.88
Yorkshire and The Humber |      2,495       10.12      100.00
-------------------------+-----------------------------------
                   Total |     24,655      100.00

. tab drug region_nhs

             |                 region_nhs
        drug |      East  East Mi..     London  North E.. |     Total
-------------+--------------------------------------------+----------
     control |     2,368      2,455      4,816      2,404 |    23,794 
  sotrovimab |        24         19         58         37 |       276 
    paxlovid |        34         39         55         22 |       306 
molnupiravir |        23         26         59         25 |       279 
-------------+--------------------------------------------+----------
       Total |     2,449      2,539      4,988      2,488 |    24,655 


             |                 region_nhs
        drug | North W..  South E..  South W..  West Mi.. |     Total
-------------+--------------------------------------------+----------
     control |     2,402      2,263      2,327      2,359 |    23,794 
  sotrovimab |        32         24         27         34 |       276 
    paxlovid |        37         29         30         24 |       306 
molnupiravir |        26         27         31         24 |       279 
-------------+--------------------------------------------+----------
       Total |     2,497      2,343      2,415      2,441 |    24,655 


             | region_nhs
        drug | Yorkshi.. |     Total
-------------+-----------+----------
     control |     2,400 |    23,794 
  sotrovimab |        21 |       276 
    paxlovid |        36 |       306 
molnupiravir |        38 |       279 
-------------+-----------+----------
       Total |     2,495 |    24,655 

. rename region_nhs region_nhs_str 

. encode  region_nhs_str, gen(region_nhs)

. label list region_nhs
region_nhs:
           1 East
           2 East Midlands
           3 London
           4 North East
           5 North West
           6 South East
           7 South West
           8 West Midlands
           9 Yorkshire and The Humber

. tab region_covid_therapeutics,m

region_covid_therapeutic |
                       s |      Freq.     Percent        Cum.
-------------------------+-----------------------------------
                    East |      2,494       10.12       10.12
           East Midlands |      2,407        9.76       19.88
                  London |      4,854       19.69       39.57
              North East |      2,427        9.84       49.41
              North West |      2,416        9.80       59.21
              South East |      2,442        9.90       69.11
              South West |      2,573       10.44       79.55
           West Midlands |      2,552       10.35       89.90
Yorkshire and The Humber |      2,490       10.10      100.00
-------------------------+-----------------------------------
                   Total |     24,655      100.00

. rename region_covid_therapeutics region_covid_therapeutics_str

. encode region_covid_therapeutics_str, gen(region_covid_therapeutics)

. label list region_covid_therapeutics
region_covid_therapeutics:
           1 East
           2 East Midlands
           3 London
           4 North East
           5 North West
           6 South East
           7 South West
           8 West Midlands
           9 Yorkshire and The Humber

. tab stp,m

        stp |      Freq.     Percent        Cum.
------------+-----------------------------------
       STP1 |      2,483       10.07       10.07
      STP10 |      2,479       10.05       20.13
       STP2 |      2,439        9.89       30.02
       STP3 |      2,547       10.33       40.35
       STP4 |      2,439        9.89       50.24
       STP5 |      2,469       10.01       60.26
       STP6 |      2,487       10.09       70.34
       STP7 |      2,417        9.80       80.15
       STP8 |      2,455        9.96       90.10
       STP9 |      2,440        9.90      100.00
------------+-----------------------------------
      Total |     24,655      100.00

. rename stp stp_str

. encode  stp_str,gen(stp)

. label list stp
stp:
           1 STP1
           2 STP10
           3 STP2
           4 STP3
           5 STP4
           6 STP5
           7 STP6
           8 STP7
           9 STP8
          10 STP9

. label values stp stp

. by stp, sort: gen stp_N=_N if stp!=. //combine stps with low N (<100) as "Oth
> er"

. replace stp=99 if stp_N<100
(0 real changes made)

. tab stp,m

        stp |      Freq.     Percent        Cum.
------------+-----------------------------------
       STP1 |      2,483       10.07       10.07
      STP10 |      2,479       10.05       20.13
       STP2 |      2,439        9.89       30.02
       STP3 |      2,547       10.33       40.35
       STP4 |      2,439        9.89       50.24
       STP5 |      2,469       10.01       60.26
       STP6 |      2,487       10.09       70.34
       STP7 |      2,417        9.80       80.15
       STP8 |      2,455        9.96       90.10
       STP9 |      2,440        9.90      100.00
------------+-----------------------------------
      Total |     24,655      100.00

. * BMI
. tabstat bmi, stat(mean p25 p50 p75 min max) 

    variable |      mean       p25       p50       p75       min       max
-------------+------------------------------------------------------------
         bmi |  26.66252  21.68725  27.42702  33.08036 -3.945628  59.91503
--------------------------------------------------------------------------

. replace bmi=. if bmi<10|bmi>60
(1,473 real changes made, 1,473 to missing)

. gen bmi_10y=bmi if bmi_date_measured!=. & bmi_date_measured>=start_date-365*1
> 0 & (age+((bmi_date_measured-start_date)/365)>=18)
(24,655 missing values generated)

. gen bmi_5y=bmi if bmi_date_measured!=. & bmi_date_measured>=start_date-365*5 
> & (age+((bmi_date_measured-start_date)/365)>=18)
(24,655 missing values generated)

. gen bmi_2y=bmi if bmi_date_measured!=. & bmi_date_measured>=start_date-365*2 
> & (age+((bmi_date_measured-start_date)/365)>=18)
(24,655 missing values generated)

. gen bmi_group=(bmi>=18.5)+(bmi>=25.0)+(bmi>=30.0) if bmi!=.
(1,473 missing values generated)

. label define bmi_group 0 "underweight" 1 "normal" 2 "overweight" 3 "obese"

. label values bmi_group bmi_group

. gen bmi_group_with_missing=bmi_group
(1,473 missing values generated)

. replace bmi_group_with_missing=9 if bmi_group==.
(1,473 real changes made)

. gen bmi_25=(bmi>=25) if bmi!=.
(1,473 missing values generated)

. gen bmi_30=(bmi>=30) if bmi!=.
(1,473 missing values generated)

. * Comorbidities
. tab diabetes,m

   diabetes |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |     22,273       90.34       90.34
          1 |      2,382        9.66      100.00
------------+-----------------------------------
      Total |     24,655      100.00

. tab chronic_cardiac_disease,m

chronic_car |
diac_diseas |
          e |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |     22,205       90.06       90.06
          1 |      2,450        9.94      100.00
------------+-----------------------------------
      Total |     24,655      100.00

. tab hypertension,m

hypertensio |
          n |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |     22,164       89.90       89.90
          1 |      2,491       10.10      100.00
------------+-----------------------------------
      Total |     24,655      100.00

. tab chronic_respiratory_disease,m

chronic_res |
piratory_di |
      sease |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |     22,186       89.99       89.99
          1 |      2,469       10.01      100.00
------------+-----------------------------------
      Total |     24,655      100.00

. * Vaccination 
. tab vaccination_status,m

       vaccination_status |      Freq.     Percent        Cum.
--------------------------+-----------------------------------
Four or more vaccinations |      2,387        9.68        9.68
          One vaccination |      2,469       10.01       19.70
       Three vaccinations |     12,515       50.76       70.46
         Two vaccinations |      2,411        9.78       80.24
            Un-vaccinated |      2,399        9.73       89.97
 Un-vaccinated (declined) |      2,474       10.03      100.00
--------------------------+-----------------------------------
                    Total |     24,655      100.00

. rename vaccination_status vaccination_status_group

. gen vaccination_status=0 if vaccination_status_g=="Un-vaccinated"|vaccination
> _status_g=="Un-vaccinated (declined)"
(19,782 missing values generated)

. replace vaccination_status=1 if vaccination_status_g=="One vaccination"
(2,469 real changes made)

. replace vaccination_status=2 if vaccination_status_g=="Two vaccinations"
(2,411 real changes made)

. replace vaccination_status=3 if vaccination_status_g=="Three vaccinations"
(12,515 real changes made)

. replace vaccination_status=4 if vaccination_status_g=="Four or more vaccinati
> ons"
(2,387 real changes made)

. label define vaccination_status 0 "Un-vaccinated" 1 "One vaccination" 2 "Two 
> vaccinations" 3 "Three vaccinations" 4 "Four or more vaccinations"

. label values vaccination_status vaccination_status

. gen vaccination_3_plus=1 if vaccination_status==3|vaccination_status==4
(9,753 missing values generated)

. replace vaccination_3_plus=0 if vaccination_status<3
(9,753 real changes made)

. * time between vaccine and covid positive test or treatment
. gen days_vacc_covid=covid_test_positive_date - last_vaccination_date if (covi
> d_test_positive_date>last_vaccination_date & drug==0)
(9,689 missing values generated)

. sum days_vacc_covid,de

                       days_vacc_covid
-------------------------------------------------------------
      Percentiles      Smallest
 1%            8              1
 5%           41              1
10%           83              1       Obs              14,966
25%          211              1       Sum of Wgt.      14,966

50%          433                      Mean           450.2354
                        Largest       Std. Dev.      281.0913
75%          656           1159
90%          851           1159       Variance       79012.29
95%          951           1161       Skewness       .3097058
99%         1080           1165       Kurtosis        2.19513

. gen days_vacc_treat=date_treated - last_vaccination_date if (date_treated>las
> t_vaccination_date & drug>0)
(24,053 missing values generated)

. sum days_vacc_treat,de

                       days_vacc_treat
-------------------------------------------------------------
      Percentiles      Smallest
 1%           12              1
 5%           58              5
10%           84              6       Obs                 602
25%          223              8       Sum of Wgt.         602

50%          433                      Mean           450.9718
                        Largest       Std. Dev.      274.2167
75%          669           1065
90%          828           1069       Variance       75194.82
95%          918           1076       Skewness       .2471438
99%         1036           1077       Kurtosis       2.069055

. gen days_vacc_treat_test = days_vacc_covid if drug==0
(9,689 missing values generated)

. replace days_vacc_treat_test = days_vacc_treat if drug>0
(602 real changes made)

. sum days_vacc_treat_test,de

                    days_vacc_treat_test
-------------------------------------------------------------
      Percentiles      Smallest
 1%            8              1
 5%           42              1
10%           83              1       Obs              15,568
25%          212              1       Sum of Wgt.      15,568

50%          433                      Mean           450.2639
                        Largest       Std. Dev.        280.82
75%          656           1159
90%          850           1159       Variance       78859.86
95%          950           1161       Skewness       .3074548
99%         1079           1165       Kurtosis       2.190884

. gen month_vacc_covid=ceil(days_vacc_treat_test/30)
(9,087 missing values generated)

. tab month_vacc_covid,m

month_vacc_ |
      covid |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        583        2.36        2.36
          2 |        557        2.26        4.62
          3 |        572        2.32        6.94
          4 |        516        2.09        9.04
          5 |        543        2.20       11.24
          6 |        552        2.24       13.48
          7 |        541        2.19       15.67
          8 |        508        2.06       17.73
          9 |        504        2.04       19.78
         10 |        542        2.20       21.98
         11 |        534        2.17       24.14
         12 |        517        2.10       26.24
         13 |        538        2.18       28.42
         14 |        549        2.23       30.65
         15 |        548        2.22       32.87
         16 |        566        2.30       35.17
         17 |        532        2.16       37.32
         18 |        553        2.24       39.57
         19 |        545        2.21       41.78
         20 |        487        1.98       43.75
         21 |        512        2.08       45.83
         22 |        462        1.87       47.70
         23 |        411        1.67       49.37
         24 |        416        1.69       51.06
         25 |        382        1.55       52.61
         26 |        361        1.46       54.07
         27 |        306        1.24       55.31
         28 |        286        1.16       56.47
         29 |        262        1.06       57.53
         30 |        242        0.98       58.52
         31 |        240        0.97       59.49
         32 |        196        0.79       60.28
         33 |        200        0.81       61.10
         34 |        150        0.61       61.70
         35 |        111        0.45       62.15
         36 |         96        0.39       62.54
         37 |         83        0.34       62.88
         38 |         51        0.21       63.09
         39 |         14        0.06       63.14
          . |      9,087       36.86      100.00
------------+-----------------------------------
      Total |     24,655      100.00

. *Calendar time*
. gen day_after_campaign=start_date-mdy(12,15,2021)

. sum day_after_campaign,de

                     day_after_campaign
-------------------------------------------------------------
      Percentiles      Smallest
 1%            2             -3
 5%           28             -3
10%           59             -3       Obs              24,655
25%          155             -3       Sum of Wgt.      24,655

50%          311                      Mean           310.4376
                        Largest       Std. Dev.      180.5614
75%          467            624
90%          559            624       Variance       32602.42
95%          593            624       Skewness      -.0031321
99%          618            624       Kurtosis       1.810702

. gen month_after_campaign=ceil((start_date-mdy(12,15,2021))/30)

. tab month_after_campaign,m

month_after |
  _campaign |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |        182        0.74        0.74
          1 |      1,155        4.68        5.42
          2 |      1,160        4.70       10.13
          3 |      1,116        4.53       14.65
          4 |      1,165        4.73       19.38
          5 |      1,186        4.81       24.19
          6 |      1,254        5.09       29.28
          7 |      1,145        4.64       33.92
          8 |      1,210        4.91       38.83
          9 |      1,207        4.90       43.72
         10 |      1,132        4.59       48.31
         11 |      1,200        4.87       53.18
         12 |      1,187        4.81       58.00
         13 |      1,209        4.90       62.90
         14 |      1,185        4.81       67.71
         15 |      1,153        4.68       72.38
         16 |      1,182        4.79       77.18
         17 |      1,192        4.83       82.01
         18 |      1,252        5.08       87.09
         19 |      1,110        4.50       91.59
         20 |      1,135        4.60       96.20
         21 |        938        3.80      100.00
------------+-----------------------------------
      Total |     24,655      100.00

. tab start_date if month_after_campaign>100
no observations

. drop if month_after_campaign>100
(0 observations deleted)

. * Variant
. label define sgtf_new 0 "S gene detected" 1 "confirmed SGTF" 9 "NA"

. label values sgtf_new sgtf_new

. * Prior infection / check Bang code
. tab prior_covid, m

prior_covid |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |     17,278       70.08       70.08
          1 |      7,377       29.92      100.00
------------+-----------------------------------
      Total |     24,655      100.00

. gen prior_covid_index=1 if prior_covid==1 & prior_covid_date<campaign_start
(24,620 missing values generated)

. tab prior_covid_index,m

prior_covid |
     _index |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         35        0.14        0.14
          . |     24,620       99.86      100.00
------------+-----------------------------------
      Total |     24,655      100.00

. replace prior_covid_index=0 if prior_covid_index==.
(24,620 real changes made)

. *Contraindications for Pax*
. tab drug if organ_transplant==1

        drug |      Freq.     Percent        Cum.
-------------+-----------------------------------
     control |      7,696       96.84       96.84
  sotrovimab |         80        1.01       97.85
    paxlovid |         87        1.09       98.94
molnupiravir |         84        1.06      100.00
-------------+-----------------------------------
       Total |      7,947      100.00

. tab drug if liver_disease_nhsd_icd10==1

        drug |      Freq.     Percent        Cum.
-------------+-----------------------------------
     control |      2,515       96.14       96.14
  sotrovimab |         36        1.38       97.52
    paxlovid |         40        1.53       99.04
molnupiravir |         25        0.96      100.00
-------------+-----------------------------------
       Total |      2,616      100.00

. tab drug if renal_disease==1

        drug |      Freq.     Percent        Cum.
-------------+-----------------------------------
     control |      8,664       96.80       96.80
  sotrovimab |        100        1.12       97.92
    paxlovid |         89        0.99       98.92
molnupiravir |         97        1.08      100.00
-------------+-----------------------------------
       Total |      8,950      100.00

. * Calculating egfr: adapted from https://github.com/opensafely/COVID-19-vacci
> ne-breakthrough/blob/updates-feb/analysis/data_process.R*
. tabstat creatinine_ctv3, stat(mean p25 p50 p75 min max) 

    variable |      mean       p25       p50       p75       min       max
-------------+------------------------------------------------------------
creat~e_ctv3 |   57.0109  48.00764  59.10234  69.48444 -2.411904  126.6244
--------------------------------------------------------------------------

. replace creatinine_ctv3=. if !inrange(creatinine_ctv3, 20, 3000)|creatinine_c
> tv3_date>start_date
(12,515 real changes made, 12,515 to missing)

. tabstat creatinine_ctv3, stat(mean p25 p50 p75 min max) 

    variable |      mean       p25       p50       p75       min       max
-------------+------------------------------------------------------------
creat~e_ctv3 |  60.17147  50.17846  60.20356    70.242  20.02774  126.6244
--------------------------------------------------------------------------

. replace creatinine_ctv3 = creatinine_ctv3/88.4
(12,140 real changes made)

. gen min_creatinine_ctv3=.
(24,655 missing values generated)

. replace min_creatinine_ctv3 = (creatinine_ctv3/0.7)^-0.329 if sex==1
(6,214 real changes made)

. replace min_creatinine_ctv3 = (creatinine_ctv3/0.9)^-0.411 if sex==0
(5,926 real changes made)

. replace min_creatinine_ctv3 = 1 if min_creatinine_ctv3<1
(3,385 real changes made)

. gen max_creatinine_ctv3=.
(24,655 missing values generated)

. replace max_creatinine_ctv3 = (creatinine_ctv3/0.7)^-1.209 if sex==1
(6,214 real changes made)

. replace max_creatinine_ctv3 = (creatinine_ctv3/0.9)^-1.209 if sex==0
(5,926 real changes made)

. replace max_creatinine_ctv3 = 1 if max_creatinine_ctv3>1
(21,270 real changes made)

. gen egfr_creatinine_ctv3 = min_creatinine_ctv3*max_creatinine_ctv3*141*(0.993
> ^age_creatinine_ctv3) if age_creatinine_ctv3>0&age_creatinine_ctv3<=120
(12,630 missing values generated)

. replace egfr_creatinine_ctv3 = egfr_creatinine_ctv3*1.018 if sex==1
(6,159 real changes made)

. tabstat creatinine_snomed, stat(mean p25 p50 p75 min max) 

    variable |      mean       p25       p50       p75       min       max
-------------+------------------------------------------------------------
cre~e_snomed |  22.72015         0         0  45.35582 -38.71088  127.7402
--------------------------------------------------------------------------

. replace creatinine_snomed = . if !inrange(creatinine_snomed, 20, 3000)| creat
> inine_snomed_date>start_date
(18,809 real changes made, 18,809 to missing)

. replace creatinine_snomed_date = creatinine_short_snomed_date if missing(crea
> tinine_snomed)
(12,708 real changes made, 3,290 to missing)

. replace creatinine_operator_snomed = creatinine_operator_short_snomed if miss
> ing(creatinine_snomed)
(10,570 real changes made)

. replace age_creatinine_snomed = age_creatinine_short_snomed if missing(creati
> nine_snomed)
(18,619 real changes made)

. replace creatinine_snomed = creatinine_short_snomed if missing(creatinine_sno
> med)
(18,809 real changes made)

. replace creatinine_snomed = . if !inrange(creatinine_snomed, 20, 3000)| creat
> inine_snomed_date>start_date
(14,724 real changes made, 14,724 to missing)

. replace creatinine_snomed = creatinine_snomed/88.4
(9,931 real changes made)

. gen min_creatinine_snomed=.
(24,655 missing values generated)

. replace min_creatinine_snomed = (creatinine_snomed/0.7)^-0.329 if sex==1
(5,091 real changes made)

. replace min_creatinine_snomed = (creatinine_snomed/0.9)^-0.411 if sex==0
(4,840 real changes made)

. replace min_creatinine_snomed = 1 if min_creatinine_snomed<1
(1,351 real changes made)

. gen max_creatinine_snomed=.
(24,655 missing values generated)

. replace max_creatinine_snomed = (creatinine_snomed/0.7)^-1.209 if sex==1
(5,091 real changes made)

. replace max_creatinine_snomed = (creatinine_snomed/0.9)^-1.209 if sex==0
(4,840 real changes made)

. replace max_creatinine_snomed = 1 if max_creatinine_snomed>1
(23,304 real changes made)

. gen egfr_creatinine_snomed = min_creatinine_snomed*max_creatinine_snomed*141*
> (0.993^age_creatinine_snomed) if age_creatinine_snomed>0&age_creatinine_snome
> d<=120
(14,851 missing values generated)

. replace egfr_creatinine_snomed = egfr_creatinine_snomed*1.018 if sex==1
(5,029 real changes made)

. gen egfr_60 = 1 if (egfr_creatinine_ctv3<60&creatinine_operator_ctv3!="<")|(e
> gfr_creatinine_snomed<60&creatinine_operator_snomed!="<")|(egfr_record<60&egf
> r_record>0&egfr_operator!=">"&egfr_operator!=">=")|(egfr_short_record<60&egfr
> _short_record>0&egfr_short_operator!=">"&egfr_short_operator!=">=")
(21,367 missing values generated)

. gen egfr_30 = 1 if (egfr_creatinine_ctv3<30&creatinine_operator_ctv3!="<")|(e
> gfr_creatinine_snomed<30&creatinine_operator_snomed!="<")|(egfr_record<30&egf
> r_record>0&egfr_operator!=">"&egfr_operator!=">=")|(egfr_short_record<30&egfr
> _short_record>0&egfr_short_operator!=">"&egfr_short_operator!=">=")
(23,950 missing values generated)

. tab drug if egfr_60==1

        drug |      Freq.     Percent        Cum.
-------------+-----------------------------------
     control |      3,164       96.23       96.23
  sotrovimab |         42        1.28       97.51
    paxlovid |         51        1.55       99.06
molnupiravir |         31        0.94      100.00
-------------+-----------------------------------
       Total |      3,288      100.00

. tab drug if egfr_30==1

        drug |      Freq.     Percent        Cum.
-------------+-----------------------------------
     control |        679       96.31       96.31
  sotrovimab |         11        1.56       97.87
    paxlovid |          8        1.13       99.01
molnupiravir |          7        0.99      100.00
-------------+-----------------------------------
       Total |        705      100.00

. *drug interactions*
. tab drug if drugs_paxlovid_interaction<=start_date

        drug |      Freq.     Percent        Cum.
-------------+-----------------------------------
     control |        642       97.57       97.57
  sotrovimab |          5        0.76       98.33
    paxlovid |          5        0.76       99.09
molnupiravir |          6        0.91      100.00
-------------+-----------------------------------
       Total |        658      100.00

. tab drug if drugs_paxlovid_interaction<=start_date&drugs_paxlovid_interaction
> >=(start_date-3*365.25)

        drug |      Freq.     Percent        Cum.
-------------+-----------------------------------
     control |        642       97.57       97.57
  sotrovimab |          5        0.76       98.33
    paxlovid |          5        0.76       99.09
molnupiravir |          6        0.91      100.00
-------------+-----------------------------------
       Total |        658      100.00

. tab drug if drugs_paxlovid_interaction<=start_date&drugs_paxlovid_interaction
> >=(start_date-365.25)

        drug |      Freq.     Percent        Cum.
-------------+-----------------------------------
     control |        509       98.45       98.45
  sotrovimab |          3        0.58       99.03
    paxlovid |          3        0.58       99.61
molnupiravir |          2        0.39      100.00
-------------+-----------------------------------
       Total |        517      100.00

. tab drug if drugs_paxlovid_interaction<=start_date&drugs_paxlovid_interaction
> >=(start_date-180)

        drug |      Freq.     Percent        Cum.
-------------+-----------------------------------
     control |        296       98.67       98.67
  sotrovimab |          1        0.33       99.00
    paxlovid |          1        0.33       99.33
molnupiravir |          2        0.67      100.00
-------------+-----------------------------------
       Total |        300      100.00

. tab drug if drugs_nirmatrelvir_interaction<=start_date

        drug |      Freq.     Percent        Cum.
-------------+-----------------------------------
     control |        623       97.50       97.50
    paxlovid |          7        1.10       98.59
molnupiravir |          9        1.41      100.00
-------------+-----------------------------------
       Total |        639      100.00

. tab drug if drugs_nirmatrelvir_interaction<=start_date&drugs_nirmatrelvir_int
> eraction>=(start_date-3*365.25)

        drug |      Freq.     Percent        Cum.
-------------+-----------------------------------
     control |        623       97.50       97.50
    paxlovid |          7        1.10       98.59
molnupiravir |          9        1.41      100.00
-------------+-----------------------------------
       Total |        639      100.00

. tab drug if drugs_nirmatrelvir_interaction<=start_date&drugs_nirmatrelvir_int
> eraction>=(start_date-365.25)

        drug |      Freq.     Percent        Cum.
-------------+-----------------------------------
     control |        503       98.24       98.24
    paxlovid |          4        0.78       99.02
molnupiravir |          5        0.98      100.00
-------------+-----------------------------------
       Total |        512      100.00

. tab drug if drugs_nirmatrelvir_interaction<=start_date&drugs_nirmatrelvir_int
> eraction>=(start_date-180)

        drug |      Freq.     Percent        Cum.
-------------+-----------------------------------
     control |        301       98.05       98.05
    paxlovid |          3        0.98       99.02
molnupiravir |          3        0.98      100.00
-------------+-----------------------------------
       Total |        307      100.00

. gen paxlovid_interaction=(drugs_paxlovid_interaction<=start_date&drugs_paxlov
> id_interaction>=(start_date-180))  

. gen nirmatrelvir_interaction=(drugs_nirmatrelvir_interaction<=start_date&drug
> s_nirmatrelvir_interaction>=(start_date-180))

. * Drug contraindicated 
. gen paxlovid_contraindicated = 1 if egfr_30==1 | dialysis==1
(21,402 missing values generated)

. replace paxlovid_contraindicated = 1 if liver_disease==1 
(4,227 real changes made)

. replace paxlovid_contraindicated = 1 if organ_transplant==1 
(5,603 real changes made)

. replace paxlovid_contraindicated = 1 if drugs_paxlovid_interaction<=start_dat
> e&drugs_paxlovid_interaction>=(start_date-180)
(135 real changes made)

. recode paxlovid_contraindicated . = 0
(paxlovid_contraindicated: 11437 changes made)

. by drug, sort: count if paxlovid_contraindicated==1

-------------------------------------------------------------------------------
-> drug = control
  12,779
-------------------------------------------------------------------------------
-> drug = sotrovimab
  149
-------------------------------------------------------------------------------
-> drug = paxlovid
  145
-------------------------------------------------------------------------------
-> drug = molnupiravir
  145

. 
. ****************************
. *       COX MODEL               *
. ****************************
. global ae               ae_spc_all                              ///
>                                 ae_drug_all                             ///  
>            
>                                 ae_imae_all                     ///          
>                    
>                                 ae_all                                  ///
>                                 allcause_emerg_aande    ///
>                                 covid_hosp_date                 ///
>                                 all_hosp_date                   ///
>                                 died_date_ons

. 
. * Generate failure 
. foreach x in    $ae $ae_disease ///
>                                 $ae_spc_gp $ae_spc_icd $ae_spc_emerg ///
>                                 $ae_drug_gp $ae_drug_icd $ae_drug_emerg ///
>                                 $ae_imae_gp $ae_imae_icd $ae_imae_emerg ///
>                                 {
  2.         display "`x'"
  3.         by drug, sort: count if `x'!=.
  4.         by drug, sort: count if `x'>=start_date & `x'!=.
  5.         by drug, sort: count if `x'>=start_date & `x'<start_date_29 &`x'!=
> .
  6.         gen fail_`x'=(`x'!=.&`x'<= min(study_end_date, start_date_29, paxl
> ovid, molnupiravir)) if drug==1
  7.         replace fail_`x'=(`x'!=.&`x'<= min(study_end_date, start_date_29, 
> sotrovimab, molnupiravir)) if drug==2
  8.         replace fail_`x'=(`x'!=.&`x'<= min(study_end_date, start_date_29, 
> sotrovimab, paxlovid)) if drug==3
  9.         replace fail_`x'=(`x'!=.&`x'<= min(study_end_date, start_date_29, 
> sotrovimab, paxlovid, molnupiravir)) if drug==0
 10.         tab drug fail_`x', m
 11. }
ae_spc_all

-------------------------------------------------------------------------------
-> drug = control
  23,794
-------------------------------------------------------------------------------
-> drug = sotrovimab
  276
-------------------------------------------------------------------------------
-> drug = paxlovid
  306
-------------------------------------------------------------------------------
-> drug = molnupiravir
  279

-------------------------------------------------------------------------------
-> drug = control
  2,676
-------------------------------------------------------------------------------
-> drug = sotrovimab
  23
-------------------------------------------------------------------------------
-> drug = paxlovid
  31
-------------------------------------------------------------------------------
-> drug = molnupiravir
  28

-------------------------------------------------------------------------------
-> drug = control
  950
-------------------------------------------------------------------------------
-> drug = sotrovimab
  8
-------------------------------------------------------------------------------
-> drug = paxlovid
  11
-------------------------------------------------------------------------------
-> drug = molnupiravir
  10
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |    fail_ae_spc_all
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |     1,701     22,093 |    23,794 
  sotrovimab |        15        261 |       276 
    paxlovid |        20        286 |       306 
molnupiravir |        18        261 |       279 
-------------+----------------------+----------
       Total |     1,754     22,901 |    24,655 
ae_drug_all

-------------------------------------------------------------------------------
-> drug = control
  23,570
-------------------------------------------------------------------------------
-> drug = sotrovimab
  272
-------------------------------------------------------------------------------
-> drug = paxlovid
  304
-------------------------------------------------------------------------------
-> drug = molnupiravir
  279

-------------------------------------------------------------------------------
-> drug = control
  5,802
-------------------------------------------------------------------------------
-> drug = sotrovimab
  62
-------------------------------------------------------------------------------
-> drug = paxlovid
  65
-------------------------------------------------------------------------------
-> drug = molnupiravir
  66

-------------------------------------------------------------------------------
-> drug = control
  1,035
-------------------------------------------------------------------------------
-> drug = sotrovimab
  13
-------------------------------------------------------------------------------
-> drug = paxlovid
  12
-------------------------------------------------------------------------------
-> drug = molnupiravir
  15
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |   fail_ae_drug_all
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |     4,964     18,830 |    23,794 
  sotrovimab |        51        225 |       276 
    paxlovid |        55        251 |       306 
molnupiravir |        51        228 |       279 
-------------+----------------------+----------
       Total |     5,121     19,534 |    24,655 
ae_imae_all

-------------------------------------------------------------------------------
-> drug = control
  23,786
-------------------------------------------------------------------------------
-> drug = sotrovimab
  275
-------------------------------------------------------------------------------
-> drug = paxlovid
  306
-------------------------------------------------------------------------------
-> drug = molnupiravir
  279

-------------------------------------------------------------------------------
-> drug = control
  3,684
-------------------------------------------------------------------------------
-> drug = sotrovimab
  39
-------------------------------------------------------------------------------
-> drug = paxlovid
  46
-------------------------------------------------------------------------------
-> drug = molnupiravir
  37

-------------------------------------------------------------------------------
-> drug = control
  971
-------------------------------------------------------------------------------
-> drug = sotrovimab
  12
-------------------------------------------------------------------------------
-> drug = paxlovid
  10
-------------------------------------------------------------------------------
-> drug = molnupiravir
  9
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |   fail_ae_imae_all
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |     2,694     21,100 |    23,794 
  sotrovimab |        27        249 |       276 
    paxlovid |        36        270 |       306 
molnupiravir |        28        251 |       279 
-------------+----------------------+----------
       Total |     2,785     21,870 |    24,655 
ae_all

-------------------------------------------------------------------------------
-> drug = control
  23,794
-------------------------------------------------------------------------------
-> drug = sotrovimab
  276
-------------------------------------------------------------------------------
-> drug = paxlovid
  306
-------------------------------------------------------------------------------
-> drug = molnupiravir
  279

-------------------------------------------------------------------------------
-> drug = control
  1,452
-------------------------------------------------------------------------------
-> drug = sotrovimab
  11
-------------------------------------------------------------------------------
-> drug = paxlovid
  11
-------------------------------------------------------------------------------
-> drug = molnupiravir
  9

-------------------------------------------------------------------------------
-> drug = control
  850
-------------------------------------------------------------------------------
-> drug = sotrovimab
  6
-------------------------------------------------------------------------------
-> drug = paxlovid
  6
-------------------------------------------------------------------------------
-> drug = molnupiravir
  7
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |      fail_ae_all
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |       586     23,208 |    23,794 
  sotrovimab |         5        271 |       276 
    paxlovid |         5        301 |       306 
molnupiravir |         2        277 |       279 
-------------+----------------------+----------
       Total |       598     24,057 |    24,655 
allcause_emerg_aande

-------------------------------------------------------------------------------
-> drug = control
  1,167
-------------------------------------------------------------------------------
-> drug = sotrovimab
  12
-------------------------------------------------------------------------------
-> drug = paxlovid
  10
-------------------------------------------------------------------------------
-> drug = molnupiravir
  18

-------------------------------------------------------------------------------
-> drug = control
  649
-------------------------------------------------------------------------------
-> drug = sotrovimab
  7
-------------------------------------------------------------------------------
-> drug = paxlovid
  4
-------------------------------------------------------------------------------
-> drug = molnupiravir
  9

-------------------------------------------------------------------------------
-> drug = control
  50
-------------------------------------------------------------------------------
-> drug = sotrovimab
  2
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_allcause_emerg_a
             |         ande
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    23,227        567 |    23,794 
  sotrovimab |       269          7 |       276 
    paxlovid |       300          6 |       306 
molnupiravir |       270          9 |       279 
-------------+----------------------+----------
       Total |    24,066        589 |    24,655 
covid_hosp_date

-------------------------------------------------------------------------------
-> drug = control
  2,388
-------------------------------------------------------------------------------
-> drug = sotrovimab
  34
-------------------------------------------------------------------------------
-> drug = paxlovid
  30
-------------------------------------------------------------------------------
-> drug = molnupiravir
  22

-------------------------------------------------------------------------------
-> drug = control
  1,300
-------------------------------------------------------------------------------
-> drug = sotrovimab
  18
-------------------------------------------------------------------------------
-> drug = paxlovid
  18
-------------------------------------------------------------------------------
-> drug = molnupiravir
  12

-------------------------------------------------------------------------------
-> drug = control
  108
-------------------------------------------------------------------------------
-> drug = sotrovimab
  1
-------------------------------------------------------------------------------
-> drug = paxlovid
  0
-------------------------------------------------------------------------------
-> drug = molnupiravir
  1
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_covid_hosp_date
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    22,592      1,202 |    23,794 
  sotrovimab |       259         17 |       276 
    paxlovid |       294         12 |       306 
molnupiravir |       268         11 |       279 
-------------+----------------------+----------
       Total |    23,413      1,242 |    24,655 
all_hosp_date

-------------------------------------------------------------------------------
-> drug = control
  2,411
-------------------------------------------------------------------------------
-> drug = sotrovimab
  23
-------------------------------------------------------------------------------
-> drug = paxlovid
  35
-------------------------------------------------------------------------------
-> drug = molnupiravir
  26

-------------------------------------------------------------------------------
-> drug = control
  1,312
-------------------------------------------------------------------------------
-> drug = sotrovimab
  12
-------------------------------------------------------------------------------
-> drug = paxlovid
  17
-------------------------------------------------------------------------------
-> drug = molnupiravir
  13

-------------------------------------------------------------------------------
-> drug = control
  111
-------------------------------------------------------------------------------
-> drug = sotrovimab
  0
-------------------------------------------------------------------------------
-> drug = paxlovid
  1
-------------------------------------------------------------------------------
-> drug = molnupiravir
  0
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |  fail_all_hosp_date
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    22,582      1,212 |    23,794 
  sotrovimab |       265         11 |       276 
    paxlovid |       287         19 |       306 
molnupiravir |       266         13 |       279 
-------------+----------------------+----------
       Total |    23,400      1,255 |    24,655 
died_date_ons

-------------------------------------------------------------------------------
-> drug = control
  14,198
-------------------------------------------------------------------------------
-> drug = sotrovimab
  159
-------------------------------------------------------------------------------
-> drug = paxlovid
  196
-------------------------------------------------------------------------------
-> drug = molnupiravir
  169

-------------------------------------------------------------------------------
-> drug = control
  4,696
-------------------------------------------------------------------------------
-> drug = sotrovimab
  46
-------------------------------------------------------------------------------
-> drug = paxlovid
  48
-------------------------------------------------------------------------------
-> drug = molnupiravir
  56

-------------------------------------------------------------------------------
-> drug = control
  424
-------------------------------------------------------------------------------
-> drug = sotrovimab
  1
-------------------------------------------------------------------------------
-> drug = paxlovid
  6
-------------------------------------------------------------------------------
-> drug = molnupiravir
  3
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |  fail_died_date_ons
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    13,850      9,944 |    23,794 
  sotrovimab |       161        115 |       276 
    paxlovid |       152        154 |       306 
molnupiravir |       163        116 |       279 
-------------+----------------------+----------
       Total |    14,326     10,329 |    24,655 
ae_diverticulitis

-------------------------------------------------------------------------------
-> drug = control
  18,648
-------------------------------------------------------------------------------
-> drug = sotrovimab
  209
-------------------------------------------------------------------------------
-> drug = paxlovid
  245
-------------------------------------------------------------------------------
-> drug = molnupiravir
  222

-------------------------------------------------------------------------------
-> drug = control
  7,933
-------------------------------------------------------------------------------
-> drug = sotrovimab
  94
-------------------------------------------------------------------------------
-> drug = paxlovid
  98
-------------------------------------------------------------------------------
-> drug = molnupiravir
  94

-------------------------------------------------------------------------------
-> drug = control
  886
-------------------------------------------------------------------------------
-> drug = sotrovimab
  11
-------------------------------------------------------------------------------
-> drug = paxlovid
  14
-------------------------------------------------------------------------------
-> drug = molnupiravir
  13
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_diverticuliti
             |           s
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    12,164     11,630 |    23,794 
  sotrovimab |       150        126 |       276 
    paxlovid |       145        161 |       306 
molnupiravir |       138        141 |       279 
-------------+----------------------+----------
       Total |    12,597     12,058 |    24,655 
ae_diarrhoea

-------------------------------------------------------------------------------
-> drug = control
  18,651
-------------------------------------------------------------------------------
-> drug = sotrovimab
  217
-------------------------------------------------------------------------------
-> drug = paxlovid
  236
-------------------------------------------------------------------------------
-> drug = molnupiravir
  223

-------------------------------------------------------------------------------
-> drug = control
  7,889
-------------------------------------------------------------------------------
-> drug = sotrovimab
  86
-------------------------------------------------------------------------------
-> drug = paxlovid
  91
-------------------------------------------------------------------------------
-> drug = molnupiravir
  96

-------------------------------------------------------------------------------
-> drug = control
  839
-------------------------------------------------------------------------------
-> drug = sotrovimab
  7
-------------------------------------------------------------------------------
-> drug = paxlovid
  8
-------------------------------------------------------------------------------
-> drug = molnupiravir
  13
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |   fail_ae_diarrhoea
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    12,152     11,642 |    23,794 
  sotrovimab |       138        138 |       276 
    paxlovid |       153        153 |       306 
molnupiravir |       139        140 |       279 
-------------+----------------------+----------
       Total |    12,582     12,073 |    24,655 
ae_taste

-------------------------------------------------------------------------------
-> drug = control
  15,225
-------------------------------------------------------------------------------
-> drug = sotrovimab
  183
-------------------------------------------------------------------------------
-> drug = paxlovid
  198
-------------------------------------------------------------------------------
-> drug = molnupiravir
  176

-------------------------------------------------------------------------------
-> drug = control
  7,032
-------------------------------------------------------------------------------
-> drug = sotrovimab
  90
-------------------------------------------------------------------------------
-> drug = paxlovid
  95
-------------------------------------------------------------------------------
-> drug = molnupiravir
  83

-------------------------------------------------------------------------------
-> drug = control
  703
-------------------------------------------------------------------------------
-> drug = sotrovimab
  13
-------------------------------------------------------------------------------
-> drug = paxlovid
  11
-------------------------------------------------------------------------------
-> drug = molnupiravir
  8
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |     fail_ae_taste
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    14,882      8,912 |    23,794 
  sotrovimab |       170        106 |       276 
    paxlovid |       192        114 |       306 
molnupiravir |       178        101 |       279 
-------------+----------------------+----------
       Total |    15,422      9,233 |    24,655 
ae_rash

-------------------------------------------------------------------------------
-> drug = control
  18,558
-------------------------------------------------------------------------------
-> drug = sotrovimab
  231
-------------------------------------------------------------------------------
-> drug = paxlovid
  230
-------------------------------------------------------------------------------
-> drug = molnupiravir
  218

-------------------------------------------------------------------------------
-> drug = control
  7,834
-------------------------------------------------------------------------------
-> drug = sotrovimab
  87
-------------------------------------------------------------------------------
-> drug = paxlovid
  97
-------------------------------------------------------------------------------
-> drug = molnupiravir
  93

-------------------------------------------------------------------------------
-> drug = control
  836
-------------------------------------------------------------------------------
-> drug = sotrovimab
  9
-------------------------------------------------------------------------------
-> drug = paxlovid
  8
-------------------------------------------------------------------------------
-> drug = molnupiravir
  13
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |     fail_ae_rash
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    12,201     11,593 |    23,794 
  sotrovimab |       122        154 |       276 
    paxlovid |       164        142 |       306 
molnupiravir |       141        138 |       279 
-------------+----------------------+----------
       Total |    12,628     12,027 |    24,655 
ae_bronchospasm

-------------------------------------------------------------------------------
-> drug = control
  9,504
-------------------------------------------------------------------------------
-> drug = sotrovimab
  126
-------------------------------------------------------------------------------
-> drug = paxlovid
  113
-------------------------------------------------------------------------------
-> drug = molnupiravir
  117

-------------------------------------------------------------------------------
-> drug = control
  4,801
-------------------------------------------------------------------------------
-> drug = sotrovimab
  78
-------------------------------------------------------------------------------
-> drug = paxlovid
  52
-------------------------------------------------------------------------------
-> drug = molnupiravir
  62

-------------------------------------------------------------------------------
-> drug = control
  420
-------------------------------------------------------------------------------
-> drug = sotrovimab
  8
-------------------------------------------------------------------------------
-> drug = paxlovid
  4
-------------------------------------------------------------------------------
-> drug = molnupiravir
  6
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_bronchospasm
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,653      5,141 |    23,794 
  sotrovimab |       220         56 |       276 
    paxlovid |       241         65 |       306 
molnupiravir |       218         61 |       279 
-------------+----------------------+----------
       Total |    19,332      5,323 |    24,655 
ae_contactderm

-------------------------------------------------------------------------------
-> drug = control
  18,568
-------------------------------------------------------------------------------
-> drug = sotrovimab
  217
-------------------------------------------------------------------------------
-> drug = paxlovid
  240
-------------------------------------------------------------------------------
-> drug = molnupiravir
  219

-------------------------------------------------------------------------------
-> drug = control
  7,805
-------------------------------------------------------------------------------
-> drug = sotrovimab
  96
-------------------------------------------------------------------------------
-> drug = paxlovid
  95
-------------------------------------------------------------------------------
-> drug = molnupiravir
  97

-------------------------------------------------------------------------------
-> drug = control
  800
-------------------------------------------------------------------------------
-> drug = sotrovimab
  13
-------------------------------------------------------------------------------
-> drug = paxlovid
  8
-------------------------------------------------------------------------------
-> drug = molnupiravir
  11
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |  fail_ae_contactderm
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    12,199     11,595 |    23,794 
  sotrovimab |       142        134 |       276 
    paxlovid |       152        154 |       306 
molnupiravir |       146        133 |       279 
-------------+----------------------+----------
       Total |    12,639     12,016 |    24,655 
ae_dizziness

-------------------------------------------------------------------------------
-> drug = control
  18,618
-------------------------------------------------------------------------------
-> drug = sotrovimab
  225
-------------------------------------------------------------------------------
-> drug = paxlovid
  244
-------------------------------------------------------------------------------
-> drug = molnupiravir
  222

-------------------------------------------------------------------------------
-> drug = control
  7,834
-------------------------------------------------------------------------------
-> drug = sotrovimab
  93
-------------------------------------------------------------------------------
-> drug = paxlovid
  96
-------------------------------------------------------------------------------
-> drug = molnupiravir
  82

-------------------------------------------------------------------------------
-> drug = control
  830
-------------------------------------------------------------------------------
-> drug = sotrovimab
  12
-------------------------------------------------------------------------------
-> drug = paxlovid
  12
-------------------------------------------------------------------------------
-> drug = molnupiravir
  7
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |   fail_ae_dizziness
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    12,157     11,637 |    23,794 
  sotrovimab |       132        144 |       276 
    paxlovid |       146        160 |       306 
molnupiravir |       131        148 |       279 
-------------+----------------------+----------
       Total |    12,566     12,089 |    24,655 
ae_nausea_vomit

-------------------------------------------------------------------------------
-> drug = control
  15,142
-------------------------------------------------------------------------------
-> drug = sotrovimab
  171
-------------------------------------------------------------------------------
-> drug = paxlovid
  186
-------------------------------------------------------------------------------
-> drug = molnupiravir
  174

-------------------------------------------------------------------------------
-> drug = control
  7,068
-------------------------------------------------------------------------------
-> drug = sotrovimab
  73
-------------------------------------------------------------------------------
-> drug = paxlovid
  79
-------------------------------------------------------------------------------
-> drug = molnupiravir
  91

-------------------------------------------------------------------------------
-> drug = control
  748
-------------------------------------------------------------------------------
-> drug = sotrovimab
  10
-------------------------------------------------------------------------------
-> drug = paxlovid
  7
-------------------------------------------------------------------------------
-> drug = molnupiravir
  9
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_nausea_vomit
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    14,931      8,863 |    23,794 
  sotrovimab |       168        108 |       276 
    paxlovid |       192        114 |       306 
molnupiravir |       187         92 |       279 
-------------+----------------------+----------
       Total |    15,478      9,177 |    24,655 
ae_headache

-------------------------------------------------------------------------------
-> drug = control
  18,705
-------------------------------------------------------------------------------
-> drug = sotrovimab
  215
-------------------------------------------------------------------------------
-> drug = paxlovid
  240
-------------------------------------------------------------------------------
-> drug = molnupiravir
  226

-------------------------------------------------------------------------------
-> drug = control
  7,959
-------------------------------------------------------------------------------
-> drug = sotrovimab
  98
-------------------------------------------------------------------------------
-> drug = paxlovid
  99
-------------------------------------------------------------------------------
-> drug = molnupiravir
  92

-------------------------------------------------------------------------------
-> drug = control
  835
-------------------------------------------------------------------------------
-> drug = sotrovimab
  4
-------------------------------------------------------------------------------
-> drug = paxlovid
  13
-------------------------------------------------------------------------------
-> drug = molnupiravir
  11
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |   fail_ae_headache
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    12,187     11,607 |    23,794 
  sotrovimab |       155        121 |       276 
    paxlovid |       151        155 |       306 
molnupiravir |       134        145 |       279 
-------------+----------------------+----------
       Total |    12,627     12,028 |    24,655 
ae_anaphylaxis

-------------------------------------------------------------------------------
-> drug = control
  18,589
-------------------------------------------------------------------------------
-> drug = sotrovimab
  207
-------------------------------------------------------------------------------
-> drug = paxlovid
  239
-------------------------------------------------------------------------------
-> drug = molnupiravir
  222

-------------------------------------------------------------------------------
-> drug = control
  7,816
-------------------------------------------------------------------------------
-> drug = sotrovimab
  84
-------------------------------------------------------------------------------
-> drug = paxlovid
  100
-------------------------------------------------------------------------------
-> drug = molnupiravir
  99

-------------------------------------------------------------------------------
-> drug = control
  822
-------------------------------------------------------------------------------
-> drug = sotrovimab
  9
-------------------------------------------------------------------------------
-> drug = paxlovid
  7
-------------------------------------------------------------------------------
-> drug = molnupiravir
  12
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |  fail_ae_anaphylaxis
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    12,175     11,619 |    23,794 
  sotrovimab |       143        133 |       276 
    paxlovid |       160        146 |       306 
molnupiravir |       144        135 |       279 
-------------+----------------------+----------
       Total |    12,622     12,033 |    24,655 
ae_severe_drug

-------------------------------------------------------------------------------
-> drug = control
  20,720
-------------------------------------------------------------------------------
-> drug = sotrovimab
  245
-------------------------------------------------------------------------------
-> drug = paxlovid
  270
-------------------------------------------------------------------------------
-> drug = molnupiravir
  242

-------------------------------------------------------------------------------
-> drug = control
  7,960
-------------------------------------------------------------------------------
-> drug = sotrovimab
  98
-------------------------------------------------------------------------------
-> drug = paxlovid
  93
-------------------------------------------------------------------------------
-> drug = molnupiravir
  91

-------------------------------------------------------------------------------
-> drug = control
  902
-------------------------------------------------------------------------------
-> drug = sotrovimab
  14
-------------------------------------------------------------------------------
-> drug = paxlovid
  10
-------------------------------------------------------------------------------
-> drug = molnupiravir
  11
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |  fail_ae_severe_drug
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    10,102     13,692 |    23,794 
  sotrovimab |       114        162 |       276 
    paxlovid |       119        187 |       306 
molnupiravir |       117        162 |       279 
-------------+----------------------+----------
       Total |    10,452     14,203 |    24,655 
ae_nonsevere_drug

-------------------------------------------------------------------------------
-> drug = control
  15,268
-------------------------------------------------------------------------------
-> drug = sotrovimab
  170
-------------------------------------------------------------------------------
-> drug = paxlovid
  201
-------------------------------------------------------------------------------
-> drug = molnupiravir
  190

-------------------------------------------------------------------------------
-> drug = control
  7,066
-------------------------------------------------------------------------------
-> drug = sotrovimab
  80
-------------------------------------------------------------------------------
-> drug = paxlovid
  84
-------------------------------------------------------------------------------
-> drug = molnupiravir
  91

-------------------------------------------------------------------------------
-> drug = control
  675
-------------------------------------------------------------------------------
-> drug = sotrovimab
  7
-------------------------------------------------------------------------------
-> drug = paxlovid
  12
-------------------------------------------------------------------------------
-> drug = molnupiravir
  12
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_nonsevere_dru
             |           g
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    14,892      8,902 |    23,794 
  sotrovimab |       179         97 |       276 
    paxlovid |       177        129 |       306 
molnupiravir |       168        111 |       279 
-------------+----------------------+----------
       Total |    15,416      9,239 |    24,655 
ae_ra

-------------------------------------------------------------------------------
-> drug = control
  16,805
-------------------------------------------------------------------------------
-> drug = sotrovimab
  193
-------------------------------------------------------------------------------
-> drug = paxlovid
  222
-------------------------------------------------------------------------------
-> drug = molnupiravir
  198

-------------------------------------------------------------------------------
-> drug = control
  7,134
-------------------------------------------------------------------------------
-> drug = sotrovimab
  87
-------------------------------------------------------------------------------
-> drug = paxlovid
  89
-------------------------------------------------------------------------------
-> drug = molnupiravir
  88

-------------------------------------------------------------------------------
-> drug = control
  706
-------------------------------------------------------------------------------
-> drug = sotrovimab
  5
-------------------------------------------------------------------------------
-> drug = paxlovid
  5
-------------------------------------------------------------------------------
-> drug = molnupiravir
  7
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |      fail_ae_ra
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    13,399     10,395 |    23,794 
  sotrovimab |       164        112 |       276 
    paxlovid |       168        138 |       306 
molnupiravir |       162        117 |       279 
-------------+----------------------+----------
       Total |    13,893     10,762 |    24,655 
ae_sle

-------------------------------------------------------------------------------
-> drug = control
  16,846
-------------------------------------------------------------------------------
-> drug = sotrovimab
  189
-------------------------------------------------------------------------------
-> drug = paxlovid
  215
-------------------------------------------------------------------------------
-> drug = molnupiravir
  195

-------------------------------------------------------------------------------
-> drug = control
  7,147
-------------------------------------------------------------------------------
-> drug = sotrovimab
  80
-------------------------------------------------------------------------------
-> drug = paxlovid
  89
-------------------------------------------------------------------------------
-> drug = molnupiravir
  80

-------------------------------------------------------------------------------
-> drug = control
  744
-------------------------------------------------------------------------------
-> drug = sotrovimab
  6
-------------------------------------------------------------------------------
-> drug = paxlovid
  6
-------------------------------------------------------------------------------
-> drug = molnupiravir
  8
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |      fail_ae_sle
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    13,331     10,463 |    23,794 
  sotrovimab |       160        116 |       276 
    paxlovid |       174        132 |       306 
molnupiravir |       156        123 |       279 
-------------+----------------------+----------
       Total |    13,821     10,834 |    24,655 
ae_psorasis

-------------------------------------------------------------------------------
-> drug = control
  16,884
-------------------------------------------------------------------------------
-> drug = sotrovimab
  202
-------------------------------------------------------------------------------
-> drug = paxlovid
  212
-------------------------------------------------------------------------------
-> drug = molnupiravir
  201

-------------------------------------------------------------------------------
-> drug = control
  7,098
-------------------------------------------------------------------------------
-> drug = sotrovimab
  92
-------------------------------------------------------------------------------
-> drug = paxlovid
  92
-------------------------------------------------------------------------------
-> drug = molnupiravir
  86

-------------------------------------------------------------------------------
-> drug = control
  750
-------------------------------------------------------------------------------
-> drug = sotrovimab
  15
-------------------------------------------------------------------------------
-> drug = paxlovid
  11
-------------------------------------------------------------------------------
-> drug = molnupiravir
  11
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |   fail_ae_psorasis
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    13,238     10,556 |    23,794 
  sotrovimab |       151        125 |       276 
    paxlovid |       175        131 |       306 
molnupiravir |       153        126 |       279 
-------------+----------------------+----------
       Total |    13,717     10,938 |    24,655 
ae_psa

-------------------------------------------------------------------------------
-> drug = control
  16,859
-------------------------------------------------------------------------------
-> drug = sotrovimab
  189
-------------------------------------------------------------------------------
-> drug = paxlovid
  220
-------------------------------------------------------------------------------
-> drug = molnupiravir
  189

-------------------------------------------------------------------------------
-> drug = control
  7,196
-------------------------------------------------------------------------------
-> drug = sotrovimab
  86
-------------------------------------------------------------------------------
-> drug = paxlovid
  88
-------------------------------------------------------------------------------
-> drug = molnupiravir
  74

-------------------------------------------------------------------------------
-> drug = control
  763
-------------------------------------------------------------------------------
-> drug = sotrovimab
  10
-------------------------------------------------------------------------------
-> drug = paxlovid
  9
-------------------------------------------------------------------------------
-> drug = molnupiravir
  8
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |      fail_ae_psa
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    13,341     10,453 |    23,794 
  sotrovimab |       162        114 |       276 
    paxlovid |       165        141 |       306 
molnupiravir |       156        123 |       279 
-------------+----------------------+----------
       Total |    13,824     10,831 |    24,655 
ae_axspa

-------------------------------------------------------------------------------
-> drug = control
  16,800
-------------------------------------------------------------------------------
-> drug = sotrovimab
  192
-------------------------------------------------------------------------------
-> drug = paxlovid
  232
-------------------------------------------------------------------------------
-> drug = molnupiravir
  188

-------------------------------------------------------------------------------
-> drug = control
  7,190
-------------------------------------------------------------------------------
-> drug = sotrovimab
  84
-------------------------------------------------------------------------------
-> drug = paxlovid
  98
-------------------------------------------------------------------------------
-> drug = molnupiravir
  82

-------------------------------------------------------------------------------
-> drug = control
  761
-------------------------------------------------------------------------------
-> drug = sotrovimab
  10
-------------------------------------------------------------------------------
-> drug = paxlovid
  11
-------------------------------------------------------------------------------
-> drug = molnupiravir
  12
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |     fail_ae_axspa
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    13,403     10,391 |    23,794 
  sotrovimab |       158        118 |       276 
    paxlovid |       161        145 |       306 
molnupiravir |       161        118 |       279 
-------------+----------------------+----------
       Total |    13,883     10,772 |    24,655 
ae_ibd

-------------------------------------------------------------------------------
-> drug = control
  16,941
-------------------------------------------------------------------------------
-> drug = sotrovimab
  186
-------------------------------------------------------------------------------
-> drug = paxlovid
  225
-------------------------------------------------------------------------------
-> drug = molnupiravir
  199

-------------------------------------------------------------------------------
-> drug = control
  7,173
-------------------------------------------------------------------------------
-> drug = sotrovimab
  83
-------------------------------------------------------------------------------
-> drug = paxlovid
  86
-------------------------------------------------------------------------------
-> drug = molnupiravir
  86

-------------------------------------------------------------------------------
-> drug = control
  729
-------------------------------------------------------------------------------
-> drug = sotrovimab
  12
-------------------------------------------------------------------------------
-> drug = paxlovid
  7
-------------------------------------------------------------------------------
-> drug = molnupiravir
  11
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |      fail_ae_ibd
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    13,274     10,520 |    23,794 
  sotrovimab |       161        115 |       276 
    paxlovid |       160        146 |       306 
molnupiravir |       155        124 |       279 
-------------+----------------------+----------
       Total |    13,750     10,905 |    24,655 
ae_diverticulitis_snomed

-------------------------------------------------------------------------------
-> drug = control
  9,504
-------------------------------------------------------------------------------
-> drug = sotrovimab
  119
-------------------------------------------------------------------------------
-> drug = paxlovid
  126
-------------------------------------------------------------------------------
-> drug = molnupiravir
  97

-------------------------------------------------------------------------------
-> drug = control
  4,748
-------------------------------------------------------------------------------
-> drug = sotrovimab
  59
-------------------------------------------------------------------------------
-> drug = paxlovid
  58
-------------------------------------------------------------------------------
-> drug = molnupiravir
  48

-------------------------------------------------------------------------------
-> drug = control
  443
-------------------------------------------------------------------------------
-> drug = sotrovimab
  6
-------------------------------------------------------------------------------
-> drug = paxlovid
  10
-------------------------------------------------------------------------------
-> drug = molnupiravir
  4
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_diverticuliti
             |       s_snomed
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,570      5,224 |    23,794 
  sotrovimab |       210         66 |       276 
    paxlovid |       228         78 |       306 
molnupiravir |       226         53 |       279 
-------------+----------------------+----------
       Total |    19,234      5,421 |    24,655 
ae_diarrhoea_snomed

-------------------------------------------------------------------------------
-> drug = control
  9,507
-------------------------------------------------------------------------------
-> drug = sotrovimab
  109
-------------------------------------------------------------------------------
-> drug = paxlovid
  126
-------------------------------------------------------------------------------
-> drug = molnupiravir
  106

-------------------------------------------------------------------------------
-> drug = control
  4,761
-------------------------------------------------------------------------------
-> drug = sotrovimab
  44
-------------------------------------------------------------------------------
-> drug = paxlovid
  62
-------------------------------------------------------------------------------
-> drug = molnupiravir
  55

-------------------------------------------------------------------------------
-> drug = control
  397
-------------------------------------------------------------------------------
-> drug = sotrovimab
  4
-------------------------------------------------------------------------------
-> drug = paxlovid
  5
-------------------------------------------------------------------------------
-> drug = molnupiravir
  8
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_diarrhoea_sno
             |          med
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,631      5,163 |    23,794 
  sotrovimab |       207         69 |       276 
    paxlovid |       236         70 |       306 
molnupiravir |       220         59 |       279 
-------------+----------------------+----------
       Total |    19,294      5,361 |    24,655 
ae_taste_snomed

-------------------------------------------------------------------------------
-> drug = control
  9,481
-------------------------------------------------------------------------------
-> drug = sotrovimab
  118
-------------------------------------------------------------------------------
-> drug = paxlovid
  116
-------------------------------------------------------------------------------
-> drug = molnupiravir
  109

-------------------------------------------------------------------------------
-> drug = control
  4,749
-------------------------------------------------------------------------------
-> drug = sotrovimab
  64
-------------------------------------------------------------------------------
-> drug = paxlovid
  56
-------------------------------------------------------------------------------
-> drug = molnupiravir
  61

-------------------------------------------------------------------------------
-> drug = control
  418
-------------------------------------------------------------------------------
-> drug = sotrovimab
  6
-------------------------------------------------------------------------------
-> drug = paxlovid
  7
-------------------------------------------------------------------------------
-> drug = molnupiravir
  5
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_taste_snomed
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,634      5,160 |    23,794 
  sotrovimab |       216         60 |       276 
    paxlovid |       239         67 |       306 
molnupiravir |       226         53 |       279 
-------------+----------------------+----------
       Total |    19,315      5,340 |    24,655 
ae_rash_snomed

-------------------------------------------------------------------------------
-> drug = control
  9,446
-------------------------------------------------------------------------------
-> drug = sotrovimab
  119
-------------------------------------------------------------------------------
-> drug = paxlovid
  114
-------------------------------------------------------------------------------
-> drug = molnupiravir
  112

-------------------------------------------------------------------------------
-> drug = control
  4,762
-------------------------------------------------------------------------------
-> drug = sotrovimab
  46
-------------------------------------------------------------------------------
-> drug = paxlovid
  54
-------------------------------------------------------------------------------
-> drug = molnupiravir
  59

-------------------------------------------------------------------------------
-> drug = control
  435
-------------------------------------------------------------------------------
-> drug = sotrovimab
  2
-------------------------------------------------------------------------------
-> drug = paxlovid
  5
-------------------------------------------------------------------------------
-> drug = molnupiravir
  8
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |  fail_ae_rash_snomed
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,660      5,134 |    23,794 
  sotrovimab |       201         75 |       276 
    paxlovid |       241         65 |       306 
molnupiravir |       218         61 |       279 
-------------+----------------------+----------
       Total |    19,320      5,335 |    24,655 
ae_bronchospasm_snomed

-------------------------------------------------------------------------------
-> drug = control
  9,504
-------------------------------------------------------------------------------
-> drug = sotrovimab
  126
-------------------------------------------------------------------------------
-> drug = paxlovid
  113
-------------------------------------------------------------------------------
-> drug = molnupiravir
  117

-------------------------------------------------------------------------------
-> drug = control
  4,801
-------------------------------------------------------------------------------
-> drug = sotrovimab
  78
-------------------------------------------------------------------------------
-> drug = paxlovid
  52
-------------------------------------------------------------------------------
-> drug = molnupiravir
  62

-------------------------------------------------------------------------------
-> drug = control
  420
-------------------------------------------------------------------------------
-> drug = sotrovimab
  8
-------------------------------------------------------------------------------
-> drug = paxlovid
  4
-------------------------------------------------------------------------------
-> drug = molnupiravir
  6
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_bronchospasm_
             |        snomed
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,653      5,141 |    23,794 
  sotrovimab |       220         56 |       276 
    paxlovid |       241         65 |       306 
molnupiravir |       218         61 |       279 
-------------+----------------------+----------
       Total |    19,332      5,323 |    24,655 
ae_contactderm_snomed

-------------------------------------------------------------------------------
-> drug = control
  9,472
-------------------------------------------------------------------------------
-> drug = sotrovimab
  123
-------------------------------------------------------------------------------
-> drug = paxlovid
  116
-------------------------------------------------------------------------------
-> drug = molnupiravir
  111

-------------------------------------------------------------------------------
-> drug = control
  4,775
-------------------------------------------------------------------------------
-> drug = sotrovimab
  67
-------------------------------------------------------------------------------
-> drug = paxlovid
  64
-------------------------------------------------------------------------------
-> drug = molnupiravir
  60

-------------------------------------------------------------------------------
-> drug = control
  429
-------------------------------------------------------------------------------
-> drug = sotrovimab
  8
-------------------------------------------------------------------------------
-> drug = paxlovid
  1
-------------------------------------------------------------------------------
-> drug = molnupiravir
  6
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_contactderm_s
             |         nomed
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,659      5,135 |    23,794 
  sotrovimab |       212         64 |       276 
    paxlovid |       253         53 |       306 
molnupiravir |       222         57 |       279 
-------------+----------------------+----------
       Total |    19,346      5,309 |    24,655 
ae_dizziness_snomed

-------------------------------------------------------------------------------
-> drug = control
  9,442
-------------------------------------------------------------------------------
-> drug = sotrovimab
  109
-------------------------------------------------------------------------------
-> drug = paxlovid
  128
-------------------------------------------------------------------------------
-> drug = molnupiravir
  125

-------------------------------------------------------------------------------
-> drug = control
  4,703
-------------------------------------------------------------------------------
-> drug = sotrovimab
  55
-------------------------------------------------------------------------------
-> drug = paxlovid
  61
-------------------------------------------------------------------------------
-> drug = molnupiravir
  64

-------------------------------------------------------------------------------
-> drug = control
  440
-------------------------------------------------------------------------------
-> drug = sotrovimab
  7
-------------------------------------------------------------------------------
-> drug = paxlovid
  5
-------------------------------------------------------------------------------
-> drug = molnupiravir
  4
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_dizziness_sno
             |          med
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,602      5,192 |    23,794 
  sotrovimab |       214         62 |       276 
    paxlovid |       234         72 |       306 
molnupiravir |       213         66 |       279 
-------------+----------------------+----------
       Total |    19,263      5,392 |    24,655 
ae_nausea_vomit_snomed

-------------------------------------------------------------------------------
-> drug = control
  9,513
-------------------------------------------------------------------------------
-> drug = sotrovimab
  100
-------------------------------------------------------------------------------
-> drug = paxlovid
  112
-------------------------------------------------------------------------------
-> drug = molnupiravir
  111

-------------------------------------------------------------------------------
-> drug = control
  4,820
-------------------------------------------------------------------------------
-> drug = sotrovimab
  48
-------------------------------------------------------------------------------
-> drug = paxlovid
  54
-------------------------------------------------------------------------------
-> drug = molnupiravir
  58

-------------------------------------------------------------------------------
-> drug = control
  436
-------------------------------------------------------------------------------
-> drug = sotrovimab
  3
-------------------------------------------------------------------------------
-> drug = paxlovid
  3
-------------------------------------------------------------------------------
-> drug = molnupiravir
  7
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_nausea_vomit_
             |        snomed
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,637      5,157 |    23,794 
  sotrovimab |       221         55 |       276 
    paxlovid |       245         61 |       306 
molnupiravir |       219         60 |       279 
-------------+----------------------+----------
       Total |    19,322      5,333 |    24,655 
ae_headache_snomed

-------------------------------------------------------------------------------
-> drug = control
  9,483
-------------------------------------------------------------------------------
-> drug = sotrovimab
  106
-------------------------------------------------------------------------------
-> drug = paxlovid
  127
-------------------------------------------------------------------------------
-> drug = molnupiravir
  101

-------------------------------------------------------------------------------
-> drug = control
  4,811
-------------------------------------------------------------------------------
-> drug = sotrovimab
  60
-------------------------------------------------------------------------------
-> drug = paxlovid
  60
-------------------------------------------------------------------------------
-> drug = molnupiravir
  55

-------------------------------------------------------------------------------
-> drug = control
  417
-------------------------------------------------------------------------------
-> drug = sotrovimab
  2
-------------------------------------------------------------------------------
-> drug = paxlovid
  5
-------------------------------------------------------------------------------
-> drug = molnupiravir
  6
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_headache_snom
             |          ed
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,687      5,107 |    23,794 
  sotrovimab |       228         48 |       276 
    paxlovid |       234         72 |       306 
molnupiravir |       227         52 |       279 
-------------+----------------------+----------
       Total |    19,376      5,279 |    24,655 
ae_diverticulitis_icd_prim

-------------------------------------------------------------------------------
-> drug = control
  9,523
-------------------------------------------------------------------------------
-> drug = sotrovimab
  104
-------------------------------------------------------------------------------
-> drug = paxlovid
  125
-------------------------------------------------------------------------------
-> drug = molnupiravir
  114

-------------------------------------------------------------------------------
-> drug = control
  4,879
-------------------------------------------------------------------------------
-> drug = sotrovimab
  59
-------------------------------------------------------------------------------
-> drug = paxlovid
  68
-------------------------------------------------------------------------------
-> drug = molnupiravir
  62

-------------------------------------------------------------------------------
-> drug = control
  442
-------------------------------------------------------------------------------
-> drug = sotrovimab
  5
-------------------------------------------------------------------------------
-> drug = paxlovid
  2
-------------------------------------------------------------------------------
-> drug = molnupiravir
  6
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_diverticuliti
             |      s_icd_prim
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,692      5,102 |    23,794 
  sotrovimab |       226         50 |       276 
    paxlovid |       247         59 |       306 
molnupiravir |       221         58 |       279 
-------------+----------------------+----------
       Total |    19,386      5,269 |    24,655 
ae_taste_icd_prim

-------------------------------------------------------------------------------
-> drug = control
  9,510
-------------------------------------------------------------------------------
-> drug = sotrovimab
  114
-------------------------------------------------------------------------------
-> drug = paxlovid
  122
-------------------------------------------------------------------------------
-> drug = molnupiravir
  110

-------------------------------------------------------------------------------
-> drug = control
  4,771
-------------------------------------------------------------------------------
-> drug = sotrovimab
  69
-------------------------------------------------------------------------------
-> drug = paxlovid
  62
-------------------------------------------------------------------------------
-> drug = molnupiravir
  52

-------------------------------------------------------------------------------
-> drug = control
  459
-------------------------------------------------------------------------------
-> drug = sotrovimab
  9
-------------------------------------------------------------------------------
-> drug = paxlovid
  5
-------------------------------------------------------------------------------
-> drug = molnupiravir
  4
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_taste_icd_pri
             |           m
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,588      5,206 |    23,794 
  sotrovimab |       222         54 |       276 
    paxlovid |       241         65 |       306 
molnupiravir |       217         62 |       279 
-------------+----------------------+----------
       Total |    19,268      5,387 |    24,655 
ae_rash_icd_prim

-------------------------------------------------------------------------------
-> drug = control
  9,513
-------------------------------------------------------------------------------
-> drug = sotrovimab
  115
-------------------------------------------------------------------------------
-> drug = paxlovid
  118
-------------------------------------------------------------------------------
-> drug = molnupiravir
  112

-------------------------------------------------------------------------------
-> drug = control
  4,781
-------------------------------------------------------------------------------
-> drug = sotrovimab
  60
-------------------------------------------------------------------------------
-> drug = paxlovid
  65
-------------------------------------------------------------------------------
-> drug = molnupiravir
  48

-------------------------------------------------------------------------------
-> drug = control
  462
-------------------------------------------------------------------------------
-> drug = sotrovimab
  4
-------------------------------------------------------------------------------
-> drug = paxlovid
  6
-------------------------------------------------------------------------------
-> drug = molnupiravir
  2
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_rash_icd_prim
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,583      5,211 |    23,794 
  sotrovimab |       217         59 |       276 
    paxlovid |       246         60 |       306 
molnupiravir |       213         66 |       279 
-------------+----------------------+----------
       Total |    19,259      5,396 |    24,655 
ae_diarrhoea_icd_prim

-------------------------------------------------------------------------------
-> drug = control
  9,540
-------------------------------------------------------------------------------
-> drug = sotrovimab
  120
-------------------------------------------------------------------------------
-> drug = paxlovid
  113
-------------------------------------------------------------------------------
-> drug = molnupiravir
  123

-------------------------------------------------------------------------------
-> drug = control
  4,817
-------------------------------------------------------------------------------
-> drug = sotrovimab
  61
-------------------------------------------------------------------------------
-> drug = paxlovid
  54
-------------------------------------------------------------------------------
-> drug = molnupiravir
  68

-------------------------------------------------------------------------------
-> drug = control
  471
-------------------------------------------------------------------------------
-> drug = sotrovimab
  5
-------------------------------------------------------------------------------
-> drug = paxlovid
  4
-------------------------------------------------------------------------------
-> drug = molnupiravir
  5
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_diarrhoea_icd
             |         _prim
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,579      5,215 |    23,794 
  sotrovimab |       212         64 |       276 
    paxlovid |       243         63 |       306 
molnupiravir |       219         60 |       279 
-------------+----------------------+----------
       Total |    19,253      5,402 |    24,655 
ae_diarrhoeal_icd_prim

-------------------------------------------------------------------------------
-> drug = control
  9,503
-------------------------------------------------------------------------------
-> drug = sotrovimab
  115
-------------------------------------------------------------------------------
-> drug = paxlovid
  124
-------------------------------------------------------------------------------
-> drug = molnupiravir
  124

-------------------------------------------------------------------------------
-> drug = control
  4,798
-------------------------------------------------------------------------------
-> drug = sotrovimab
  61
-------------------------------------------------------------------------------
-> drug = paxlovid
  59
-------------------------------------------------------------------------------
-> drug = molnupiravir
  65

-------------------------------------------------------------------------------
-> drug = control
  453
-------------------------------------------------------------------------------
-> drug = sotrovimab
  2
-------------------------------------------------------------------------------
-> drug = paxlovid
  9
-------------------------------------------------------------------------------
-> drug = molnupiravir
  6
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_diarrhoeal_ic
             |        d_prim
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,615      5,179 |    23,794 
  sotrovimab |       220         56 |       276 
    paxlovid |       232         74 |       306 
molnupiravir |       214         65 |       279 
-------------+----------------------+----------
       Total |    19,281      5,374 |    24,655 
ae_contactderm_icd_prim

-------------------------------------------------------------------------------
-> drug = control
  9,500
-------------------------------------------------------------------------------
-> drug = sotrovimab
  108
-------------------------------------------------------------------------------
-> drug = paxlovid
  118
-------------------------------------------------------------------------------
-> drug = molnupiravir
  101

-------------------------------------------------------------------------------
-> drug = control
  4,773
-------------------------------------------------------------------------------
-> drug = sotrovimab
  55
-------------------------------------------------------------------------------
-> drug = paxlovid
  56
-------------------------------------------------------------------------------
-> drug = molnupiravir
  52

-------------------------------------------------------------------------------
-> drug = control
  396
-------------------------------------------------------------------------------
-> drug = sotrovimab
  5
-------------------------------------------------------------------------------
-> drug = paxlovid
  6
-------------------------------------------------------------------------------
-> drug = molnupiravir
  5
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_contactderm_i
             |        cd_prim
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,652      5,142 |    23,794 
  sotrovimab |       218         58 |       276 
    paxlovid |       238         68 |       306 
molnupiravir |       225         54 |       279 
-------------+----------------------+----------
       Total |    19,333      5,322 |    24,655 
ae_dizziness_icd_prim

-------------------------------------------------------------------------------
-> drug = control
  9,471
-------------------------------------------------------------------------------
-> drug = sotrovimab
  95
-------------------------------------------------------------------------------
-> drug = paxlovid
  124
-------------------------------------------------------------------------------
-> drug = molnupiravir
  106

-------------------------------------------------------------------------------
-> drug = control
  4,735
-------------------------------------------------------------------------------
-> drug = sotrovimab
  51
-------------------------------------------------------------------------------
-> drug = paxlovid
  61
-------------------------------------------------------------------------------
-> drug = molnupiravir
  43

-------------------------------------------------------------------------------
-> drug = control
  436
-------------------------------------------------------------------------------
-> drug = sotrovimab
  6
-------------------------------------------------------------------------------
-> drug = paxlovid
  11
-------------------------------------------------------------------------------
-> drug = molnupiravir
  6
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_dizziness_icd
             |         _prim
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,610      5,184 |    23,794 
  sotrovimab |       226         50 |       276 
    paxlovid |       231         75 |       306 
molnupiravir |       210         69 |       279 
-------------+----------------------+----------
       Total |    19,277      5,378 |    24,655 
ae_nausea_vomit_icd_prim

-------------------------------------------------------------------------------
-> drug = control
  9,406
-------------------------------------------------------------------------------
-> drug = sotrovimab
  113
-------------------------------------------------------------------------------
-> drug = paxlovid
  121
-------------------------------------------------------------------------------
-> drug = molnupiravir
  105

-------------------------------------------------------------------------------
-> drug = control
  4,756
-------------------------------------------------------------------------------
-> drug = sotrovimab
  53
-------------------------------------------------------------------------------
-> drug = paxlovid
  53
-------------------------------------------------------------------------------
-> drug = molnupiravir
  62

-------------------------------------------------------------------------------
-> drug = control
  479
-------------------------------------------------------------------------------
-> drug = sotrovimab
  8
-------------------------------------------------------------------------------
-> drug = paxlovid
  4
-------------------------------------------------------------------------------
-> drug = molnupiravir
  4
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_nausea_vomit_
             |       icd_prim
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,647      5,147 |    23,794 
  sotrovimab |       208         68 |       276 
    paxlovid |       234         72 |       306 
molnupiravir |       232         47 |       279 
-------------+----------------------+----------
       Total |    19,321      5,334 |    24,655 
ae_headache_icd_prim

-------------------------------------------------------------------------------
-> drug = control
  9,527
-------------------------------------------------------------------------------
-> drug = sotrovimab
  115
-------------------------------------------------------------------------------
-> drug = paxlovid
  109
-------------------------------------------------------------------------------
-> drug = molnupiravir
  126

-------------------------------------------------------------------------------
-> drug = control
  4,813
-------------------------------------------------------------------------------
-> drug = sotrovimab
  54
-------------------------------------------------------------------------------
-> drug = paxlovid
  60
-------------------------------------------------------------------------------
-> drug = molnupiravir
  50

-------------------------------------------------------------------------------
-> drug = control
  408
-------------------------------------------------------------------------------
-> drug = sotrovimab
  2
-------------------------------------------------------------------------------
-> drug = paxlovid
  4
-------------------------------------------------------------------------------
-> drug = molnupiravir
  9
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_headache_icd_
             |         prim
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,657      5,137 |    23,794 
  sotrovimab |       213         63 |       276 
    paxlovid |       253         53 |       306 
molnupiravir |       194         85 |       279 
-------------+----------------------+----------
       Total |    19,317      5,338 |    24,655 
ae_diverticulitis_ae

-------------------------------------------------------------------------------
-> drug = control
  9,437
-------------------------------------------------------------------------------
-> drug = sotrovimab
  111
-------------------------------------------------------------------------------
-> drug = paxlovid
  136
-------------------------------------------------------------------------------
-> drug = molnupiravir
  121

-------------------------------------------------------------------------------
-> drug = control
  4,786
-------------------------------------------------------------------------------
-> drug = sotrovimab
  63
-------------------------------------------------------------------------------
-> drug = paxlovid
  66
-------------------------------------------------------------------------------
-> drug = molnupiravir
  66

-------------------------------------------------------------------------------
-> drug = control
  436
-------------------------------------------------------------------------------
-> drug = sotrovimab
  5
-------------------------------------------------------------------------------
-> drug = paxlovid
  6
-------------------------------------------------------------------------------
-> drug = molnupiravir
  11
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_diverticuliti
             |         s_ae
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,692      5,102 |    23,794 
  sotrovimab |       223         53 |       276 
    paxlovid |       230         76 |       306 
molnupiravir |       213         66 |       279 
-------------+----------------------+----------
       Total |    19,358      5,297 |    24,655 
ae_rash_ae

-------------------------------------------------------------------------------
-> drug = control
  9,445
-------------------------------------------------------------------------------
-> drug = sotrovimab
  118
-------------------------------------------------------------------------------
-> drug = paxlovid
  127
-------------------------------------------------------------------------------
-> drug = molnupiravir
  114

-------------------------------------------------------------------------------
-> drug = control
  4,781
-------------------------------------------------------------------------------
-> drug = sotrovimab
  65
-------------------------------------------------------------------------------
-> drug = paxlovid
  62
-------------------------------------------------------------------------------
-> drug = molnupiravir
  64

-------------------------------------------------------------------------------
-> drug = control
  417
-------------------------------------------------------------------------------
-> drug = sotrovimab
  5
-------------------------------------------------------------------------------
-> drug = paxlovid
  6
-------------------------------------------------------------------------------
-> drug = molnupiravir
  6
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |    fail_ae_rash_ae
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,697      5,097 |    23,794 
  sotrovimab |       217         59 |       276 
    paxlovid |       235         71 |       306 
molnupiravir |       223         56 |       279 
-------------+----------------------+----------
       Total |    19,372      5,283 |    24,655 
ae_contactderm_ae

-------------------------------------------------------------------------------
-> drug = control
  9,500
-------------------------------------------------------------------------------
-> drug = sotrovimab
  104
-------------------------------------------------------------------------------
-> drug = paxlovid
  137
-------------------------------------------------------------------------------
-> drug = molnupiravir
  125

-------------------------------------------------------------------------------
-> drug = control
  4,813
-------------------------------------------------------------------------------
-> drug = sotrovimab
  52
-------------------------------------------------------------------------------
-> drug = paxlovid
  66
-------------------------------------------------------------------------------
-> drug = molnupiravir
  65

-------------------------------------------------------------------------------
-> drug = control
  410
-------------------------------------------------------------------------------
-> drug = sotrovimab
  5
-------------------------------------------------------------------------------
-> drug = paxlovid
  8
-------------------------------------------------------------------------------
-> drug = molnupiravir
  5
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_contactderm_a
             |           e
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,679      5,115 |    23,794 
  sotrovimab |       219         57 |       276 
    paxlovid |       226         80 |       306 
molnupiravir |       214         65 |       279 
-------------+----------------------+----------
       Total |    19,338      5,317 |    24,655 
ae_dizziness_ae

-------------------------------------------------------------------------------
-> drug = control
  9,606
-------------------------------------------------------------------------------
-> drug = sotrovimab
  128
-------------------------------------------------------------------------------
-> drug = paxlovid
  120
-------------------------------------------------------------------------------
-> drug = molnupiravir
  105

-------------------------------------------------------------------------------
-> drug = control
  4,877
-------------------------------------------------------------------------------
-> drug = sotrovimab
  62
-------------------------------------------------------------------------------
-> drug = paxlovid
  56
-------------------------------------------------------------------------------
-> drug = molnupiravir
  49

-------------------------------------------------------------------------------
-> drug = control
  424
-------------------------------------------------------------------------------
-> drug = sotrovimab
  8
-------------------------------------------------------------------------------
-> drug = paxlovid
  5
-------------------------------------------------------------------------------
-> drug = molnupiravir
  6
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_dizziness_ae
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,630      5,164 |    23,794 
  sotrovimab |       202         74 |       276 
    paxlovid |       237         69 |       306 
molnupiravir |       217         62 |       279 
-------------+----------------------+----------
       Total |    19,286      5,369 |    24,655 
ae_headache_ae

-------------------------------------------------------------------------------
-> drug = control
  9,561
-------------------------------------------------------------------------------
-> drug = sotrovimab
  98
-------------------------------------------------------------------------------
-> drug = paxlovid
  125
-------------------------------------------------------------------------------
-> drug = molnupiravir
  102

-------------------------------------------------------------------------------
-> drug = control
  4,831
-------------------------------------------------------------------------------
-> drug = sotrovimab
  50
-------------------------------------------------------------------------------
-> drug = paxlovid
  59
-------------------------------------------------------------------------------
-> drug = molnupiravir
  57

-------------------------------------------------------------------------------
-> drug = control
  439
-------------------------------------------------------------------------------
-> drug = sotrovimab
  1
-------------------------------------------------------------------------------
-> drug = paxlovid
  11
-------------------------------------------------------------------------------
-> drug = molnupiravir
  4
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |  fail_ae_headache_ae
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,612      5,182 |    23,794 
  sotrovimab |       227         49 |       276 
    paxlovid |       228         78 |       306 
molnupiravir |       229         50 |       279 
-------------+----------------------+----------
       Total |    19,296      5,359 |    24,655 
ae_anaphylaxis_snomed

-------------------------------------------------------------------------------
-> drug = control
  9,563
-------------------------------------------------------------------------------
-> drug = sotrovimab
  103
-------------------------------------------------------------------------------
-> drug = paxlovid
  122
-------------------------------------------------------------------------------
-> drug = molnupiravir
  113

-------------------------------------------------------------------------------
-> drug = control
  4,779
-------------------------------------------------------------------------------
-> drug = sotrovimab
  59
-------------------------------------------------------------------------------
-> drug = paxlovid
  55
-------------------------------------------------------------------------------
-> drug = molnupiravir
  53

-------------------------------------------------------------------------------
-> drug = control
  416
-------------------------------------------------------------------------------
-> drug = sotrovimab
  6
-------------------------------------------------------------------------------
-> drug = paxlovid
  5
-------------------------------------------------------------------------------
-> drug = molnupiravir
  3
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_anaphylaxis_s
             |         nomed
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,582      5,212 |    23,794 
  sotrovimab |       225         51 |       276 
    paxlovid |       234         72 |       306 
molnupiravir |       216         63 |       279 
-------------+----------------------+----------
       Total |    19,257      5,398 |    24,655 
ae_severedrug_snomed

-------------------------------------------------------------------------------
-> drug = control
  9,580
-------------------------------------------------------------------------------
-> drug = sotrovimab
  120
-------------------------------------------------------------------------------
-> drug = paxlovid
  112
-------------------------------------------------------------------------------
-> drug = molnupiravir
  103

-------------------------------------------------------------------------------
-> drug = control
  4,773
-------------------------------------------------------------------------------
-> drug = sotrovimab
  64
-------------------------------------------------------------------------------
-> drug = paxlovid
  47
-------------------------------------------------------------------------------
-> drug = molnupiravir
  52

-------------------------------------------------------------------------------
-> drug = control
  413
-------------------------------------------------------------------------------
-> drug = sotrovimab
  3
-------------------------------------------------------------------------------
-> drug = paxlovid
  7
-------------------------------------------------------------------------------
-> drug = molnupiravir
  5
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_severedrug_sn
             |         omed
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,562      5,232 |    23,794 
  sotrovimab |       216         60 |       276 
    paxlovid |       234         72 |       306 
molnupiravir |       223         56 |       279 
-------------+----------------------+----------
       Total |    19,235      5,420 |    24,655 
ae_nonsevere_drug_snomed

-------------------------------------------------------------------------------
-> drug = control
  9,567
-------------------------------------------------------------------------------
-> drug = sotrovimab
  110
-------------------------------------------------------------------------------
-> drug = paxlovid
  123
-------------------------------------------------------------------------------
-> drug = molnupiravir
  113

-------------------------------------------------------------------------------
-> drug = control
  4,824
-------------------------------------------------------------------------------
-> drug = sotrovimab
  54
-------------------------------------------------------------------------------
-> drug = paxlovid
  58
-------------------------------------------------------------------------------
-> drug = molnupiravir
  62

-------------------------------------------------------------------------------
-> drug = control
  458
-------------------------------------------------------------------------------
-> drug = sotrovimab
  2
-------------------------------------------------------------------------------
-> drug = paxlovid
  7
-------------------------------------------------------------------------------
-> drug = molnupiravir
  10
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_nonsevere_dru
             |       g_snomed
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,576      5,218 |    23,794 
  sotrovimab |       218         58 |       276 
    paxlovid |       234         72 |       306 
molnupiravir |       218         61 |       279 
-------------+----------------------+----------
       Total |    19,246      5,409 |    24,655 
ae_anaphylaxis_icd_prim

-------------------------------------------------------------------------------
-> drug = control
  9,549
-------------------------------------------------------------------------------
-> drug = sotrovimab
  100
-------------------------------------------------------------------------------
-> drug = paxlovid
  110
-------------------------------------------------------------------------------
-> drug = molnupiravir
  111

-------------------------------------------------------------------------------
-> drug = control
  4,834
-------------------------------------------------------------------------------
-> drug = sotrovimab
  54
-------------------------------------------------------------------------------
-> drug = paxlovid
  55
-------------------------------------------------------------------------------
-> drug = molnupiravir
  57

-------------------------------------------------------------------------------
-> drug = control
  442
-------------------------------------------------------------------------------
-> drug = sotrovimab
  4
-------------------------------------------------------------------------------
-> drug = paxlovid
  1
-------------------------------------------------------------------------------
-> drug = molnupiravir
  5
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_anaphylaxis_i
             |        cd_prim
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,618      5,176 |    23,794 
  sotrovimab |       226         50 |       276 
    paxlovid |       250         56 |       306 
molnupiravir |       220         59 |       279 
-------------+----------------------+----------
       Total |    19,314      5,341 |    24,655 
ae_severedrug_icd_prim

-------------------------------------------------------------------------------
-> drug = control
  9,540
-------------------------------------------------------------------------------
-> drug = sotrovimab
  106
-------------------------------------------------------------------------------
-> drug = paxlovid
  121
-------------------------------------------------------------------------------
-> drug = molnupiravir
  113

-------------------------------------------------------------------------------
-> drug = control
  4,808
-------------------------------------------------------------------------------
-> drug = sotrovimab
  53
-------------------------------------------------------------------------------
-> drug = paxlovid
  63
-------------------------------------------------------------------------------
-> drug = molnupiravir
  60

-------------------------------------------------------------------------------
-> drug = control
  415
-------------------------------------------------------------------------------
-> drug = sotrovimab
  4
-------------------------------------------------------------------------------
-> drug = paxlovid
  4
-------------------------------------------------------------------------------
-> drug = molnupiravir
  10
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_severedrug_ic
             |        d_prim
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,633      5,161 |    23,794 
  sotrovimab |       219         57 |       276 
    paxlovid |       244         62 |       306 
molnupiravir |       216         63 |       279 
-------------+----------------------+----------
       Total |    19,312      5,343 |    24,655 
ae_severedrug_sjs_icd_prim

-------------------------------------------------------------------------------
-> drug = control
  9,469
-------------------------------------------------------------------------------
-> drug = sotrovimab
  106
-------------------------------------------------------------------------------
-> drug = paxlovid
  117
-------------------------------------------------------------------------------
-> drug = molnupiravir
  118

-------------------------------------------------------------------------------
-> drug = control
  4,725
-------------------------------------------------------------------------------
-> drug = sotrovimab
  64
-------------------------------------------------------------------------------
-> drug = paxlovid
  54
-------------------------------------------------------------------------------
-> drug = molnupiravir
  57

-------------------------------------------------------------------------------
-> drug = control
  449
-------------------------------------------------------------------------------
-> drug = sotrovimab
  8
-------------------------------------------------------------------------------
-> drug = paxlovid
  2
-------------------------------------------------------------------------------
-> drug = molnupiravir
  2
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_severedrug_sj
             |      s_icd_prim
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,585      5,209 |    23,794 
  sotrovimab |       226         50 |       276 
    paxlovid |       241         65 |       306 
molnupiravir |       216         63 |       279 
-------------+----------------------+----------
       Total |    19,268      5,387 |    24,655 
ae_anaphlaxis_ae

-------------------------------------------------------------------------------
-> drug = control
  9,442
-------------------------------------------------------------------------------
-> drug = sotrovimab
  111
-------------------------------------------------------------------------------
-> drug = paxlovid
  126
-------------------------------------------------------------------------------
-> drug = molnupiravir
  113

-------------------------------------------------------------------------------
-> drug = control
  4,678
-------------------------------------------------------------------------------
-> drug = sotrovimab
  53
-------------------------------------------------------------------------------
-> drug = paxlovid
  62
-------------------------------------------------------------------------------
-> drug = molnupiravir
  63

-------------------------------------------------------------------------------
-> drug = control
  423
-------------------------------------------------------------------------------
-> drug = sotrovimab
  3
-------------------------------------------------------------------------------
-> drug = paxlovid
  3
-------------------------------------------------------------------------------
-> drug = molnupiravir
  9
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_anaphlaxis_ae
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,599      5,195 |    23,794 
  sotrovimab |       215         61 |       276 
    paxlovid |       239         67 |       306 
molnupiravir |       220         59 |       279 
-------------+----------------------+----------
       Total |    19,273      5,382 |    24,655 
ae_severedrug_ae

-------------------------------------------------------------------------------
-> drug = control
  9,508
-------------------------------------------------------------------------------
-> drug = sotrovimab
  106
-------------------------------------------------------------------------------
-> drug = paxlovid
  130
-------------------------------------------------------------------------------
-> drug = molnupiravir
  118

-------------------------------------------------------------------------------
-> drug = control
  4,784
-------------------------------------------------------------------------------
-> drug = sotrovimab
  53
-------------------------------------------------------------------------------
-> drug = paxlovid
  67
-------------------------------------------------------------------------------
-> drug = molnupiravir
  63

-------------------------------------------------------------------------------
-> drug = control
  416
-------------------------------------------------------------------------------
-> drug = sotrovimab
  8
-------------------------------------------------------------------------------
-> drug = paxlovid
  5
-------------------------------------------------------------------------------
-> drug = molnupiravir
  1
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_severedrug_ae
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,641      5,153 |    23,794 
  sotrovimab |       215         61 |       276 
    paxlovid |       238         68 |       306 
molnupiravir |       223         56 |       279 
-------------+----------------------+----------
       Total |    19,317      5,338 |    24,655 
ae_nonsevere_drug_ae

-------------------------------------------------------------------------------
-> drug = control
  9,554
-------------------------------------------------------------------------------
-> drug = sotrovimab
  99
-------------------------------------------------------------------------------
-> drug = paxlovid
  121
-------------------------------------------------------------------------------
-> drug = molnupiravir
  128

-------------------------------------------------------------------------------
-> drug = control
  4,857
-------------------------------------------------------------------------------
-> drug = sotrovimab
  51
-------------------------------------------------------------------------------
-> drug = paxlovid
  53
-------------------------------------------------------------------------------
-> drug = molnupiravir
  64

-------------------------------------------------------------------------------
-> drug = control
  413
-------------------------------------------------------------------------------
-> drug = sotrovimab
  6
-------------------------------------------------------------------------------
-> drug = paxlovid
  6
-------------------------------------------------------------------------------
-> drug = molnupiravir
  10
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_ae_nonsevere_dru
             |         g_ae
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    18,670      5,124 |    23,794 
  sotrovimab |       222         54 |       276 
    paxlovid |       232         74 |       306 
molnupiravir |       205         74 |       279 
-------------+----------------------+----------
       Total |    19,329      5,326 |    24,655 
new_ae_ra_snomed

-------------------------------------------------------------------------------
-> drug = control
  8,567
-------------------------------------------------------------------------------
-> drug = sotrovimab
  98
-------------------------------------------------------------------------------
-> drug = paxlovid
  116
-------------------------------------------------------------------------------
-> drug = molnupiravir
  97

-------------------------------------------------------------------------------
-> drug = control
  4,301
-------------------------------------------------------------------------------
-> drug = sotrovimab
  51
-------------------------------------------------------------------------------
-> drug = paxlovid
  63
-------------------------------------------------------------------------------
-> drug = molnupiravir
  47

-------------------------------------------------------------------------------
-> drug = control
  408
-------------------------------------------------------------------------------
-> drug = sotrovimab
  6
-------------------------------------------------------------------------------
-> drug = paxlovid
  6
-------------------------------------------------------------------------------
-> drug = molnupiravir
  5
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_new_ae_ra_snomed
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    19,108      4,686 |    23,794 
  sotrovimab |       223         53 |       276 
    paxlovid |       247         59 |       306 
molnupiravir |       224         55 |       279 
-------------+----------------------+----------
       Total |    19,802      4,853 |    24,655 
new_ae_sle_ctv

-------------------------------------------------------------------------------
-> drug = control
  8,541
-------------------------------------------------------------------------------
-> drug = sotrovimab
  90
-------------------------------------------------------------------------------
-> drug = paxlovid
  114
-------------------------------------------------------------------------------
-> drug = molnupiravir
  92

-------------------------------------------------------------------------------
-> drug = control
  4,294
-------------------------------------------------------------------------------
-> drug = sotrovimab
  49
-------------------------------------------------------------------------------
-> drug = paxlovid
  47
-------------------------------------------------------------------------------
-> drug = molnupiravir
  39

-------------------------------------------------------------------------------
-> drug = control
  386
-------------------------------------------------------------------------------
-> drug = sotrovimab
  4
-------------------------------------------------------------------------------
-> drug = paxlovid
  5
-------------------------------------------------------------------------------
-> drug = molnupiravir
  3
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |  fail_new_ae_sle_ctv
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    19,148      4,646 |    23,794 
  sotrovimab |       230         46 |       276 
    paxlovid |       234         72 |       306 
molnupiravir |       223         56 |       279 
-------------+----------------------+----------
       Total |    19,835      4,820 |    24,655 
new_ae_psoriasis_snomed

-------------------------------------------------------------------------------
-> drug = control
  8,590
-------------------------------------------------------------------------------
-> drug = sotrovimab
  100
-------------------------------------------------------------------------------
-> drug = paxlovid
  111
-------------------------------------------------------------------------------
-> drug = molnupiravir
  100

-------------------------------------------------------------------------------
-> drug = control
  4,255
-------------------------------------------------------------------------------
-> drug = sotrovimab
  59
-------------------------------------------------------------------------------
-> drug = paxlovid
  66
-------------------------------------------------------------------------------
-> drug = molnupiravir
  51

-------------------------------------------------------------------------------
-> drug = control
  387
-------------------------------------------------------------------------------
-> drug = sotrovimab
  8
-------------------------------------------------------------------------------
-> drug = paxlovid
  2
-------------------------------------------------------------------------------
-> drug = molnupiravir
  1
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_new_ae_psoriasis
             |        _snomed
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    19,062      4,732 |    23,794 
  sotrovimab |       227         49 |       276 
    paxlovid |       259         47 |       306 
molnupiravir |       229         50 |       279 
-------------+----------------------+----------
       Total |    19,777      4,878 |    24,655 
new_ae_psa_snomed

-------------------------------------------------------------------------------
-> drug = control
  8,586
-------------------------------------------------------------------------------
-> drug = sotrovimab
  111
-------------------------------------------------------------------------------
-> drug = paxlovid
  112
-------------------------------------------------------------------------------
-> drug = molnupiravir
  85

-------------------------------------------------------------------------------
-> drug = control
  4,349
-------------------------------------------------------------------------------
-> drug = sotrovimab
  64
-------------------------------------------------------------------------------
-> drug = paxlovid
  50
-------------------------------------------------------------------------------
-> drug = molnupiravir
  45

-------------------------------------------------------------------------------
-> drug = control
  378
-------------------------------------------------------------------------------
-> drug = sotrovimab
  8
-------------------------------------------------------------------------------
-> drug = paxlovid
  3
-------------------------------------------------------------------------------
-> drug = molnupiravir
  4
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_new_ae_psa_snome
             |           d
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    19,164      4,630 |    23,794 
  sotrovimab |       221         55 |       276 
    paxlovid |       241         65 |       306 
molnupiravir |       235         44 |       279 
-------------+----------------------+----------
       Total |    19,861      4,794 |    24,655 
new_ae_axspa_ctv

-------------------------------------------------------------------------------
-> drug = control
  8,618
-------------------------------------------------------------------------------
-> drug = sotrovimab
  105
-------------------------------------------------------------------------------
-> drug = paxlovid
  110
-------------------------------------------------------------------------------
-> drug = molnupiravir
  86

-------------------------------------------------------------------------------
-> drug = control
  4,444
-------------------------------------------------------------------------------
-> drug = sotrovimab
  52
-------------------------------------------------------------------------------
-> drug = paxlovid
  59
-------------------------------------------------------------------------------
-> drug = molnupiravir
  50

-------------------------------------------------------------------------------
-> drug = control
  391
-------------------------------------------------------------------------------
-> drug = sotrovimab
  3
-------------------------------------------------------------------------------
-> drug = paxlovid
  8
-------------------------------------------------------------------------------
-> drug = molnupiravir
  4
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_new_ae_axspa_ctv
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    19,219      4,575 |    23,794 
  sotrovimab |       220         56 |       276 
    paxlovid |       247         59 |       306 
molnupiravir |       239         40 |       279 
-------------+----------------------+----------
       Total |    19,925      4,730 |    24,655 
new_ae_ibd_ctv

-------------------------------------------------------------------------------
-> drug = control
  8,571
-------------------------------------------------------------------------------
-> drug = sotrovimab
  86
-------------------------------------------------------------------------------
-> drug = paxlovid
  121
-------------------------------------------------------------------------------
-> drug = molnupiravir
  101

-------------------------------------------------------------------------------
-> drug = control
  4,350
-------------------------------------------------------------------------------
-> drug = sotrovimab
  46
-------------------------------------------------------------------------------
-> drug = paxlovid
  50
-------------------------------------------------------------------------------
-> drug = molnupiravir
  49

-------------------------------------------------------------------------------
-> drug = control
  363
-------------------------------------------------------------------------------
-> drug = sotrovimab
  5
-------------------------------------------------------------------------------
-> drug = paxlovid
  5
-------------------------------------------------------------------------------
-> drug = molnupiravir
  5
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |  fail_new_ae_ibd_ctv
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    19,203      4,591 |    23,794 
  sotrovimab |       231         45 |       276 
    paxlovid |       230         76 |       306 
molnupiravir |       222         57 |       279 
-------------+----------------------+----------
       Total |    19,886      4,769 |    24,655 
new_ae_ra_icd_prim

-------------------------------------------------------------------------------
-> drug = control
  8,593
-------------------------------------------------------------------------------
-> drug = sotrovimab
  105
-------------------------------------------------------------------------------
-> drug = paxlovid
  113
-------------------------------------------------------------------------------
-> drug = molnupiravir
  101

-------------------------------------------------------------------------------
-> drug = control
  4,405
-------------------------------------------------------------------------------
-> drug = sotrovimab
  56
-------------------------------------------------------------------------------
-> drug = paxlovid
  48
-------------------------------------------------------------------------------
-> drug = molnupiravir
  58

-------------------------------------------------------------------------------
-> drug = control
  359
-------------------------------------------------------------------------------
-> drug = sotrovimab
  4
-------------------------------------------------------------------------------
-> drug = paxlovid
  1
-------------------------------------------------------------------------------
-> drug = molnupiravir
  4
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_new_ae_ra_icd_pr
             |          im
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    19,238      4,556 |    23,794 
  sotrovimab |       223         53 |       276 
    paxlovid |       240         66 |       306 
molnupiravir |       232         47 |       279 
-------------+----------------------+----------
       Total |    19,933      4,722 |    24,655 
new_ae_sle_icd_prim

-------------------------------------------------------------------------------
-> drug = control
  8,571
-------------------------------------------------------------------------------
-> drug = sotrovimab
  97
-------------------------------------------------------------------------------
-> drug = paxlovid
  111
-------------------------------------------------------------------------------
-> drug = molnupiravir
  97

-------------------------------------------------------------------------------
-> drug = control
  4,290
-------------------------------------------------------------------------------
-> drug = sotrovimab
  48
-------------------------------------------------------------------------------
-> drug = paxlovid
  57
-------------------------------------------------------------------------------
-> drug = molnupiravir
  47

-------------------------------------------------------------------------------
-> drug = control
  356
-------------------------------------------------------------------------------
-> drug = sotrovimab
  2
-------------------------------------------------------------------------------
-> drug = paxlovid
  3
-------------------------------------------------------------------------------
-> drug = molnupiravir
  7
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_new_ae_sle_icd_p
             |          rim
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    19,143      4,651 |    23,794 
  sotrovimab |       225         51 |       276 
    paxlovid |       249         57 |       306 
molnupiravir |       222         57 |       279 
-------------+----------------------+----------
       Total |    19,839      4,816 |    24,655 
new_ae_psoriasis_icd_prim

-------------------------------------------------------------------------------
-> drug = control
  8,544
-------------------------------------------------------------------------------
-> drug = sotrovimab
  100
-------------------------------------------------------------------------------
-> drug = paxlovid
  98
-------------------------------------------------------------------------------
-> drug = molnupiravir
  108

-------------------------------------------------------------------------------
-> drug = control
  4,311
-------------------------------------------------------------------------------
-> drug = sotrovimab
  47
-------------------------------------------------------------------------------
-> drug = paxlovid
  48
-------------------------------------------------------------------------------
-> drug = molnupiravir
  58

-------------------------------------------------------------------------------
-> drug = control
  374
-------------------------------------------------------------------------------
-> drug = sotrovimab
  5
-------------------------------------------------------------------------------
-> drug = paxlovid
  3
-------------------------------------------------------------------------------
-> drug = molnupiravir
  8
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_new_ae_psoriasis
             |       _icd_prim
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    19,173      4,621 |    23,794 
  sotrovimab |       217         59 |       276 
    paxlovid |       253         53 |       306 
molnupiravir |       221         58 |       279 
-------------+----------------------+----------
       Total |    19,864      4,791 |    24,655 
new_ae_psa_icd_prim

-------------------------------------------------------------------------------
-> drug = control
  8,713
-------------------------------------------------------------------------------
-> drug = sotrovimab
  94
-------------------------------------------------------------------------------
-> drug = paxlovid
  112
-------------------------------------------------------------------------------
-> drug = molnupiravir
  91

-------------------------------------------------------------------------------
-> drug = control
  4,451
-------------------------------------------------------------------------------
-> drug = sotrovimab
  52
-------------------------------------------------------------------------------
-> drug = paxlovid
  58
-------------------------------------------------------------------------------
-> drug = molnupiravir
  35

-------------------------------------------------------------------------------
-> drug = control
  360
-------------------------------------------------------------------------------
-> drug = sotrovimab
  3
-------------------------------------------------------------------------------
-> drug = paxlovid
  2
-------------------------------------------------------------------------------
-> drug = molnupiravir
  4
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_new_ae_psa_icd_p
             |          rim
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    19,156      4,638 |    23,794 
  sotrovimab |       230         46 |       276 
    paxlovid |       250         56 |       306 
molnupiravir |       219         60 |       279 
-------------+----------------------+----------
       Total |    19,855      4,800 |    24,655 
new_ae_axspa_icd_prim

-------------------------------------------------------------------------------
-> drug = control
  8,540
-------------------------------------------------------------------------------
-> drug = sotrovimab
  102
-------------------------------------------------------------------------------
-> drug = paxlovid
  139
-------------------------------------------------------------------------------
-> drug = molnupiravir
  96

-------------------------------------------------------------------------------
-> drug = control
  4,286
-------------------------------------------------------------------------------
-> drug = sotrovimab
  58
-------------------------------------------------------------------------------
-> drug = paxlovid
  69
-------------------------------------------------------------------------------
-> drug = molnupiravir
  53

-------------------------------------------------------------------------------
-> drug = control
  372
-------------------------------------------------------------------------------
-> drug = sotrovimab
  6
-------------------------------------------------------------------------------
-> drug = paxlovid
  7
-------------------------------------------------------------------------------
-> drug = molnupiravir
  7
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_new_ae_axspa_icd
             |         _prim
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    19,160      4,634 |    23,794 
  sotrovimab |       226         50 |       276 
    paxlovid |       229         77 |       306 
molnupiravir |       229         50 |       279 
-------------+----------------------+----------
       Total |    19,844      4,811 |    24,655 
new_ae_ibd_icd_prim

-------------------------------------------------------------------------------
-> drug = control
  8,691
-------------------------------------------------------------------------------
-> drug = sotrovimab
  106
-------------------------------------------------------------------------------
-> drug = paxlovid
  116
-------------------------------------------------------------------------------
-> drug = molnupiravir
  100

-------------------------------------------------------------------------------
-> drug = control
  4,391
-------------------------------------------------------------------------------
-> drug = sotrovimab
  58
-------------------------------------------------------------------------------
-> drug = paxlovid
  56
-------------------------------------------------------------------------------
-> drug = molnupiravir
  50

-------------------------------------------------------------------------------
-> drug = control
  378
-------------------------------------------------------------------------------
-> drug = sotrovimab
  6
-------------------------------------------------------------------------------
-> drug = paxlovid
  4
-------------------------------------------------------------------------------
-> drug = molnupiravir
  3
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_new_ae_ibd_icd_p
             |          rim
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    19,106      4,688 |    23,794 
  sotrovimab |       222         54 |       276 
    paxlovid |       242         64 |       306 
molnupiravir |       226         53 |       279 
-------------+----------------------+----------
       Total |    19,796      4,859 |    24,655 
new_ae_ra_ae

-------------------------------------------------------------------------------
-> drug = control
  8,628
-------------------------------------------------------------------------------
-> drug = sotrovimab
  90
-------------------------------------------------------------------------------
-> drug = paxlovid
  108
-------------------------------------------------------------------------------
-> drug = molnupiravir
  98

-------------------------------------------------------------------------------
-> drug = control
  4,393
-------------------------------------------------------------------------------
-> drug = sotrovimab
  46
-------------------------------------------------------------------------------
-> drug = paxlovid
  53
-------------------------------------------------------------------------------
-> drug = molnupiravir
  49

-------------------------------------------------------------------------------
-> drug = control
  350
-------------------------------------------------------------------------------
-> drug = sotrovimab
  5
-------------------------------------------------------------------------------
-> drug = paxlovid
  5
-------------------------------------------------------------------------------
-> drug = molnupiravir
  3
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |   fail_new_ae_ra_ae
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    19,198      4,596 |    23,794 
  sotrovimab |       226         50 |       276 
    paxlovid |       246         60 |       306 
molnupiravir |       227         52 |       279 
-------------+----------------------+----------
       Total |    19,897      4,758 |    24,655 
new_ae_sle_ae

-------------------------------------------------------------------------------
-> drug = control
  8,627
-------------------------------------------------------------------------------
-> drug = sotrovimab
  111
-------------------------------------------------------------------------------
-> drug = paxlovid
  111
-------------------------------------------------------------------------------
-> drug = molnupiravir
  95

-------------------------------------------------------------------------------
-> drug = control
  4,378
-------------------------------------------------------------------------------
-> drug = sotrovimab
  53
-------------------------------------------------------------------------------
-> drug = paxlovid
  62
-------------------------------------------------------------------------------
-> drug = molnupiravir
  52

-------------------------------------------------------------------------------
-> drug = control
  387
-------------------------------------------------------------------------------
-> drug = sotrovimab
  4
-------------------------------------------------------------------------------
-> drug = paxlovid
  5
-------------------------------------------------------------------------------
-> drug = molnupiravir
  3
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |  fail_new_ae_sle_ae
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    19,144      4,650 |    23,794 
  sotrovimab |       214         62 |       276 
    paxlovid |       252         54 |       306 
molnupiravir |       233         46 |       279 
-------------+----------------------+----------
       Total |    19,843      4,812 |    24,655 
new_ae_psoriasis_ae

-------------------------------------------------------------------------------
-> drug = control
  8,552
-------------------------------------------------------------------------------
-> drug = sotrovimab
  99
-------------------------------------------------------------------------------
-> drug = paxlovid
  113
-------------------------------------------------------------------------------
-> drug = molnupiravir
  111

-------------------------------------------------------------------------------
-> drug = control
  4,332
-------------------------------------------------------------------------------
-> drug = sotrovimab
  53
-------------------------------------------------------------------------------
-> drug = paxlovid
  54
-------------------------------------------------------------------------------
-> drug = molnupiravir
  57

-------------------------------------------------------------------------------
-> drug = control
  367
-------------------------------------------------------------------------------
-> drug = sotrovimab
  4
-------------------------------------------------------------------------------
-> drug = paxlovid
  6
-------------------------------------------------------------------------------
-> drug = molnupiravir
  6
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_new_ae_psoriasis
             |          _ae
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    19,187      4,607 |    23,794 
  sotrovimab |       226         50 |       276 
    paxlovid |       241         65 |       306 
molnupiravir |       219         60 |       279 
-------------+----------------------+----------
       Total |    19,873      4,782 |    24,655 
new_ae_psa_ae

-------------------------------------------------------------------------------
-> drug = control
  8,600
-------------------------------------------------------------------------------
-> drug = sotrovimab
  86
-------------------------------------------------------------------------------
-> drug = paxlovid
  129
-------------------------------------------------------------------------------
-> drug = molnupiravir
  103

-------------------------------------------------------------------------------
-> drug = control
  4,411
-------------------------------------------------------------------------------
-> drug = sotrovimab
  53
-------------------------------------------------------------------------------
-> drug = paxlovid
  57
-------------------------------------------------------------------------------
-> drug = molnupiravir
  49

-------------------------------------------------------------------------------
-> drug = control
  412
-------------------------------------------------------------------------------
-> drug = sotrovimab
  4
-------------------------------------------------------------------------------
-> drug = paxlovid
  8
-------------------------------------------------------------------------------
-> drug = molnupiravir
  6
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |  fail_new_ae_psa_ae
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    19,179      4,615 |    23,794 
  sotrovimab |       239         37 |       276 
    paxlovid |       226         80 |       306 
molnupiravir |       219         60 |       279 
-------------+----------------------+----------
       Total |    19,863      4,792 |    24,655 
new_ae_axspa_ae

-------------------------------------------------------------------------------
-> drug = control
  8,556
-------------------------------------------------------------------------------
-> drug = sotrovimab
  93
-------------------------------------------------------------------------------
-> drug = paxlovid
  112
-------------------------------------------------------------------------------
-> drug = molnupiravir
  111

-------------------------------------------------------------------------------
-> drug = control
  4,416
-------------------------------------------------------------------------------
-> drug = sotrovimab
  46
-------------------------------------------------------------------------------
-> drug = paxlovid
  48
-------------------------------------------------------------------------------
-> drug = molnupiravir
  53

-------------------------------------------------------------------------------
-> drug = control
  401
-------------------------------------------------------------------------------
-> drug = sotrovimab
  6
-------------------------------------------------------------------------------
-> drug = paxlovid
  3
-------------------------------------------------------------------------------
-> drug = molnupiravir
  7
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             | fail_new_ae_axspa_ae
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    19,235      4,559 |    23,794 
  sotrovimab |       223         53 |       276 
    paxlovid |       239         67 |       306 
molnupiravir |       214         65 |       279 
-------------+----------------------+----------
       Total |    19,911      4,744 |    24,655 
new_ae_ibd_ae

-------------------------------------------------------------------------------
-> drug = control
  8,651
-------------------------------------------------------------------------------
-> drug = sotrovimab
  95
-------------------------------------------------------------------------------
-> drug = paxlovid
  109
-------------------------------------------------------------------------------
-> drug = molnupiravir
  106

-------------------------------------------------------------------------------
-> drug = control
  4,302
-------------------------------------------------------------------------------
-> drug = sotrovimab
  48
-------------------------------------------------------------------------------
-> drug = paxlovid
  57
-------------------------------------------------------------------------------
-> drug = molnupiravir
  56

-------------------------------------------------------------------------------
-> drug = control
  394
-------------------------------------------------------------------------------
-> drug = sotrovimab
  4
-------------------------------------------------------------------------------
-> drug = paxlovid
  2
-------------------------------------------------------------------------------
-> drug = molnupiravir
  6
(24,379 missing values generated)
(306 real changes made)
(279 real changes made)
(23,794 real changes made)

             |  fail_new_ae_ibd_ae
        drug |         0          1 |     Total
-------------+----------------------+----------
     control |    19,035      4,759 |    23,794 
  sotrovimab |       225         51 |       276 
    paxlovid |       252         54 |       306 
molnupiravir |       223         56 |       279 
-------------+----------------------+----------
       Total |    19,735      4,920 |    24,655 

. 
. * Add half-day buffer if outcome on indexdate
. foreach x in    $ae $ae_disease ///
>                                 $ae_spc_gp $ae_spc_icd $ae_spc_emerg ///
>                                 $ae_drug_gp $ae_drug_icd $ae_drug_emerg ///
>                                 $ae_imae_gp $ae_imae_icd $ae_imae_emerg ///
>                                 {
  2.         display "`x'"
  3.         replace `x'=`x'+0.75 if `x'==start_date
  4. }
ae_spc_all
(41 real changes made)
ae_drug_all
(46 real changes made)
ae_imae_all
(39 real changes made)
ae_all
(35 real changes made)
allcause_emerg_aande
(3 real changes made)
covid_hosp_date
(3 real changes made)
all_hosp_date
(2 real changes made)
died_date_ons
(11 real changes made)
ae_diverticulitis
(26 real changes made)
ae_diarrhoea
(40 real changes made)
ae_taste
(16 real changes made)
ae_rash
(36 real changes made)
ae_bronchospasm
(22 real changes made)
ae_contactderm
(33 real changes made)
ae_dizziness
(32 real changes made)
ae_nausea_vomit
(29 real changes made)
ae_headache
(20 real changes made)
ae_anaphylaxis
(27 real changes made)
ae_severe_drug
(44 real changes made)
ae_nonsevere_drug
(20 real changes made)
ae_ra
(30 real changes made)
ae_sle
(32 real changes made)
ae_psorasis
(26 real changes made)
ae_psa
(33 real changes made)
ae_axspa
(19 real changes made)
ae_ibd
(28 real changes made)
ae_diverticulitis_snomed
(13 real changes made)
ae_diarrhoea_snomed
(16 real changes made)
ae_taste_snomed
(5 real changes made)
ae_rash_snomed
(22 real changes made)
ae_bronchospasm_snomed
(22 real changes made)
ae_contactderm_snomed
(20 real changes made)
ae_dizziness_snomed
(16 real changes made)
ae_nausea_vomit_snomed
(15 real changes made)
ae_headache_snomed
(11 real changes made)
ae_diverticulitis_icd_prim
(15 real changes made)
ae_taste_icd_prim
(12 real changes made)
ae_rash_icd_prim
(11 real changes made)
ae_diarrhoea_icd_prim
(21 real changes made)
ae_diarrhoeal_icd_prim
(17 real changes made)
ae_contactderm_icd_prim
(16 real changes made)
ae_dizziness_icd_prim
(13 real changes made)
ae_nausea_vomit_icd_prim
(18 real changes made)
ae_headache_icd_prim
(11 real changes made)
ae_diverticulitis_ae
(15 real changes made)
ae_rash_ae
(18 real changes made)
ae_contactderm_ae
(12 real changes made)
ae_dizziness_ae
(17 real changes made)
ae_headache_ae
(12 real changes made)
ae_anaphylaxis_snomed
(12 real changes made)
ae_severedrug_snomed
(23 real changes made)
ae_nonsevere_drug_snomed
(13 real changes made)
ae_anaphylaxis_icd_prim
(18 real changes made)
ae_severedrug_icd_prim
(20 real changes made)
ae_severedrug_sjs_icd_prim
(18 real changes made)
ae_anaphlaxis_ae
(16 real changes made)
ae_severedrug_ae
(17 real changes made)
ae_nonsevere_drug_ae
(11 real changes made)
new_ae_ra_snomed
(19 real changes made)
new_ae_sle_ctv
(14 real changes made)
new_ae_psoriasis_snomed
(9 real changes made)
new_ae_psa_snomed
(12 real changes made)
new_ae_axspa_ctv
(17 real changes made)
new_ae_ibd_ctv
(8 real changes made)
new_ae_ra_icd_prim
(14 real changes made)
new_ae_sle_icd_prim
(12 real changes made)
new_ae_psoriasis_icd_prim
(15 real changes made)
new_ae_psa_icd_prim
(16 real changes made)
new_ae_axspa_icd_prim
(7 real changes made)
new_ae_ibd_icd_prim
(18 real changes made)
new_ae_ra_ae
(10 real changes made)
new_ae_sle_ae
(19 real changes made)
new_ae_psoriasis_ae
(10 real changes made)
new_ae_psa_ae
(21 real changes made)
new_ae_axspa_ae
(16 real changes made)
new_ae_ibd_ae
(10 real changes made)

. 
. *Generate censor date
. foreach x in    $ae $ae_disease ///
>                                 $ae_spc_gp $ae_spc_icd $ae_spc_emerg ///
>                                 $ae_drug_gp $ae_drug_icd $ae_drug_emerg ///
>                                 $ae_imae_gp $ae_imae_icd $ae_imae_emerg ///
>                                 {
  2.         gen stop_`x'=`x' if fail_`x'==1
  3.         replace stop_`x'=min(death_date,dereg_date,study_end_date,start_da
> te_29,paxlovid,molnupiravir) if fail_`x'==0&drug==1
  4.         replace stop_`x'=min(death_date,dereg_date,study_end_date,start_da
> te_29,sotrovimab,molnupiravir) if fail_`x'==0&drug==2
  5.         replace stop_`x'=min(death_date,dereg_date,study_end_date,start_da
> te_29,sotrovimab,paxlovid) if fail_`x'==0&drug==3
  6.         replace stop_`x'=min(death_date,dereg_date,study_end_date,start_da
> te_29,sotrovimab,paxlovid,molnupiravir) if fail_`x'==0&drug==0
  7.         format %td stop_`x'
  8. }
(1,754 missing values generated)
(15 real changes made)
(20 real changes made)
(18 real changes made)
(1,701 real changes made)
(5,121 missing values generated)
(51 real changes made)
(55 real changes made)
(51 real changes made)
(4,964 real changes made)
(2,785 missing values generated)
(27 real changes made)
(36 real changes made)
(28 real changes made)
(2,694 real changes made)
(598 missing values generated)
(5 real changes made)
(5 real changes made)
(2 real changes made)
(586 real changes made)
(24,066 missing values generated)
(269 real changes made)
(300 real changes made)
(270 real changes made)
(23,227 real changes made)
(23,413 missing values generated)
(259 real changes made)
(294 real changes made)
(268 real changes made)
(22,592 real changes made)
(23,400 missing values generated)
(265 real changes made)
(287 real changes made)
(266 real changes made)
(22,582 real changes made)
(14,326 missing values generated)
(161 real changes made)
(152 real changes made)
(163 real changes made)
(13,850 real changes made)
(12,597 missing values generated)
(150 real changes made)
(145 real changes made)
(138 real changes made)
(12,164 real changes made)
(12,582 missing values generated)
(138 real changes made)
(153 real changes made)
(139 real changes made)
(12,152 real changes made)
(15,422 missing values generated)
(170 real changes made)
(192 real changes made)
(178 real changes made)
(14,882 real changes made)
(12,628 missing values generated)
(122 real changes made)
(164 real changes made)
(141 real changes made)
(12,201 real changes made)
(19,332 missing values generated)
(220 real changes made)
(241 real changes made)
(218 real changes made)
(18,653 real changes made)
(12,639 missing values generated)
(142 real changes made)
(152 real changes made)
(146 real changes made)
(12,199 real changes made)
(12,566 missing values generated)
(132 real changes made)
(146 real changes made)
(131 real changes made)
(12,157 real changes made)
(15,478 missing values generated)
(168 real changes made)
(192 real changes made)
(187 real changes made)
(14,931 real changes made)
(12,627 missing values generated)
(155 real changes made)
(151 real changes made)
(134 real changes made)
(12,187 real changes made)
(12,622 missing values generated)
(143 real changes made)
(160 real changes made)
(144 real changes made)
(12,175 real changes made)
(10,452 missing values generated)
(114 real changes made)
(119 real changes made)
(117 real changes made)
(10,102 real changes made)
(15,416 missing values generated)
(179 real changes made)
(177 real changes made)
(168 real changes made)
(14,892 real changes made)
(13,893 missing values generated)
(164 real changes made)
(168 real changes made)
(162 real changes made)
(13,399 real changes made)
(13,821 missing values generated)
(160 real changes made)
(174 real changes made)
(156 real changes made)
(13,331 real changes made)
(13,717 missing values generated)
(151 real changes made)
(175 real changes made)
(153 real changes made)
(13,238 real changes made)
(13,824 missing values generated)
(162 real changes made)
(165 real changes made)
(156 real changes made)
(13,341 real changes made)
(13,883 missing values generated)
(158 real changes made)
(161 real changes made)
(161 real changes made)
(13,403 real changes made)
(13,750 missing values generated)
(161 real changes made)
(160 real changes made)
(155 real changes made)
(13,274 real changes made)
(19,234 missing values generated)
(210 real changes made)
(228 real changes made)
(226 real changes made)
(18,570 real changes made)
(19,294 missing values generated)
(207 real changes made)
(236 real changes made)
(220 real changes made)
(18,631 real changes made)
(19,315 missing values generated)
(216 real changes made)
(239 real changes made)
(226 real changes made)
(18,634 real changes made)
(19,320 missing values generated)
(201 real changes made)
(241 real changes made)
(218 real changes made)
(18,660 real changes made)
(19,332 missing values generated)
(220 real changes made)
(241 real changes made)
(218 real changes made)
(18,653 real changes made)
(19,346 missing values generated)
(212 real changes made)
(253 real changes made)
(222 real changes made)
(18,659 real changes made)
(19,263 missing values generated)
(214 real changes made)
(234 real changes made)
(213 real changes made)
(18,602 real changes made)
(19,322 missing values generated)
(221 real changes made)
(245 real changes made)
(219 real changes made)
(18,637 real changes made)
(19,376 missing values generated)
(228 real changes made)
(234 real changes made)
(227 real changes made)
(18,687 real changes made)
(19,386 missing values generated)
(226 real changes made)
(247 real changes made)
(221 real changes made)
(18,692 real changes made)
(19,268 missing values generated)
(222 real changes made)
(241 real changes made)
(217 real changes made)
(18,588 real changes made)
(19,259 missing values generated)
(217 real changes made)
(246 real changes made)
(213 real changes made)
(18,583 real changes made)
(19,253 missing values generated)
(212 real changes made)
(243 real changes made)
(219 real changes made)
(18,579 real changes made)
(19,281 missing values generated)
(220 real changes made)
(232 real changes made)
(214 real changes made)
(18,615 real changes made)
(19,333 missing values generated)
(218 real changes made)
(238 real changes made)
(225 real changes made)
(18,652 real changes made)
(19,277 missing values generated)
(226 real changes made)
(231 real changes made)
(210 real changes made)
(18,610 real changes made)
(19,321 missing values generated)
(208 real changes made)
(234 real changes made)
(232 real changes made)
(18,647 real changes made)
(19,317 missing values generated)
(213 real changes made)
(253 real changes made)
(194 real changes made)
(18,657 real changes made)
(19,358 missing values generated)
(223 real changes made)
(230 real changes made)
(213 real changes made)
(18,692 real changes made)
(19,372 missing values generated)
(217 real changes made)
(235 real changes made)
(223 real changes made)
(18,697 real changes made)
(19,338 missing values generated)
(219 real changes made)
(226 real changes made)
(214 real changes made)
(18,679 real changes made)
(19,286 missing values generated)
(202 real changes made)
(237 real changes made)
(217 real changes made)
(18,630 real changes made)
(19,296 missing values generated)
(227 real changes made)
(228 real changes made)
(229 real changes made)
(18,612 real changes made)
(19,257 missing values generated)
(225 real changes made)
(234 real changes made)
(216 real changes made)
(18,582 real changes made)
(19,235 missing values generated)
(216 real changes made)
(234 real changes made)
(223 real changes made)
(18,562 real changes made)
(19,246 missing values generated)
(218 real changes made)
(234 real changes made)
(218 real changes made)
(18,576 real changes made)
(19,314 missing values generated)
(226 real changes made)
(250 real changes made)
(220 real changes made)
(18,618 real changes made)
(19,312 missing values generated)
(219 real changes made)
(244 real changes made)
(216 real changes made)
(18,633 real changes made)
(19,268 missing values generated)
(226 real changes made)
(241 real changes made)
(216 real changes made)
(18,585 real changes made)
(19,273 missing values generated)
(215 real changes made)
(239 real changes made)
(220 real changes made)
(18,599 real changes made)
(19,317 missing values generated)
(215 real changes made)
(238 real changes made)
(223 real changes made)
(18,641 real changes made)
(19,329 missing values generated)
(222 real changes made)
(232 real changes made)
(205 real changes made)
(18,670 real changes made)
(19,802 missing values generated)
(223 real changes made)
(247 real changes made)
(224 real changes made)
(19,108 real changes made)
(19,835 missing values generated)
(230 real changes made)
(234 real changes made)
(223 real changes made)
(19,148 real changes made)
(19,777 missing values generated)
(227 real changes made)
(259 real changes made)
(229 real changes made)
(19,062 real changes made)
(19,861 missing values generated)
(221 real changes made)
(241 real changes made)
(235 real changes made)
(19,164 real changes made)
(19,925 missing values generated)
(220 real changes made)
(247 real changes made)
(239 real changes made)
(19,219 real changes made)
(19,886 missing values generated)
(231 real changes made)
(230 real changes made)
(222 real changes made)
(19,203 real changes made)
(19,933 missing values generated)
(223 real changes made)
(240 real changes made)
(232 real changes made)
(19,238 real changes made)
(19,839 missing values generated)
(225 real changes made)
(249 real changes made)
(222 real changes made)
(19,143 real changes made)
(19,864 missing values generated)
(217 real changes made)
(253 real changes made)
(221 real changes made)
(19,173 real changes made)
(19,855 missing values generated)
(230 real changes made)
(250 real changes made)
(219 real changes made)
(19,156 real changes made)
(19,844 missing values generated)
(226 real changes made)
(229 real changes made)
(229 real changes made)
(19,160 real changes made)
(19,796 missing values generated)
(222 real changes made)
(242 real changes made)
(226 real changes made)
(19,106 real changes made)
(19,897 missing values generated)
(226 real changes made)
(246 real changes made)
(227 real changes made)
(19,198 real changes made)
(19,843 missing values generated)
(214 real changes made)
(252 real changes made)
(233 real changes made)
(19,144 real changes made)
(19,873 missing values generated)
(226 real changes made)
(241 real changes made)
(219 real changes made)
(19,187 real changes made)
(19,863 missing values generated)
(239 real changes made)
(226 real changes made)
(219 real changes made)
(19,179 real changes made)
(19,911 missing values generated)
(223 real changes made)
(239 real changes made)
(214 real changes made)
(19,235 real changes made)
(19,735 missing values generated)
(225 real changes made)
(252 real changes made)
(223 real changes made)
(19,035 real changes made)

. 
. * Follow-up time
. stset stop_ae_all, id(patient_id) origin(time start_date) enter(time start_da
> te) failure(fail_ae_all==1) 

                id:  patient_id
     failure event:  fail_ae_all == 1
obs. time interval:  (stop_ae_all[_n-1], stop_ae_all]
 enter on or after:  time start_date
 exit on or before:  failure
    t for analysis:  (time-origin)
            origin:  time start_date

------------------------------------------------------------------------------
     24,655  total observations
     23,175  observations end on or before enter()
------------------------------------------------------------------------------
      1,480  observations remaining, representing
      1,480  subjects
        887  failures in single-failure-per-subject data
  27,843.25  total analysis time at risk and under observation
                                                at risk from t =         0
                                     earliest observed entry t =         0
                                          last observed exit t =        29

. *count censored due to second therapy*
. count if fail_ae_all==0&drug==1&min(paxlovid,molnupiravir)==stop_ae_all
  0

. count if fail_ae_all==0&drug==2&min(sotrovimab,molnupiravir)==stop_ae_all
  0

. count if fail_ae_all==0&drug==3&min(sotrovimab,paxlovid)==stop_ae_all
  0

. count if fail_ae_all==0&drug==0&min(sotrovimab,paxlovid,molnupiravir)==stop_a
> e_all
  2

. tab _st  // keep if _st==1 -> removes observations that end on or before ente
> r 

1 if record |
   is to be |
    used; 0 |
  otherwise |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |     23,175       94.00       94.00
          1 |      1,480        6.00      100.00
------------+-----------------------------------
      Total |     24,655      100.00

. count if start_date>=stop_ae_all & _st==0
  23,175

. count if start_date==stop_ae_all & _st==0
  3

. tab _t,m

   analysis |
  time when |
record ends |      Freq.     Percent        Cum.
------------+-----------------------------------
        .75 |         35        0.14        0.14
          1 |         39        0.16        0.30
          2 |         43        0.17        0.47
          3 |         42        0.17        0.64
          4 |         48        0.19        0.84
          5 |         48        0.19        1.03
          6 |         47        0.19        1.22
          7 |         27        0.11        1.33
          8 |         41        0.17        1.50
          9 |         31        0.13        1.63
         10 |         34        0.14        1.76
         11 |         30        0.12        1.89
         12 |         24        0.10        1.98
         13 |         20        0.08        2.06
         14 |         31        0.13        2.19
         15 |         36        0.15        2.34
         16 |         38        0.15        2.49
         17 |         24        0.10        2.59
         18 |         25        0.10        2.69
         19 |         26        0.11        2.79
         20 |         20        0.08        2.88
         21 |         24        0.10        2.97
         22 |         24        0.10        3.07
         23 |         27        0.11        3.18
         24 |         24        0.10        3.28
         25 |         26        0.11        3.38
         26 |         12        0.05        3.43
         27 |         24        0.10        3.53
         28 |         25        0.10        3.63
         29 |        585        2.37        6.00
          . |     23,175       94.00      100.00
------------+-----------------------------------
      Total |     24,655      100.00

. tab _t drug,m col

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

  analysis |
 time when |
    record |                    drug
      ends |   control  sotrovima   paxlovid  molnupira |     Total
-----------+--------------------------------------------+----------
       .75 |        34          1          0          0 |        35 
           |      0.14       0.36       0.00       0.00 |      0.14 
-----------+--------------------------------------------+----------
         1 |        39          0          0          0 |        39 
           |      0.16       0.00       0.00       0.00 |      0.16 
-----------+--------------------------------------------+----------
         2 |        41          1          1          0 |        43 
           |      0.17       0.36       0.33       0.00 |      0.17 
-----------+--------------------------------------------+----------
         3 |        40          1          0          1 |        42 
           |      0.17       0.36       0.00       0.36 |      0.17 
-----------+--------------------------------------------+----------
         4 |        47          0          0          1 |        48 
           |      0.20       0.00       0.00       0.36 |      0.19 
-----------+--------------------------------------------+----------
         5 |        47          0          0          1 |        48 
           |      0.20       0.00       0.00       0.36 |      0.19 
-----------+--------------------------------------------+----------
         6 |        47          0          0          0 |        47 
           |      0.20       0.00       0.00       0.00 |      0.19 
-----------+--------------------------------------------+----------
         7 |        27          0          0          0 |        27 
           |      0.11       0.00       0.00       0.00 |      0.11 
-----------+--------------------------------------------+----------
         8 |        41          0          0          0 |        41 
           |      0.17       0.00       0.00       0.00 |      0.17 
-----------+--------------------------------------------+----------
         9 |        31          0          0          0 |        31 
           |      0.13       0.00       0.00       0.00 |      0.13 
-----------+--------------------------------------------+----------
        10 |        33          0          0          1 |        34 
           |      0.14       0.00       0.00       0.36 |      0.14 
-----------+--------------------------------------------+----------
        11 |        28          0          1          1 |        30 
           |      0.12       0.00       0.33       0.36 |      0.12 
-----------+--------------------------------------------+----------
        12 |        24          0          0          0 |        24 
           |      0.10       0.00       0.00       0.00 |      0.10 
-----------+--------------------------------------------+----------
        13 |        20          0          0          0 |        20 
           |      0.08       0.00       0.00       0.00 |      0.08 
-----------+--------------------------------------------+----------
        14 |        31          0          0          0 |        31 
           |      0.13       0.00       0.00       0.00 |      0.13 
-----------+--------------------------------------------+----------
        15 |        35          0          1          0 |        36 
           |      0.15       0.00       0.33       0.00 |      0.15 
-----------+--------------------------------------------+----------
        16 |        36          1          1          0 |        38 
           |      0.15       0.36       0.33       0.00 |      0.15 
-----------+--------------------------------------------+----------
        17 |        24          0          0          0 |        24 
           |      0.10       0.00       0.00       0.00 |      0.10 
-----------+--------------------------------------------+----------
        18 |        25          0          0          0 |        25 
           |      0.11       0.00       0.00       0.00 |      0.10 
-----------+--------------------------------------------+----------
        19 |        25          0          0          1 |        26 
           |      0.11       0.00       0.00       0.36 |      0.11 
-----------+--------------------------------------------+----------
        20 |        20          0          0          0 |        20 
           |      0.08       0.00       0.00       0.00 |      0.08 
-----------+--------------------------------------------+----------
        21 |        24          0          0          0 |        24 
           |      0.10       0.00       0.00       0.00 |      0.10 
-----------+--------------------------------------------+----------
        22 |        24          0          0          0 |        24 
           |      0.10       0.00       0.00       0.00 |      0.10 
-----------+--------------------------------------------+----------
        23 |        26          0          1          0 |        27 
           |      0.11       0.00       0.33       0.00 |      0.11 
-----------+--------------------------------------------+----------
        24 |        24          0          0          0 |        24 
           |      0.10       0.00       0.00       0.00 |      0.10 
-----------+--------------------------------------------+----------
        25 |        26          0          0          0 |        26 
           |      0.11       0.00       0.00       0.00 |      0.11 
-----------+--------------------------------------------+----------
        26 |        11          0          0          1 |        12 
           |      0.05       0.00       0.00       0.36 |      0.05 
-----------+--------------------------------------------+----------
        27 |        21          2          1          0 |        24 
           |      0.09       0.72       0.33       0.00 |      0.10 
-----------+--------------------------------------------+----------
        28 |        25          0          0          0 |        25 
           |      0.11       0.00       0.00       0.00 |      0.10 
-----------+--------------------------------------------+----------
        29 |       573          5          5          2 |       585 
           |      2.41       1.81       1.63       0.72 |      2.37 
-----------+--------------------------------------------+----------
         . |    22,345        265        295        270 |    23,175 
           |     93.91      96.01      96.41      96.77 |     94.00 
-----------+--------------------------------------------+----------
     Total |    23,794        276        306        279 |    24,655 
           |    100.00     100.00     100.00     100.00 |    100.00 

. tab _t drug if fail_ae_all==1,m col

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

  analysis |
 time when |
    record |                    drug
      ends |   control  sotrovima   paxlovid  molnupira |     Total
-----------+--------------------------------------------+----------
       .75 |        34          1          0          0 |        35 
           |      0.15       0.37       0.00       0.00 |      0.15 
-----------+--------------------------------------------+----------
         1 |        35          0          0          0 |        35 
           |      0.15       0.00       0.00       0.00 |      0.15 
-----------+--------------------------------------------+----------
         2 |        36          1          1          0 |        38 
           |      0.16       0.37       0.33       0.00 |      0.16 
-----------+--------------------------------------------+----------
         3 |        34          1          0          1 |        36 
           |      0.15       0.37       0.00       0.36 |      0.15 
-----------+--------------------------------------------+----------
         4 |        40          0          0          1 |        41 
           |      0.17       0.00       0.00       0.36 |      0.17 
-----------+--------------------------------------------+----------
         5 |        44          0          0          1 |        45 
           |      0.19       0.00       0.00       0.36 |      0.19 
-----------+--------------------------------------------+----------
         6 |        46          0          0          0 |        46 
           |      0.20       0.00       0.00       0.00 |      0.19 
-----------+--------------------------------------------+----------
         7 |        27          0          0          0 |        27 
           |      0.12       0.00       0.00       0.00 |      0.11 
-----------+--------------------------------------------+----------
         8 |        41          0          0          0 |        41 
           |      0.18       0.00       0.00       0.00 |      0.17 
-----------+--------------------------------------------+----------
         9 |        31          0          0          0 |        31 
           |      0.13       0.00       0.00       0.00 |      0.13 
-----------+--------------------------------------------+----------
        10 |        33          0          0          1 |        34 
           |      0.14       0.00       0.00       0.36 |      0.14 
-----------+--------------------------------------------+----------
        11 |        28          0          1          1 |        30 
           |      0.12       0.00       0.33       0.36 |      0.12 
-----------+--------------------------------------------+----------
        12 |        24          0          0          0 |        24 
           |      0.10       0.00       0.00       0.00 |      0.10 
-----------+--------------------------------------------+----------
        13 |        20          0          0          0 |        20 
           |      0.09       0.00       0.00       0.00 |      0.08 
-----------+--------------------------------------------+----------
        14 |        31          0          0          0 |        31 
           |      0.13       0.00       0.00       0.00 |      0.13 
-----------+--------------------------------------------+----------
        15 |        35          0          1          0 |        36 
           |      0.15       0.00       0.33       0.00 |      0.15 
-----------+--------------------------------------------+----------
        16 |        36          1          1          0 |        38 
           |      0.16       0.37       0.33       0.00 |      0.16 
-----------+--------------------------------------------+----------
        17 |        24          0          0          0 |        24 
           |      0.10       0.00       0.00       0.00 |      0.10 
-----------+--------------------------------------------+----------
        18 |        25          0          0          0 |        25 
           |      0.11       0.00       0.00       0.00 |      0.10 
-----------+--------------------------------------------+----------
        19 |        25          0          0          1 |        26 
           |      0.11       0.00       0.00       0.36 |      0.11 
-----------+--------------------------------------------+----------
        20 |        20          0          0          0 |        20 
           |      0.09       0.00       0.00       0.00 |      0.08 
-----------+--------------------------------------------+----------
        21 |        24          0          0          0 |        24 
           |      0.10       0.00       0.00       0.00 |      0.10 
-----------+--------------------------------------------+----------
        22 |        24          0          0          0 |        24 
           |      0.10       0.00       0.00       0.00 |      0.10 
-----------+--------------------------------------------+----------
        23 |        26          0          1          0 |        27 
           |      0.11       0.00       0.33       0.00 |      0.11 
-----------+--------------------------------------------+----------
        24 |        24          0          0          0 |        24 
           |      0.10       0.00       0.00       0.00 |      0.10 
-----------+--------------------------------------------+----------
        25 |        26          0          0          0 |        26 
           |      0.11       0.00       0.00       0.00 |      0.11 
-----------+--------------------------------------------+----------
        26 |        11          0          0          1 |        12 
           |      0.05       0.00       0.00       0.36 |      0.05 
-----------+--------------------------------------------+----------
        27 |        21          2          1          0 |        24 
           |      0.09       0.74       0.33       0.00 |      0.10 
-----------+--------------------------------------------+----------
        28 |        25          0          0          0 |        25 
           |      0.11       0.00       0.00       0.00 |      0.10 
-----------+--------------------------------------------+----------
        29 |        18          0          0          0 |        18 
           |      0.08       0.00       0.00       0.00 |      0.07 
-----------+--------------------------------------------+----------
         . |    22,340        265        295        270 |    23,170 
           |     96.26      97.79      98.01      97.47 |     96.31 
-----------+--------------------------------------------+----------
     Total |    23,208        271        301        277 |    24,057 
           |    100.00     100.00     100.00     100.00 |    100.00 

. tab _t drug if fail_ae_all==1&stop_ae_all==ae_all

  analysis |
 time when |
    record |                    drug
      ends |   control  sotrovima   paxlovid  molnupira |     Total
-----------+--------------------------------------------+----------
       .75 |        34          1          0          0 |        35 
         1 |        35          0          0          0 |        35 
         2 |        36          1          1          0 |        38 
         3 |        34          1          0          1 |        36 
         4 |        40          0          0          1 |        41 
         5 |        44          0          0          1 |        45 
         6 |        46          0          0          0 |        46 
         7 |        27          0          0          0 |        27 
         8 |        41          0          0          0 |        41 
         9 |        31          0          0          0 |        31 
        10 |        33          0          0          1 |        34 
        11 |        28          0          1          1 |        30 
        12 |        24          0          0          0 |        24 
        13 |        20          0          0          0 |        20 
        14 |        31          0          0          0 |        31 
        15 |        35          0          1          0 |        36 
        16 |        36          1          1          0 |        38 
        17 |        24          0          0          0 |        24 
        18 |        25          0          0          0 |        25 
        19 |        25          0          0          1 |        26 
        20 |        20          0          0          0 |        20 
        21 |        24          0          0          0 |        24 
        22 |        24          0          0          0 |        24 
        23 |        26          0          1          0 |        27 
        24 |        24          0          0          0 |        24 
        25 |        26          0          0          0 |        26 
        26 |        11          0          0          1 |        12 
        27 |        21          2          1          0 |        24 
        28 |        25          0          0          0 |        25 
        29 |        18          0          0          0 |        18 
-----------+--------------------------------------------+----------
     Total |       868          6          6          7 |       887 

. tab fail_ae_all drug,m col

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

fail_ae_al |                    drug
         l |   control  sotrovima   paxlovid  molnupira |     Total
-----------+--------------------------------------------+----------
         0 |       586          5          5          2 |       598 
           |      2.46       1.81       1.63       0.72 |      2.43 
-----------+--------------------------------------------+----------
         1 |    23,208        271        301        277 |    24,057 
           |     97.54      98.19      98.37      99.28 |     97.57 
-----------+--------------------------------------------+----------
     Total |    23,794        276        306        279 |    24,655 
           |    100.00     100.00     100.00     100.00 |    100.00 

. *check censor reasons*
. tab _t drug if fail_ae_all==0&_t<28&stop_ae_all==ae_all,m col
no observations

. tab _t drug if fail_ae_all==0&_t<28&stop_ae_all==death_date,m col

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

  analysis |
 time when |
    record |    drug
      ends |   control |     Total
-----------+-----------+----------
         1 |         3 |         3 
           |     21.43 |     21.43 
-----------+-----------+----------
         2 |         2 |         2 
           |     14.29 |     14.29 
-----------+-----------+----------
         3 |         3 |         3 
           |     21.43 |     21.43 
-----------+-----------+----------
         4 |         3 |         3 
           |     21.43 |     21.43 
-----------+-----------+----------
         5 |         2 |         2 
           |     14.29 |     14.29 
-----------+-----------+----------
         6 |         1 |         1 
           |      7.14 |      7.14 
-----------+-----------+----------
     Total |        14 |        14 
           |    100.00 |    100.00 

. tab _t drug if fail_ae_all==0&_t<28&stop_ae_all==dereg_date,m col

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

  analysis |
 time when |
    record |    drug
      ends |   control |     Total
-----------+-----------+----------
         1 |         1 |         1 
           |      8.33 |      8.33 
-----------+-----------+----------
         2 |         3 |         3 
           |     25.00 |     25.00 
-----------+-----------+----------
         3 |         3 |         3 
           |     25.00 |     25.00 
-----------+-----------+----------
         4 |         4 |         4 
           |     33.33 |     33.33 
-----------+-----------+----------
         5 |         1 |         1 
           |      8.33 |      8.33 
-----------+-----------+----------
     Total |        12 |        12 
           |    100.00 |    100.00 

. tab _t drug if fail_ae_all==0&_t<28&stop_ae_all==min(paxlovid,molnupiravir)&d
> rug==1,m col
no observations

. tab _t drug if fail_ae_all==0&_t<28&stop_ae_all==min(sotrovimab,molnupiravir)
> &drug==2,m col
no observations

. tab _t drug if fail_ae_all==0&_t<28&stop_ae_all==min(sotrovimab,paxlovid)&dru
> g==3,m col
no observations

. tab _t drug if fail_ae_all==0&_t<28&stop_ae_all==min(sotrovimab,paxlovid,moln
> upiravir)&drug==0,m col
no observations

. 
. 
. save "$projectdir/output/data/main.dta", replace
(note: file /workspace/output/data/main.dta not found)
file /workspace/output/data/main.dta saved

. 
. log close
      name:  <unnamed>
       log:  /workspace/logs/cleaning_dataset_combine.log
  log type:  text
 closed on:   6 Sep 2023, 11:31:00
-------------------------------------------------------------------------------
